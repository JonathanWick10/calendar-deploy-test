(function(e){function t(t){for(var r,c,i=t[0],l=t[1],u=t[2],s=0,f=[];s<i.length;s++)c=i[s],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/static/apps/calendar/staging/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0118":function(e,t,n){"use strict";n("1496")},"01c8":function(e,t,n){"use strict";n("af27")},"05d3":function(e,t,n){},"07ee":function(e,t,n){},"0b8e":function(e,t,n){},1496:function(e,t,n){},"21da":function(e,t,n){"use strict";n("b4c5")},"2e59":function(e,t,n){"use strict";n("05d3")},"455f":function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="4678"},"548e":function(e,t,n){"use strict";n("b751")},a3f9:function(e,t,n){"use strict";n("455f")},a8ee:function(e,t,n){"use strict";n("07ee")},af27:function(e,t,n){},b07d:function(e){e.exports=JSON.parse('{"Pacific/Niue":"(GMT-11:00) Niue","Pacific/Pago_Pago":"(GMT-11:00) Pago Pago","Pacific/Honolulu":"(GMT-10:00) Hawaii Time","Pacific/Rarotonga":"(GMT-10:00) Rarotonga","Pacific/Tahiti":"(GMT-10:00) Tahiti","Pacific/Marquesas":"(GMT-09:30) Marquesas","America/Anchorage":"(GMT-09:00) Alaska Time","Pacific/Gambier":"(GMT-09:00) Gambier","America/Los_Angeles":"(GMT-08:00) Pacific Time","America/Tijuana":"(GMT-08:00) Pacific Time - Tijuana","America/Vancouver":"(GMT-08:00) Pacific Time - Vancouver","America/Whitehorse":"(GMT-08:00) Pacific Time - Whitehorse","Pacific/Pitcairn":"(GMT-08:00) Pitcairn","America/Dawson_Creek":"(GMT-07:00) Mountain Time - Dawson Creek","America/Denver":"(GMT-07:00) Mountain Time","America/Edmonton":"(GMT-07:00) Mountain Time - Edmonton","America/Hermosillo":"(GMT-07:00) Mountain Time - Hermosillo","America/Mazatlan":"(GMT-07:00) Mountain Time - Chihuahua, Mazatlan","America/Phoenix":"(GMT-07:00) Mountain Time - Arizona","America/Yellowknife":"(GMT-07:00) Mountain Time - Yellowknife","America/Belize":"(GMT-06:00) Belize","America/Chicago":"(GMT-06:00) Central Time","America/Costa_Rica":"(GMT-06:00) Costa Rica","America/El_Salvador":"(GMT-06:00) El Salvador","America/Guatemala":"(GMT-06:00) Guatemala","America/Managua":"(GMT-06:00) Managua","America/Mexico_City":"(GMT-06:00) Central Time - Mexico City","America/Regina":"(GMT-06:00) Central Time - Regina","America/Tegucigalpa":"(GMT-06:00) Central Time - Tegucigalpa","America/Winnipeg":"(GMT-06:00) Central Time - Winnipeg","Pacific/Galapagos":"(GMT-06:00) Galapagos","America/Bogota":"(GMT-05:00) Bogota","America/Cancun":"(GMT-05:00) America Cancun","America/Cayman":"(GMT-05:00) Cayman","America/Guayaquil":"(GMT-05:00) Guayaquil","America/Havana":"(GMT-05:00) Havana","America/Iqaluit":"(GMT-05:00) Eastern Time - Iqaluit","America/Jamaica":"(GMT-05:00) Jamaica","America/Lima":"(GMT-05:00) Lima","America/Nassau":"(GMT-05:00) Nassau","America/New_York":"(GMT-05:00) Eastern Time","America/Panama":"(GMT-05:00) Panama","America/Port-au-Prince":"(GMT-05:00) Port-au-Prince","America/Rio_Branco":"(GMT-05:00) Rio Branco","America/Toronto":"(GMT-05:00) Eastern Time - Toronto","Pacific/Easter":"(GMT-05:00) Easter Island","America/Caracas":"(GMT-04:30) Caracas","America/Asuncion":"(GMT-03:00) Asuncion","America/Barbados":"(GMT-04:00) Barbados","America/Boa_Vista":"(GMT-04:00) Boa Vista","America/Campo_Grande":"(GMT-03:00) Campo Grande","America/Cuiaba":"(GMT-03:00) Cuiaba","America/Curacao":"(GMT-04:00) Curacao","America/Grand_Turk":"(GMT-04:00) Grand Turk","America/Guyana":"(GMT-04:00) Guyana","America/Halifax":"(GMT-04:00) Atlantic Time - Halifax","America/La_Paz":"(GMT-04:00) La Paz","America/Manaus":"(GMT-04:00) Manaus","America/Martinique":"(GMT-04:00) Martinique","America/Port_of_Spain":"(GMT-04:00) Port of Spain","America/Porto_Velho":"(GMT-04:00) Porto Velho","America/Puerto_Rico":"(GMT-04:00) Puerto Rico","America/Santo_Domingo":"(GMT-04:00) Santo Domingo","America/Thule":"(GMT-04:00) Thule","Atlantic/Bermuda":"(GMT-04:00) Bermuda","America/St_Johns":"(GMT-03:30) Newfoundland Time - St. Johns","America/Araguaina":"(GMT-03:00) Araguaina","America/Argentina/Buenos_Aires":"(GMT-03:00) Buenos Aires","America/Bahia":"(GMT-03:00) Salvador","America/Belem":"(GMT-03:00) Belem","America/Cayenne":"(GMT-03:00) Cayenne","America/Fortaleza":"(GMT-03:00) Fortaleza","America/Godthab":"(GMT-03:00) Godthab","America/Maceio":"(GMT-03:00) Maceio","America/Miquelon":"(GMT-03:00) Miquelon","America/Montevideo":"(GMT-03:00) Montevideo","America/Paramaribo":"(GMT-03:00) Paramaribo","America/Recife":"(GMT-03:00) Recife","America/Santiago":"(GMT-03:00) Santiago","America/Sao_Paulo":"(GMT-02:00) Sao Paulo","Antarctica/Palmer":"(GMT-03:00) Palmer","Antarctica/Rothera":"(GMT-03:00) Rothera","Atlantic/Stanley":"(GMT-03:00) Stanley","America/Noronha":"(GMT-02:00) Noronha","Atlantic/South_Georgia":"(GMT-02:00) South Georgia","America/Scoresbysund":"(GMT-01:00) Scoresbysund","Atlantic/Azores":"(GMT-01:00) Azores","Atlantic/Cape_Verde":"(GMT-01:00) Cape Verde","Africa/Abidjan":"(GMT+00:00) Abidjan","Africa/Accra":"(GMT+00:00) Accra","Africa/Bissau":"(GMT+00:00) Bissau","Africa/Casablanca":"(GMT+00:00) Casablanca","Africa/El_Aaiun":"(GMT+00:00) El Aaiun","Africa/Monrovia":"(GMT+00:00) Monrovia","America/Danmarkshavn":"(GMT+00:00) Danmarkshavn","Atlantic/Canary":"(GMT+00:00) Canary Islands","Atlantic/Faroe":"(GMT+00:00) Faeroe","Atlantic/Reykjavik":"(GMT+00:00) Reykjavik","Etc/GMT":"(GMT+00:00) GMT","Europe/Dublin":"(GMT+00:00) Dublin","Europe/Lisbon":"(GMT+00:00) Lisbon","Europe/London":"(GMT+00:00) London","Africa/Algiers":"(GMT+01:00) Algiers","Africa/Ceuta":"(GMT+01:00) Ceuta","Africa/Lagos":"(GMT+01:00) Lagos","Africa/Ndjamena":"(GMT+01:00) Ndjamena","Africa/Tunis":"(GMT+01:00) Tunis","Africa/Windhoek":"(GMT+02:00) Windhoek","Europe/Amsterdam":"(GMT+01:00) Amsterdam","Europe/Andorra":"(GMT+01:00) Andorra","Europe/Belgrade":"(GMT+01:00) Central European Time - Belgrade","Europe/Berlin":"(GMT+01:00) Berlin","Europe/Brussels":"(GMT+01:00) Brussels","Europe/Budapest":"(GMT+01:00) Budapest","Europe/Copenhagen":"(GMT+01:00) Copenhagen","Europe/Gibraltar":"(GMT+01:00) Gibraltar","Europe/Luxembourg":"(GMT+01:00) Luxembourg","Europe/Madrid":"(GMT+01:00) Madrid","Europe/Malta":"(GMT+01:00) Malta","Europe/Monaco":"(GMT+01:00) Monaco","Europe/Oslo":"(GMT+01:00) Oslo","Europe/Paris":"(GMT+01:00) Paris","Europe/Prague":"(GMT+01:00) Central European Time - Prague","Europe/Rome":"(GMT+01:00) Rome","Europe/Stockholm":"(GMT+01:00) Stockholm","Europe/Tirane":"(GMT+01:00) Tirane","Europe/Vienna":"(GMT+01:00) Vienna","Europe/Warsaw":"(GMT+01:00) Warsaw","Europe/Zurich":"(GMT+01:00) Zurich","Africa/Cairo":"(GMT+02:00) Cairo","Africa/Johannesburg":"(GMT+02:00) Johannesburg","Africa/Maputo":"(GMT+02:00) Maputo","Africa/Tripoli":"(GMT+02:00) Tripoli","Asia/Amman":"(GMT+02:00) Amman","Asia/Beirut":"(GMT+02:00) Beirut","Asia/Damascus":"(GMT+02:00) Damascus","Asia/Gaza":"(GMT+02:00) Gaza","Asia/Jerusalem":"(GMT+02:00) Jerusalem","Asia/Nicosia":"(GMT+02:00) Nicosia","Europe/Athens":"(GMT+02:00) Athens","Europe/Bucharest":"(GMT+02:00) Bucharest","Europe/Chisinau":"(GMT+02:00) Chisinau","Europe/Helsinki":"(GMT+02:00) Helsinki","Europe/Istanbul":"(GMT+02:00) Istanbul","Europe/Kaliningrad":"(GMT+02:00) Moscow-01 - Kaliningrad","Europe/Kiev":"(GMT+02:00) Kiev","Europe/Riga":"(GMT+02:00) Riga","Europe/Sofia":"(GMT+02:00) Sofia","Europe/Tallinn":"(GMT+02:00) Tallinn","Europe/Vilnius":"(GMT+02:00) Vilnius","Africa/Khartoum":"(GMT+03:00) Khartoum","Africa/Nairobi":"(GMT+03:00) Nairobi","Antarctica/Syowa":"(GMT+03:00) Syowa","Asia/Baghdad":"(GMT+03:00) Baghdad","Asia/Qatar":"(GMT+03:00) Qatar","Asia/Riyadh":"(GMT+03:00) Riyadh","Europe/Minsk":"(GMT+03:00) Minsk","Europe/Moscow":"(GMT+03:00) Moscow+00 - Moscow","Asia/Tehran":"(GMT+03:30) Tehran","Asia/Baku":"(GMT+04:00) Baku","Asia/Dubai":"(GMT+04:00) Dubai","Asia/Tbilisi":"(GMT+04:00) Tbilisi","Asia/Yerevan":"(GMT+04:00) Yerevan","Europe/Samara":"(GMT+04:00) Moscow+01 - Samara","Indian/Mahe":"(GMT+04:00) Mahe","Indian/Mauritius":"(GMT+04:00) Mauritius","Indian/Reunion":"(GMT+04:00) Reunion","Asia/Kabul":"(GMT+04:30) Kabul","Antarctica/Mawson":"(GMT+05:00) Mawson","Asia/Aqtau":"(GMT+05:00) Aqtau","Asia/Aqtobe":"(GMT+05:00) Aqtobe","Asia/Ashgabat":"(GMT+05:00) Ashgabat","Asia/Dushanbe":"(GMT+05:00) Dushanbe","Asia/Karachi":"(GMT+05:00) Karachi","Asia/Tashkent":"(GMT+05:00) Tashkent","Asia/Yekaterinburg":"(GMT+05:00) Moscow+02 - Yekaterinburg","Indian/Kerguelen":"(GMT+05:00) Kerguelen","Indian/Maldives":"(GMT+05:00) Maldives","Asia/Calcutta":"(GMT+05:30) India Standard Time","Asia/Colombo":"(GMT+05:30) Colombo","Asia/Katmandu":"(GMT+05:45) Katmandu","Antarctica/Vostok":"(GMT+06:00) Vostok","Asia/Almaty":"(GMT+06:00) Almaty","Asia/Bishkek":"(GMT+06:00) Bishkek","Asia/Dhaka":"(GMT+06:00) Dhaka","Asia/Omsk":"(GMT+06:00) Moscow+03 - Omsk, Novosibirsk","Asia/Thimphu":"(GMT+06:00) Thimphu","Indian/Chagos":"(GMT+06:00) Chagos","Asia/Rangoon":"(GMT+06:30) Rangoon","Indian/Cocos":"(GMT+06:30) Cocos","Antarctica/Davis":"(GMT+07:00) Davis","Asia/Bangkok":"(GMT+07:00) Bangkok","Asia/Hovd":"(GMT+07:00) Hovd","Asia/Jakarta":"(GMT+07:00) Jakarta","Asia/Krasnoyarsk":"(GMT+07:00) Moscow+04 - Krasnoyarsk","Asia/Saigon":"(GMT+07:00) Hanoi","Asia/Ho_Chi_Minh":"(GMT+07:00) Ho Chi Minh","Indian/Christmas":"(GMT+07:00) Christmas","Antarctica/Casey":"(GMT+08:00) Casey","Asia/Brunei":"(GMT+08:00) Brunei","Asia/Choibalsan":"(GMT+08:00) Choibalsan","Asia/Hong_Kong":"(GMT+08:00) Hong Kong","Asia/Irkutsk":"(GMT+08:00) Moscow+05 - Irkutsk","Asia/Kuala_Lumpur":"(GMT+08:00) Kuala Lumpur","Asia/Macau":"(GMT+08:00) Macau","Asia/Makassar":"(GMT+08:00) Makassar","Asia/Manila":"(GMT+08:00) Manila","Asia/Shanghai":"(GMT+08:00) China Time - Beijing","Asia/Singapore":"(GMT+08:00) Singapore","Asia/Taipei":"(GMT+08:00) Taipei","Asia/Ulaanbaatar":"(GMT+08:00) Ulaanbaatar","Australia/Perth":"(GMT+08:00) Western Time - Perth","Asia/Pyongyang":"(GMT+08:30) Pyongyang","Asia/Dili":"(GMT+09:00) Dili","Asia/Jayapura":"(GMT+09:00) Jayapura","Asia/Seoul":"(GMT+09:00) Seoul","Asia/Tokyo":"(GMT+09:00) Tokyo","Asia/Yakutsk":"(GMT+09:00) Moscow+06 - Yakutsk","Pacific/Palau":"(GMT+09:00) Palau","Australia/Adelaide":"(GMT+10:30) Central Time - Adelaide","Australia/Darwin":"(GMT+09:30) Central Time - Darwin","Antarctica/DumontDUrville":"(GMT+10:00) Dumont D\'Urville","Asia/Magadan":"(GMT+10:00) Moscow+07 - Magadan","Asia/Vladivostok":"(GMT+10:00) Moscow+07 - Yuzhno-Sakhalinsk","Australia/Brisbane":"(GMT+10:00) Eastern Time - Brisbane","Australia/Hobart":"(GMT+11:00) Eastern Time - Hobart","Australia/Sydney":"(GMT+11:00) Eastern Time - Melbourne, Sydney","Pacific/Chuuk":"(GMT+10:00) Truk","Pacific/Guam":"(GMT+10:00) Guam","Pacific/Port_Moresby":"(GMT+10:00) Port Moresby","Pacific/Efate":"(GMT+11:00) Efate","Pacific/Guadalcanal":"(GMT+11:00) Guadalcanal","Pacific/Kosrae":"(GMT+11:00) Kosrae","Pacific/Norfolk":"(GMT+11:00) Norfolk","Pacific/Noumea":"(GMT+11:00) Noumea","Pacific/Pohnpei":"(GMT+11:00) Ponape","Asia/Kamchatka":"(GMT+12:00) Moscow+09 - Petropavlovsk-Kamchatskiy","Pacific/Auckland":"(GMT+13:00) Auckland","Pacific/Fiji":"(GMT+13:00) Fiji","Pacific/Funafuti":"(GMT+12:00) Funafuti","Pacific/Kwajalein":"(GMT+12:00) Kwajalein","Pacific/Majuro":"(GMT+12:00) Majuro","Pacific/Nauru":"(GMT+12:00) Nauru","Pacific/Tarawa":"(GMT+12:00) Tarawa","Pacific/Wake":"(GMT+12:00) Wake","Pacific/Wallis":"(GMT+12:00) Wallis","Pacific/Apia":"(GMT+14:00) Apia","Pacific/Enderbury":"(GMT+13:00) Enderbury","Pacific/Fakaofo":"(GMT+13:00) Fakaofo","Pacific/Tongatapu":"(GMT+13:00) Tongatapu","Pacific/Kiritimati":"(GMT+14:00) Kiritimati"}')},b4c5:function(e,t,n){},b4ed:function(e,t,n){},b751:function(e,t,n){},b7b4:function(e,t,n){"use strict";n("e795")},c1c3:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getMomentInstance",(function(){return $e})),n.d(r,"getWeeksOfMonth",(function(){return Ye})),n.d(r,"getCurrentWeekOfMonth",(function(){return We})),n.d(r,"getDayPositionOfMonth",(function(){return He})),n.d(r,"getDateByPositionInMonth",(function(){return Ke})),n.d(r,"dateUTCToTimezone",(function(){return Ze})),n.d(r,"formatTimezoneHours",(function(){return Je})),n.d(r,"generateTimezoneLabel",(function(){return Qe})),n.d(r,"getWeekday",(function(){return Xe})),n.d(r,"eventApiDateToEventZone",(function(){return et}));var a={};n.r(a),n.d(a,"formatEventDayByAllDay",(function(){return gt})),n.d(a,"getRecurrenceNewMonth",(function(){return Ct})),n.d(a,"isRecurrenceMonthlyByDay",(function(){return wt})),n.d(a,"dayStringToNumeric",(function(){return kt})),n.d(a,"dayNumericToString",(function(){return Et})),n.d(a,"getFullDay",(function(){return Tt})),n.d(a,"byweekdayPropToStr",(function(){return St})),n.d(a,"byweekdayFromUIToBackend",(function(){return Nt})),n.d(a,"byweekdayFromBackendToUI",(function(){return xt})),n.d(a,"formatEventToFullCalendar",(function(){return Vt})),n.d(a,"formatBackendEvent",(function(){return Mt})),n.d(a,"getCurrentAvailableTimeRange",(function(){return Dt})),n.d(a,"convertOffsetTimeToUTC",(function(){return At})),n.d(a,"formatEventDates",(function(){return It})),n.d(a,"freqToRRuleFrequency",(function(){return Gt})),n.d(a,"getRuleDates",(function(){return Pt})),n.d(a,"getFormattedRuleDates",(function(){return Rt})),n.d(a,"getDatesDaysDiff",(function(){return Ft})),n.d(a,"getRecurrenceDatesRange",(function(){return Lt})),n.d(a,"getRuleMatches",(function(){return zt})),n.d(a,"isFirstEventOfRecurrence",(function(){return qt})),n.d(a,"isLastEventOfRecurrence",(function(){return Ut})),n.d(a,"isDurationDifferent",(function(){return $t})),n.d(a,"getSelectedWeekdaysShort",(function(){return Yt})),n.d(a,"generateEventDuration",(function(){return Wt})),n.d(a,"isDurationEmpty",(function(){return Ht})),n.d(a,"getDaysOfDuration",(function(){return Kt})),n.d(a,"updateDateFromDuration",(function(){return Zt})),n.d(a,"subtractDate",(function(){return Jt})),n.d(a,"updateWeekday",(function(){return Qt})),n.d(a,"updateByweekdayProp",(function(){return Xt})),n.d(a,"getWeekNumberNameInMonth",(function(){return en})),n.d(a,"splitEventExclusions",(function(){return tn}));var o={};n.r(o),n.d(o,"searchEvents",(function(){return Pn})),n.d(o,"getCalendars",(function(){return Rn})),n.d(o,"getEvents",(function(){return Fn})),n.d(o,"getEventsFromOneCalendar",(function(){return Ln})),n.d(o,"updateCalendarVisibility",(function(){return zn})),n.d(o,"updateCalendar",(function(){return qn})),n.d(o,"createCalendar",(function(){return Un})),n.d(o,"createEvent",(function(){return $n})),n.d(o,"updateEvents",(function(){return Yn})),n.d(o,"deleteEvents",(function(){return Wn})),n.d(o,"setPermission",(function(){return Hn})),n.d(o,"revokePermission",(function(){return Kn})),n.d(o,"removeCalendar",(function(){return Zn}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),i={key:0,class:"center"},l={key:1,style:{margin:"10px"}},u={key:2,class:"center"};function d(e,t,n,r,a,o){var d=Object(c["resolveComponent"])("ASpin"),s=Object(c["resolveComponent"])("Calendar"),f=Object(c["resolveComponent"])("AResult");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[e.isLoading&&!e.showCalendar?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,[Object(c["createVNode"])(d,{tip:"Fetching events...",size:"large"})])):Object(c["createCommentVNode"])("",!0),e.showCalendar&&!e.hasError?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createVNode"])(s)])):e.hasError&&!e.isLoading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createVNode"])(f,{status:"403",title:"403","sub-title":"Sorry, you are not authorized to access this page."})])):Object(c["createCommentVNode"])("",!0)],64)}n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("a9e3"),n("2b3d"),n("ac1f"),n("841c");var s=n("9ab4"),f=(n("b0c0"),Object(c["createTextVNode"])("This event")),b=Object(c["createTextVNode"])(" This and following events "),v=Object(c["createTextVNode"])("All events"),m=Object(c["createElementVNode"])("div",{class:"Calendar",id:"calendar"},null,-1);function O(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("CalendarToolbar"),l=Object(c["resolveComponent"])("CalendarEventForm"),u=Object(c["resolveComponent"])("AModal"),d=Object(c["resolveComponent"])("CalendarModalEventInfo"),s=Object(c["resolveComponent"])("ARadio"),O=Object(c["resolveComponent"])("ARadioGroup"),p=Object(c["resolveComponent"])("CalendarForm");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[e.sources.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(i,Object(c["normalizeProps"])(Object(c["guardReactiveProps"])(e.calendarToolbar)),null,16),Object(c["createVNode"])(u,{title:e.modalActionTitle,visible:e.modal.visible,"onUpdate:visible":t[0]||(t[0]=function(t){return e.modal.visible=t}),"ok-text":"Save","confirm-loading":e.isLoading,"cancel-button-props":{disabled:e.isLoading},closable:!e.isLoading,"mask-closable":!e.isLoading,"after-close":e.onAfterCloseModal,onOk:e.writeEvent,style:{top:"50px"},"body-style":{maxHeight:"761px",overflowY:"auto",paddingBottom:0}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{ref:"refFormEvent","is-display":e.modal.visible,type:e.modal.type,data:e.eventToForm,"new-event-range":e.state.newEventRange,"edit-recurring-type":e.editRecurringType},null,8,["is-display","type","data","new-event-range","edit-recurring-type"])]})),_:1},8,["title","visible","confirm-loading","cancel-button-props","closable","mask-closable","after-close","onOk"]),e.isEventSelected?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:0,visible:e.modal.info,"onUpdate:visible":t[1]||(t[1]=function(t){return e.modal.info=t}),"edit-recurrence-type":e.editRecurringType,"onUpdate:edit-recurrence-type":t[2]||(t[2]=function(t){return e.editRecurringType=t}),"hide-following-check-item":e.hideFollowingCheckItem,"hide-current-check-item":e.hideCurrentItem,class:"ant-modal-event-info",onConfirmEditEvent:e.onConfirmEditEvent,onConfirmDeleteEvent:e.handleDeleteEvents,onClose:t[3]||(t[3]=function(t){return e.modal.info=!1})},null,8,["visible","edit-recurrence-type","hide-following-check-item","hide-current-check-item","onConfirmEditEvent","onConfirmDeleteEvent"])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(u,{visible:e.modal.moveRecurrence,"onUpdate:visible":t[5]||(t[5]=function(t){return e.modal.moveRecurrence=t}),title:"Edit recurring event","confirm-loading":e.isLoading,"cancel-button-props":{disabled:e.isLoading},closable:!e.isLoading,"mask-closable":!e.isLoading,style:{"max-width":"365px"},onCancel:e.restartRecurringEventPosition,onOk:e.handleUpdateRecurringMouseActions},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{value:e.editRecurringType,"onUpdate:value":t[4]||(t[4]=function(t){return e.editRecurringType=t}),style:{display:"flex","flex-direction":"column"}},{default:Object(c["withCtx"])((function(){return[e.hideCurrentItem?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,value:"current",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[f]})),_:1})),e.hideFollowingCheckItem?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:1,value:"following",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[b]})),_:1})),Object(c["createVNode"])(s,{value:"all",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[v]})),_:1})]})),_:1},8,["value"])]})),_:1},8,["visible","confirm-loading","cancel-button-props","closable","mask-closable","onCancel","onOk"]),Object(c["createVNode"])(u,{visible:e.modal.calendar,"onUpdate:visible":t[8]||(t[8]=function(t){return e.modal.calendar=t}),title:"New calendar","confirm-loading":e.isLoading,"ok-button-props":{disabled:e.isLoading||!e.calendarFormData.name},"cancel-button-props":{disabled:e.isLoading},closable:!e.isLoading,"mask-closable":!e.isLoading,"destroy-on-close":"",style:{"max-width":"365px"},onOk:e.onCreateNewCalendar,onCancel:e.onCancelNewCalendar},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,{name:e.calendarFormData.name,"onUpdate:name":t[6]||(t[6]=function(t){return e.calendarFormData.name=t}),color:e.calendarFormData.color,"onUpdate:color":t[7]||(t[7]=function(t){return e.calendarFormData.color=t})},null,8,["name","color"])]})),_:1},8,["visible","confirm-loading","ok-button-props","cancel-button-props","closable","mask-closable","onOk","onCancel"])],64)):Object(c["createCommentVNode"])("",!0),m],64)}n("6512");var p=n("218c"),j=n.n(p);n("0481"),n("d81d"),n("c740"),n("159b"),n("4de4"),n("2532"),n("a4d3"),n("e01a"),n("1276"),n("b64b");Object(c["pushScopeId"])("data-v-6ab616d3");var h={class:"CalendarToolbar"},y={class:"CalendarToolbar__view-info"},g=Object(c["createTextVNode"])("Today"),C={style:{"margin-bottom":"3px"}},w=Object(c["createTextVNode"])(" Go "),k={class:"CalendarToolbar__title"},E={class:"label-timezone"},T={class:"CalendarToolbar__options"},S=Object(c["createElementVNode"])("span",{class:"label-calendars"},"Calendars",-1),N=Object(c["createElementVNode"])("span",{class:"label-calendars"},"Calendars",-1),x=Object(c["createElementVNode"])("span",{class:"label-create-event"},"Event",-1),V={key:1,style:{display:"flex",width:"100%"}},M={class:"CalendarToolbar__search-back"},D=Object(c["createElementVNode"])("h3",null,"Search",-1),A=Object(c["createTextVNode"])(" Calendars ");function I(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("AButton"),l=Object(c["resolveComponent"])("ATooltip"),u=Object(c["resolveComponent"])("LeftOutlined"),d=Object(c["resolveComponent"])("RightOutlined"),s=Object(c["resolveComponent"])("AimOutlined"),f=Object(c["resolveComponent"])("APopover"),b=Object(c["resolveComponent"])("GlobalOutlined"),v=Object(c["resolveComponent"])("SearchOutlined"),m=Object(c["resolveComponent"])("SettingOutlined"),O=Object(c["resolveComponent"])("ACheckbox"),p=Object(c["resolveComponent"])("AMenuItem"),j=Object(c["resolveComponent"])("AMenuItemGroup"),I=Object(c["resolveComponent"])("AMenu"),B=Object(c["resolveComponent"])("CalendarOutlined"),_=Object(c["resolveComponent"])("ADropdown"),G=Object(c["resolveComponent"])("ASelectOption"),P=Object(c["resolveComponent"])("ASelect"),R=Object(c["resolveComponent"])("PlusOutlined"),F=Object(c["resolveComponent"])("ArrowLeftOutlined"),L=Object(c["resolveComponent"])("CloseOutlined"),z=Object(c["resolveComponent"])("AInput"),q=Object(c["resolveComponent"])("CalendarSettings"),U=Object(c["resolveComponent"])("AModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("section",h,[e.isDisplayInputSearch?(Object(c["openBlock"])(),Object(c["createElementBlock"])("section",V,[Object(c["createElementVNode"])("div",M,[Object(c["createVNode"])(i,{type:"link",onClick:e.onClickHideSearchBar},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(F)]})),_:1},8,["onClick"]),D]),Object(c["createVNode"])(z,{ref:"refInputKeyword",value:e.keyword,placeholder:"Search",onInput:t[8]||(t[8]=function(t){return e.onInputSearch(t.target.value)}),style:{"max-width":"450px","margin-right":"1.5rem"}},{prefix:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{style:{"margin-right":"5px",color:"rgba(0, 0, 0, 0.4)"}})]})),suffix:Object(c["withCtx"])((function(){return[e.keyword.length?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,title:"Clear input"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{type:"link",style:{padding:"0"},onClick:e.onClickClearKeyword},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(L,{style:{"font-size":"10px",color:"rgba(0, 0, 0, 0.4)"}})]})),_:1},8,["onClick"])]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1},8,["value"]),Object(c["createVNode"])(_,{visible:e.showCalendarsDropdown,"onUpdate:visible":t[9]||(t[9]=function(t){return e.showCalendarsDropdown=t}),trigger:["click"]},{overlay:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{class:"dropdown-calendar"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{key:"own",title:"My Calendars"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourcesToRender.own,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:t.id,style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{disabled:1===e.sourcesToFilter.length&&!e.sourceToFilter[t.id],checked:!e.sourceToFilter[t.id],onChange:function(n){return e.onCheckedCalendarSearch(n.target.checked,t)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name),1)]})),_:2},1032,["disabled","checked","onChange"]),Object(c["createElementVNode"])("div",{class:"show-color",style:Object(c["normalizeStyle"])({backgroundColor:t.color})},null,4)]})),_:2},1024)})),128))]})),_:1}),e.sourcesToRender.shared.length?(Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:"shared",title:"Shared Calendars",style:{margin:"0"}},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourcesToRender.shared,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:t.id,style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{disabled:1===e.sourcesToFilter.length&&!e.sourceToFilter[t.id],checked:!e.sourceToFilter[t.id],onChange:function(n){return e.onCheckedCalendarSearch(n.target.checked,t)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name)+" ("+Object(c["toDisplayString"])(t.user.fullName)+") ",1)]})),_:2},1032,["disabled","checked","onChange"]),Object(c["createElementVNode"])("div",{class:"show-color",style:Object(c["normalizeStyle"])({backgroundColor:t.color})},null,4)]})),_:2},1024)})),128))]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{style:{"margin-right":"0.5rem"}},{default:Object(c["withCtx"])((function(){return[A,Object(c["createVNode"])(B)]})),_:1})]})),_:1},8,["visible"])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createElementVNode"])("div",y,[e.isHideTitle?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,title:e.today},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{onClick:e.onSetToday},{default:Object(c["withCtx"])((function(){return[g]})),_:1},8,["onClick"])]})),_:1},8,["title"])),e.isHideTitle?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createVNode"])(l,{title:e.paginationLabel.prev},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{disabled:e.isPrevDisabled,type:"link",style:{"padding-right":"0.5rem"},onClick:t[0]||(t[0]=function(t){return e.onChangeViewPage("prev")})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u)]})),_:1},8,["disabled"])]})),_:1},8,["title"]),Object(c["createVNode"])(l,{title:e.paginationLabel.next},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{disabled:e.isNextDisabled,type:"link",style:{"padding-left":"0.5rem"},onClick:t[1]||(t[1]=function(t){return e.onChangeViewPage("next")})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d)]})),_:1},8,["disabled"])]})),_:1},8,["title"])],64)),Object(c["createVNode"])(f,{content:"Go to custom date",trigger:"hover",visible:e.popover.hover,onVisibleChange:t[4]||(t[4]=function(t){return e.handlePopoverCustomDateChange(t,"hover")}),overlayClassName:"popover-to-tooltip"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{trigger:"click",title:"Go to custom date",visible:e.popover.click,onVisibleChange:t[3]||(t[3]=function(t){return e.handlePopoverCustomDateChange(t,"click")})},{content:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",C,[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])(e.popoverDateData.component),{value:e.popoverCustomDate,"onUpdate:value":t[2]||(t[2]=function(t){return e.popoverCustomDate=t}),format:e.popoverDateData.format,placeholder:"Select date","allow-clear":!1},null,8,["value","format"])),Object(c["createVNode"])(i,{style:{"margin-left":"1rem"},onClick:e.onGotoCustomDate},{default:Object(c["withCtx"])((function(){return[w]})),_:1},8,["onClick"])])]})),default:Object(c["withCtx"])((function(){return[e.isHideTitle?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,type:"link",style:{"margin-right":"-10px",padding:"0"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s),Object(c["createElementVNode"])("span",k,Object(c["toDisplayString"])(e.$props.viewTitle),1)]})),_:1}))]})),_:1},8,["visible"])]})),_:1},8,["visible"]),Object(c["createVNode"])(l,{title:e.timezoneLabel},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{type:"link",onClick:e.onClickChangeTimezone,style:{display:"flex","align-items":"center"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b),Object(c["createElementVNode"])("span",E,Object(c["toDisplayString"])(e.timezoneLabel),1)]})),_:1},8,["onClick"])]})),_:1},8,["title"])]),Object(c["createElementVNode"])("div",T,[e.isModeFilter?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,title:"Search events"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{type:"link",style:{"margin-right":"-10px"},onClick:e.onClickShowSearchBar},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{style:{"font-size":"18px"}})]})),_:1},8,["onClick"])]})),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(l,{title:"Calendar settings"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{type:"link",onClick:e.onClickSettings},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(m,{style:{"font-size":"18px"}})]})),_:1},8,["onClick"])]})),_:1}),Object(c["createVNode"])(l,{title:"Calendars"},{default:Object(c["withCtx"])((function(){return[e.isHideTitle?(Object(c["openBlock"])(),Object(c["createBlock"])(_,{key:1,visible:e.showCalendarsDropdown,"onUpdate:visible":t[6]||(t[6]=function(t){return e.showCalendarsDropdown=t}),trigger:["click"]},{overlay:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{class:"dropdown-calendar"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{key:"own",title:"My Calendars"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourcesToRender.own,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:t.id,style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{disabled:1===e.sourcesToFilter.length&&!e.sourceToFilter[t.id],checked:!e.sourceToFilter[t.id],onChange:function(n){return e.onCheckedCalendarSearch(n.target.checked,t)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name),1)]})),_:2},1032,["disabled","checked","onChange"]),Object(c["createElementVNode"])("div",{class:"show-color",style:Object(c["normalizeStyle"])({backgroundColor:t.color})},null,4)]})),_:2},1024)})),128))]})),_:1}),e.sourcesToRender.shared.length?(Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:"shared",title:"Shared Calendars",style:{margin:"0"}},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourcesToRender.shared,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:t.id,style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{disabled:1===e.sourcesToFilter.length&&!e.sourceToFilter[t.id],checked:!e.sourceToFilter[t.id],onChange:function(n){return e.onCheckedCalendarSearch(n.target.checked,t)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name)+" ("+Object(c["toDisplayString"])(t.user.fullName)+") ",1)]})),_:2},1032,["disabled","checked","onChange"]),Object(c["createElementVNode"])("div",{class:"show-color",style:Object(c["normalizeStyle"])({backgroundColor:t.color})},null,4)]})),_:2},1024)})),128))]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B),N]})),_:1})]})),_:1},8,["visible"])):(Object(c["openBlock"])(),Object(c["createBlock"])(_,{key:0,visible:e.showCalendarsDropdown,"onUpdate:visible":t[5]||(t[5]=function(t){return e.showCalendarsDropdown=t}),trigger:["click"]},{overlay:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{class:"dropdown-calendar"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{key:"own",title:"My Calendars"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourcesToRender.own,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:t.id,style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{checked:t.show,onChange:function(n){return e.onCalendarChecked(t.id,!t.show)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name),1)]})),_:2},1032,["checked","onChange"]),Object(c["createElementVNode"])("div",{class:"show-color",style:Object(c["normalizeStyle"])({backgroundColor:t.color})},null,4)]})),_:2},1024)})),128))]})),_:1}),e.sourcesToRender.shared.length?(Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:"shared",title:"Shared Calendars",style:{margin:"0"}},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourcesToRender.shared,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:t.id,style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{checked:t.show,onChange:function(n){return e.onCalendarChecked(t.id,!t.show)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name)+" ("+Object(c["toDisplayString"])(t.user.fullName)+") ",1)]})),_:2},1032,["checked","onChange"]),Object(c["createElementVNode"])("div",{class:"show-color",style:Object(c["normalizeStyle"])({backgroundColor:t.color})},null,4)]})),_:2},1024)})),128))]})),_:1})):Object(c["createCommentVNode"])("",!0),e.sourcesToRender.google.length?(Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:"google",title:"Google Calendars",style:{margin:"0"}},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourcesToRender.google,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(p,{key:t.id,style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{checked:t.show,onChange:function(n){return e.onCalendarChecked(t.id,!t.show)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name),1)]})),_:2},1032,["checked","onChange"]),Object(c["createElementVNode"])("div",{class:"show-color",style:Object(c["normalizeStyle"])({backgroundColor:t.color})},null,4)]})),_:2},1024)})),128))]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{style:{"margin-right":"0.5rem"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B),S]})),_:1})]})),_:1},8,["visible"]))]})),_:1}),Object(c["createVNode"])(l,{title:"Change view"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(P,{value:e.$props.viewName,style:{width:"90px",margin:"0 0.5rem"},onChange:e.onChangeView},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.views,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(G,{value:e.name,key:e.name},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value","onChange"])]})),_:1}),Object(c["createVNode"])(l,{title:"Create new event"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{type:"primary",onClick:t[7]||(t[7]=function(t){return e.onCreate("event")}),style:{"margin-left":"0.5rem"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(R),x]})),_:1})]})),_:1})])],64))]),Object(c["createVNode"])(U,{visible:e.modalSettings,"onUpdate:visible":t[11]||(t[11]=function(t){return e.modalSettings=t}),title:"Settings",width:"650px",footer:null,"after-close":function(){return e.refCalendarSettings.tab="general"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(q,{ref:"refCalendarSettings","is-display":e.modalSettings,"timezone-autofocus":e.timezoneAutofocus,onChangeSource:e.onChangeSource,onCreateCalendar:t[10]||(t[10]=function(t){return e.onCreate("calendar")}),onRemoveCalendar:e.onRemoveCalendar},null,8,["is-display","timezone-autofocus","onChangeSource","onRemoveCalendar"])]})),_:1},8,["visible","after-close"])],64)}Object(c["popScopeId"])();n("7db0"),n("eee7");var B=n("31d7"),_=n("2b46"),G=n("f014"),P=n("47ce"),R=n("f007"),F=n("35c8"),L=n("c41e"),z=n("3cac"),q=n("2c60"),U=n("e9d5"),$=n("1cd4"),Y=n("a878"),W=n("c1df"),H=n.n(W);Object(c["pushScopeId"])("data-v-9309d470");var K=Object(c["createElementVNode"])("span",null,"General",-1),Z=Object(c["createElementVNode"])("h3",{class:"Settings__title"},"General settings",-1),J=Object(c["createElementVNode"])("span",null,"Calendars",-1);function Q(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("SettingOutlined"),l=Object(c["resolveComponent"])("ASelectOption"),u=Object(c["resolveComponent"])("ASelect"),d=Object(c["resolveComponent"])("AFormItem"),s=Object(c["resolveComponent"])("AForm"),f=Object(c["resolveComponent"])("ATabPane"),b=Object(c["resolveComponent"])("CalendarOutlined"),v=Object(c["resolveComponent"])("ManageCalendar"),m=Object(c["resolveComponent"])("ATabs");return Object(c["openBlock"])(),Object(c["createBlock"])(m,{"active-key":e.tab,"onUpdate:active-key":t[1]||(t[1]=function(t){return e.tab=t}),"tab-position":"left"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{key:"general"},{tab:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i),K]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{layout:"vertical"},{default:Object(c["withCtx"])((function(){return[Z,Object(c["createVNode"])(d,{label:"Timezone"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{ref:"refTimezones",value:e.settings.timezone,"onUpdate:value":t[0]||(t[0]=function(t){return e.settings.timezone=t}),"show-search":"",style:{width:"100%"}},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.timezones,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:t,value:t},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(f,{key:"calendars",style:{"padding-right":"0.1rem"}},{tab:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b),J]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{onChange:e.onChangeCalendarData,onCreateCalendar:e.onCreateCalendar,onRemoveCalendar:e.onRemoveCalendar},null,8,["onChange","onCreateCalendar","onRemoveCalendar"])]})),_:1})]})),_:1},8,["active-key"])}Object(c["popScopeId"])();var X=Symbol("CALENDAR_SETTINGS"),ee=Symbol("CALENDAR_INSTANCE"),te=Symbol("CALENDAR_FORM"),ne=Symbol("CALENDAR_CURRENT_DATA"),re=Symbol("MODAL_SETTINGS"),ae=n("b07d"),oe=Object(c["createElementVNode"])("h3",{style:{color:"grey","text-align":"center","margin-bottom":"1rem"}},"Calendar Settings",-1),ce={style:{display:"flex","justify-content":"center","margin-bottom":"1.5rem"}},ie=Object(c["createTextVNode"])("Calendar"),le={style:{position:"absolute",right:"-35px",top:"-7px"}},ue={style:{display:"flex","justify-content":"space-between","margin-top":"10px"}},de=Object(c["createElementVNode"])("span",null,"Are you sure?",-1),se=Object(c["createElementVNode"])("p",null,"This action is permanent and removes this calendar and all its events.",-1),fe=Object(c["createTextVNode"])("Save changes");function be(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("PlusOutlined"),l=Object(c["resolveComponent"])("AButton"),u=Object(c["resolveComponent"])("ATooltip"),d=Object(c["resolveComponent"])("ASelectOption"),s=Object(c["resolveComponent"])("ASelect"),f=Object(c["resolveComponent"])("AFormItem"),b=Object(c["resolveComponent"])("ACol"),v=Object(c["resolveComponent"])("AInput"),m=Object(c["resolveComponent"])("Color"),O=Object(c["resolveComponent"])("ARow"),p=Object(c["resolveComponent"])("Permissions"),j=Object(c["resolveComponent"])("DeleteOutlined"),h=Object(c["resolveComponent"])("APopconfirm"),y=Object(c["resolveComponent"])("AForm");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[oe,Object(c["createElementVNode"])("div",ce,[Object(c["createVNode"])(u,{title:"Add new calendar"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{onClick:e.onCreateCalendar},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i),ie]})),_:1},8,["onClick"])]})),_:1})]),Object(c["createVNode"])(y,{layout:"vertical"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{gutter:10},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{span:10},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{label:"Calendar"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{value:e.calendarId,"onUpdate:value":t[0]||(t[0]=function(t){return e.calendarId=t}),placeholder:"Select calendar",onChange:e.onChangeCalendar},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sources.own,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:e.id,value:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value","onChange"])]})),_:1})]})),_:1}),Object(c["createVNode"])(b,{span:14},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,Object(c["mergeProps"])({label:"Name",required:""},e.nameStatus),{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{ref:"refNewCalendarName",value:e.name,"onUpdate:value":t[1]||(t[1]=function(t){return e.name=t}),placeholder:"Name",style:{width:"85%"},onChange:e.onChangeName},null,8,["value","onChange"]),Object(c["createElementVNode"])("div",le,[Object(c["createVNode"])(m,{modelValue:e.color,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.color=t}),"colors-data":e.colors,default:e.calendar.color},null,8,["modelValue","colors-data","default"])])]})),_:1},16)]})),_:1})]})),_:1}),Object(c["createVNode"])(p,{calendar:e.calendar},null,8,["calendar"]),Object(c["createElementVNode"])("div",ue,[Object(c["createVNode"])(u,{title:"Remove this calendar"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(h,{onConfirm:e.onClickRemoveCalendar},{title:Object(c["withCtx"])((function(){return[de,se]})),default:Object(c["withCtx"])((function(){return[e.isDefaultCalendar?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j)]})),_:1}))]})),_:1},8,["onConfirm"])]})),_:1}),Object(c["createVNode"])(l,{type:"primary",loading:e.isLoading,disabled:!e.isReadyForUpdate,onClick:e.onClickSave},{default:Object(c["withCtx"])((function(){return[fe]})),_:1},8,["loading","disabled","onClick"])])]})),_:1})],64)}var ve=n("b1c8"),me=n("5530");Object(c["pushScopeId"])("data-v-0e7e247f");var Oe={class:"Color"},pe={key:0,class:"Color__default"},je={key:0,style:{display:"flex"}},he={key:1,style:{display:"flex"}},ye=["onClick"];function ge(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("ColorCircle"),l=Object(c["resolveComponent"])("ATooltip"),u=Object(c["resolveComponent"])("ADropdown");return Object(c["openBlock"])(),Object(c["createBlock"])(u,{trigger:["click"]},{overlay:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",Oe,[e.fixedColor||e.outColor?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",pe,[e.fixedColor?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",je,[Object(c["createElementVNode"])("a",{class:"ant-dropdown-link Color__link",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(t){return e.onClickFixedColor(t,e.fixedColor)}),["prevent"]))},[Object(c["createVNode"])(i,Object(c["normalizeProps"])(Object(c["guardReactiveProps"])(e.fixedColor)),null,16)]),Object(c["createElementVNode"])("span",{class:"Color__default-label",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(){}),["stop"]))},"Calendar")])):Object(c["createCommentVNode"])("",!0),e.outColor?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",he,[Object(c["createElementVNode"])("a",{class:"ant-dropdown-link Color__link",style:{"margin-left":"5px"},onClick:t[3]||(t[3]=Object(c["withModifiers"])((function(t){return e.onClickFixedColor(t,e.outColor)}),["prevent"]))},[Object(c["createVNode"])(i,Object(c["normalizeProps"])(Object(c["guardReactiveProps"])(e.outColor)),null,16)]),Object(c["createElementVNode"])("span",{class:"Color__default-label",onClick:t[4]||(t[4]=Object(c["withModifiers"])((function(){}),["stop"]))},"Out list")])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.colors,(function(t,n){return Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{key:t.color,class:"ant-dropdown-link Color__link",onClick:Object(c["withModifiers"])((function(r){return e.onClickColor(r,n,t.color)}),["prevent"])},[e.isColorAllowed(t)?(Object(c["openBlock"])(),Object(c["createBlock"])(i,Object(c["normalizeProps"])(Object(c["mergeProps"])({key:0},Object(me["a"])(Object(me["a"])({},t),{},{disabled:!1,animate:!0}))),null,16)):(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:1,title:"Already used!",color:t.color},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,Object(c["normalizeProps"])(Object(c["guardReactiveProps"])(t)),null,16)]})),_:2},1032,["color"]))],8,ye)})),128))])]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{title:"Choose color",color:e.selectedColor},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("a",{class:"ant-dropdown-link",onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(){}),["prevent"]))},[Object(c["createVNode"])(i,{color:e.selectedColor},null,8,["color"])])]})),_:1},8,["color"])]})),_:1})}Object(c["popScopeId"])();n("c7cd");function Ce(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("CheckOutlined");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])(["ColorCircle",{"ColorCircle--animate":e.isAnimated,"ColorCircle--disabled":e.disabled}])},[e.active?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,style:{color:"#fff","font-size":"15px"}})):Object(c["createCommentVNode"])("",!0)],2)}n("c96a");var we=n("434d"),ke=Object(c["defineComponent"])({components:{CheckOutlined:we["a"]},props:{size:{type:String,default:"default",validator:function(e){return["default","small","large","extraSmall"].includes(e)}},color:{type:String,required:!0},active:{type:Boolean,default:!1},animate:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t;(function(e){e[e["large"]=40]="large",e[e["default"]=30]="default",e[e["small"]=20]="small",e[e["extraSmall"]=14]="extraSmall"})(t||(t={}));var n=t[e.size]+"px",r=Object(c["computed"])((function(){return e.animate&&!e.disabled}));return{circleSize:n,isAnimated:r}}}),Ee=function(){Object(c["useCssVars"])((function(e){return{"40a83586":e.circleSize,"163af397":e.color}}))},Te=ke.setup;ke.setup=Te?function(e,t){return Ee(),Te(e,t)}:Ee;var Se=ke;n("b7b4");Se.render=Ce,Se.__scopeId="data-v-e91ce874";var Ne=Se,xe=Object(c["defineComponent"])({components:{ColorCircle:Ne},props:{modelValue:String,default:String,fixed:{type:Boolean,default:!1},colorsData:{type:Array,default:function(){return["orange","blue","red"].map((function(e){return{color:e,disabled:!1,animate:!0,actve:!1}}))}}},emits:["update:modelValue","change"],setup:function(e,t){var n=t.emit,r=Object(c["ref"])([]),a=Object(c["ref"])(),o=Object(c["ref"])(),i=function(e){n("update:modelValue",e),n("change",e)},l=function(e){r.value=r.value.map((function(t){return t.color===e?Object(s["a"])(Object(s["a"])({},t),{active:!0}):Object(s["a"])(Object(s["a"])({},t),{active:!1})}))};Object(c["watch"])((function(){return e.colorsData}),(function(e){o.value=void 0,a.value=void 0;for(var t=[],n=0;n<e.length;n++){var c=e[n];c.fixed?a.value=c:c.isOut?o.value=c:t.push(c)}r.value=t}),{deep:!0,immediate:!0});var u=Object(c["computed"])((function(){return e.modelValue||e.colorsData[0].color}));Object(c["watch"])((function(){return u.value}),(function(e){l(e)}),{immediate:!0});var d=function(t,n){var r=n.color!==e.default,a=n.color===e.modelValue,o=n.disabled;if(a||r&&o)return t.stopPropagation();i(n.color)},f=function(t,n,a){var o=r.value[n].color!==e.default,c=a===e.modelValue,l=r.value[n].disabled;if(c||o&&l)return t.stopPropagation();i(a)},b=function(){for(var e="",t=0,n=r.value;t<n.length;t++){var a=n[t];if(!a.disabled){e=a.color;break}}if(!e)throw new Error("All colors are disabled!");return e},v=function(t){return e.default?!t.disabled||e.default&&e.default===t.color:!t.disabled},m=function(){e.modelValue?l(e.modelValue):i(b())};return m(),{selectedColor:u,outColor:o,colors:r,fixedColor:a,isColorAllowed:v,setActiveColor:l,onClickColor:f,onClickFixedColor:d}}});n("a3f9");xe.render=ge,xe.__scopeId="data-v-0e7e247f";var Ve,Me,De,Ae,Ie,Be,_e,Ge=xe,Pe=(n("25f0"),n("7f45")),Re=n.n(Pe),Fe=Object(c["ref"])(""),Le=Object(c["readonly"])(Fe),ze=function(e,t){return Re.a.tz(e||Re()(),t||Fe.value)},qe=function(e){var t=Object(c["computed"])((function(){return r(Fe.value)})),n=function(e){return Fe.value=e},r=function(e){return"UTC"===e&&(e="Etc/GMT"),ae[e]},a=function(){Fe.value||(Fe.value=e||Re.a.tz.guess())};return a(),{timezone:Object(c["readonly"])(Fe),time:ze,timezoneLabel:t,setTimezone:n,getTimeZoneLabel:r}};n("dca8");(function(e){e["LIGHT"]="light",e["DARK"]="dark"})(Ve||(Ve={})),function(e){e["Su"]="SU",e["Mo"]="MO",e["Tu"]="TU",e["We"]="WE",e["Th"]="TH",e["Fr"]="FR",e["Sa"]="SA"}(Me||(Me={})),function(e){e["Yearly"]="YEARLY",e["Monthly"]="MONTHLY",e["Weekly"]="WEEKLY",e["Daily"]="DAILY",e["Hourly"]="HOURLY",e["Minutely"]="MINUTELY",e["Secondly"]="SECONDLY"}(De||(De={})),function(e){e[e["Last"]=-1]="Last",e[e["First"]=1]="First",e[e["Second"]=2]="Second",e[e["Third"]=3]="Third",e[e["Fourth"]=4]="Fourth",e[e["Th5"]=5]="Th5"}(Ae||(Ae={})),function(e){e["Google"]="GOOGLE",e["Local"]="LOCAL"}(Ie||(Ie={})),function(e){e["Read"]="read",e["All"]="all"}(Be||(Be={})),function(e){e["Admin"]="admin",e["Global"]="global",e["Individual"]="individual"}(_e||(_e={}));var Ue=n("55b4");n("a15b");function $e(e){var t=e instanceof H.a?e:H()(e);return t.clone()}function Ye(e){var t=$e(e);return t.clone().endOf("month").week()-t.clone().startOf("month").week()+1}function We(e){var t=$e(e);return t.week()-t.clone().startOf("month").week()+1}function He(e){var t=$e(e),n=t.clone().startOf("month"),r=t.clone().endOf("month"),a=n.clone(),o={found:!1,position:0,day:""},c=0;while(a.isSameOrBefore(r)){if(t.day()===a.day()&&(c++,!o.found&&t.isSame(a,"day"))){o.found=!0,o.position=c;var i=Et(a.day(),"fullcalendar");o.day=i}a.add(1,"day")}return c===o.position&&(o.position=-1),{weekday:o.day,n:o.position}}function Ke(e){var t=e.month,n=e.year,r=e.byweekday;if(![1,2,3,4,5,-1].includes(r.n))throw new Error('Invalid "n" param, out of range -1, 1, 2, 3, 4 , 5');var a=H()().utc().set({month:t,year:n}).startOf("month"),o=a.clone().endOf("month"),c=nt.find((function(e){return e.min===r.weekday})),i=[];while(a.isSameOrBefore(o))c.numeric.fullcalendar===a.day()?(i.push(a.toISOString()),a.add(1,"day")):a.add(1,"day");var l=i.length,u=-1===r.n?i[l-1]:i[r.n-1];return u}function Ze(e,t){return void 0===t&&(t=!1),ze(e).format(t?void 0:"YYYY-MM-DDTHH:mm:ss")}function Je(e){var t=e[0];e=e.substr(1);var n=e.split(":").map((function(e){return Number(e)})).filter((function(e){return e>0}));return t+n.join(":")}function Qe(e){var t=H.a.tz(e).format("Z z"),n=t.split(" "),r=n[0],a=n[1],o=/^[+-]/.test(a),c=Je(r),i=o?"GMT "+c:a+" (GMT "+c+")";return e+" "+i}function Xe(e){var t=$e(e),n=nt.find((function(e){return e.numeric.fullcalendar===t.day()}));return n}function et(e,t){return Le.value===t?ze(e):ze(e,Le.value).tz(t)}var tt="CALENDAR_UNAUTHORIZED",nt=[{numeric:{fullcalendar:0,rrule:Ue["a"].SU.weekday},min:Me.Su,short:"Sun",full:"Sunday"},{numeric:{fullcalendar:1,rrule:Ue["a"].MO.weekday},min:Me.Mo,short:"Mon",full:"Monday"},{numeric:{fullcalendar:2,rrule:Ue["a"].TU.weekday},min:Me.Tu,short:"Tue",full:"Tuesday"},{numeric:{fullcalendar:3,rrule:Ue["a"].WE.weekday},min:Me.We,short:"Wed",full:"Wednesday"},{numeric:{fullcalendar:4,rrule:Ue["a"].TH.weekday},min:Me.Th,short:"Thu",full:"Thursday"},{numeric:{fullcalendar:5,rrule:Ue["a"].FR.weekday},min:Me.Fr,short:"Fri",full:"Friday"},{numeric:{fullcalendar:6,rrule:Ue["a"].SA.weekday},min:Me.Sa,short:"Sat",full:"Saturday"}],rt=[Object.freeze({prop:"title",optional:!1}),Object.freeze({prop:"timezone",optional:!0}),Object.freeze({prop:"description",optional:!0}),Object.freeze({prop:"contact",optional:!1}),Object.freeze({prop:"case",optional:!0}),Object.freeze({prop:"calendarId",optional:!1}),Object.freeze({prop:"color",optional:!0})],at=(Re.a.tz.names().map((function(e){return{value:e,label:Qe(e)}})),"YYYY-MM-DDTHH:mm:ss");n("fb6a");function ot(e){return JSON.parse(JSON.stringify(e))}function ct(){var e=null;return function(t,n){void 0===n&&(n=500),clearTimeout(e),e=setTimeout((function(){return t()}),n)}}function it(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}function lt(e){var t="string"===typeof e?H()(e):e;return t.utc().format("YYYY-MM-DD")}function ut(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.length?Object.keys(e).reduce((function(n,r){var a;return t.includes(r)?n:Object(s["a"])(Object(s["a"])({},n),(a={},a[r]=e[r],a))}),{}):e}function dt(e){return"[object Object]"===Object.prototype.toString.call(e)}function st(e,t){return e.length===t.length&&e.every((function(e,n){return dt(e)&&dt(t[n])?ft(e,t[n]):Array.isArray(e)&&Array.isArray(t[n])?st(e,t[n]):e===t[n]}))}function ft(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return dt(e[n])&&dt(t[n])?ft(e[n],t[n]):Array.isArray(e[n])&&Array.isArray(t[n])?st(e[n],t[n]):e[n]===t[n]}))}function bt(e,t){var n=Object.keys(e),r=Object.keys(t),a=n.length>r.length?n:r;return a.reduce((function(n,r){var a,o,c;return dt(e[r])&&dt(t[r])?ft(e[r],t[r])?n:Object(s["a"])(Object(s["a"])({},n),(a={},a[r]=t[r],a)):Array.isArray(e[r])&&Array.isArray(t[r])?st(e[r],t[r])?n:Object(s["a"])(Object(s["a"])({},n),(o={},o[r]=t[r],o)):e[r]!==t[r]?Object(s["a"])(Object(s["a"])({},n),(c={},c[r]=t[r],c)):n}),{})}function vt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!dt(e))throw new Error('The param "obj" must be an object');var r=Object.keys(e).filter((function(n){return(!t||!t.includes(n))&&null===e[n]}));return r.length?ut.apply(void 0,Object(s["g"])([e],r)):e}function mt(e){return!e.length}function Ot(e){return Array.isArray(e)&&!mt(e)}var pt=function(e){return"undefined"===typeof e};function jt(e){return mt(Object.keys(e))}function ht(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.includes(e)}function yt(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var gt=function(e,t){return t?H.a.utc(e).format("YYYY-MM-DD"):e},Ct=function(e){var t=e.dateAbsulute,n=e.eventNewPosition,r=e.eventOldPosition,a=new Date(r).getUTCMonth(),o=new Date(n).getUTCMonth();return a===o?new Date(t).getUTCMonth():H.a.utc(t).add(o-a,"months").get("months")},wt=function(e){return void 0!==e.byweekday&&"MONTHLY"===e.freq},kt=function(e){var t=nt.find((function(t){return t.min===e}));return t.numeric.rrule},Et=function(e,t){void 0===t&&(t="rrule");var n=nt.find((function(n){return n.numeric[t]===e}));return n.min},Tt=function(e){var t=nt.find((function(t){return t.min===e}));return Object(s["a"])({},t)};function St(e){return e.map((function(e){return"string"===typeof e.weekday?e.weekday:Et(e.weekday)}))}var Nt=function(e){var t=e.byweekday;return t?(t=e.byweekday.map((function(t){return"MONTHLY"!==e.freq?{weekday:t}:Object(s["a"])(Object(s["a"])({},t),{weekday:Et(t.weekday)})})),e.byweekday=t,e):e},xt=function(e){var t=e.byweekday;return!t||Array.isArray(t)&&!t.length||(t=e.byweekday.map((function(t){return"MONTHLY"!==e.freq?t.weekday:Object(s["a"])(Object(s["a"])({},t),{weekday:kt(t.weekday)})})),e.byweekday=t),e};function Vt(e){if(e.allDay)return e;if(!e.rrule)return e.start=H.a.tz(e.start,e.timezone).format(at),e.end=H.a.tz(e.end,e.timezone).format(at),e;var t=ot(e);return t.rrule.dtstart=H.a.tz(t.rrule.dtstart,e.timezone).format(at),t.rrule.until&&(t.rrule.until=H.a.tz(t.rrule.until,e.timezone).format(at)),Ot(t.exdate)&&(t.exdate=t.exdate.map((function(t){return H.a.tz(t,e.timezone).format(at)}))),t}function Mt(e){var t=!!e.rrule,n=[];t?(n=["start","end"],e.allDay&&(e.exdate=e.exdate.map((function(e){return lt(e)}))),e.rrule=xt(e.rrule)):n=["duration","rrule","exdate"];var r=ut.apply(void 0,Object(s["g"])([e],n));return r=vt(r),t&&(r.rrule=vt(r.rrule)),r.allDay?It(r):r}var Dt=function(e){var t=e.get("minutes");while(t%5!==0)t++;return e.set({minutes:t,seconds:0,milliseconds:0}),{start:e,end:e.clone().add(1,"hours")}},At=function(e){return new Date(e).toISOString()};function It(e){var t=!!e.rrule;return t?(e.rrule.dtstart=lt(e.rrule.dtstart),e.rrule.until&&(e.rrule.until=lt(e.rrule.until)),e):(e.start=lt(e.start),e.end=lt(e.end),e)}var Bt,_t,Gt=function(e){return Ue["a"].FREQUENCIES.findIndex((function(t){return t===e}))},Pt=function(e,t){if(!e.rrule)throw new Error("Event is not recurring");var n=e.rrule,r=Gt(n.freq),a={count:n.count};if(n.until&&"undefined"===typeof n.count&&(a.until=H.a.utc(n.until).toDate()),n.byweekday&&!mt(n.byweekday)){var o=xt(ot(e.rrule));a.byweekday=o.byweekday}var c=new Ue["a"](Object(s["a"])({freq:r,interval:n.interval,dtstart:H.a.utc(n.dtstart).toDate()},a)),i=[];return i=t?c.between(H.a.utc(t.start).toDate(),H.a.utc(t.end).toDate()):c.all(),i.map((function(e){return e.toISOString()}))},Rt=function(e){var t=ot(e),n=t.realStart,r=t.offset,a=t.event,o=Pt(Object(s["a"])(Object(s["a"])({},a),{rrule:Object(s["a"])(Object(s["a"])({},a.rrule),{dtstart:n})}),e.between);return o.map((function(e){var t=e.substr(0,19);return new Date(""+t+r).toISOString()}))},Ft=function(e,t){return e=lt(e),t=lt(t),H()(t).diff(e,"days")},Lt=function(e){if(!e.rrule)throw new Error("Event should be recurring");var t=e.rrule,n=t.until,r=t.dtstart,a={start:H.a.utc(r).subtract(1,"days").toISOString(),end:n||""};a.end=n?H.a.utc(n).add(1,"days").toISOString():H.a.utc(r).add(1,"week").toISOString();var o=Pt(e,a);if(mt(o))throw new Error("Invalid recurring rule");var c={first:o[0],last:null};if(n&&(c.last=o[o.length-1],!e.allDay)){var i=H()(n),l=H()(c.last).set({hours:i.get("hours"),minutes:i.get("minutes"),seconds:i.get("seconds")});c.last=l.toISOString()}return c},zt=function(e){var t,n,r=e.recurringEvent,a=e.betweenDates,o=e.exclude,c=void 0===o||o,i=ot(r),l=[];if(a&&(a.start=H.a.utc(a.start).subtract(1,"days").toISOString(),a.end=H.a.utc(a.end).add(1,"days").toISOString()),!i.allDay&&Ot(i.rrule.byweekday)){var u=ze(i.rrule.dtstart),d=void 0;(null===(t=i.rrule)||void 0===t?void 0:t.until)&&pt(i.rrule.count)&&(d=ze(null===(n=i.rrule)||void 0===n?void 0:n.until));var s=void 0;a&&(s={},s.start=ze(a.start),s.end=ze(a.end)),i.timezone!==Le.value&&(u=ze(i.rrule.dtstart,i.timezone),d&&(d=ze(d,i.timezone)),a&&(s.start=ze(a.start,i.timezone),s.end=ze(a.end,i.timezone)));var f=u.clone().format("Z"),b=u.clone().format(at)+".000Z";d&&(d=d.clone().format(at)+".000Z",i.rrule.until=d),s&&(s.start=s.start.format(at)+".000Z",s.end=s.end.format(at)+".000Z"),l=Rt({realStart:b,offset:f,event:i,between:s})}else l=Pt(r,a);return l.length?(c&&Ot(r.exdate)&&(l=l.filter((function(e){return r.exdate.every((function(t){return!H.a.utc(t).isSame(e)}))}))),l):[]},qt=function(e,t,n){if(!n.rrule)throw new Error("Event should be recurring");var r=zt({recurringEvent:n,betweenDates:t});if(mt(r))return!1;var a=r[0];return H()(a).isSame(e)},Ut=function(e,t,n){if(!n.rrule)throw new Error("Event should be recurring");if(!n.rrule.until)return!1;if(new Date(t.end)<new Date(n.rrule.until))return!1;var r=zt({recurringEvent:n,betweenDates:t});if(mt(r))return!1;var a=r[r.length-1];return H()(a).isSame(e)},$t=function(e,t){var n=Object.keys(e);return n.some((function(n){return e[n]!==t[n]}))},Yt=function(e){return e.reduce((function(e,t,n){return t?Object(s["g"])(Object(s["g"])([],e),[nt[n].min]):e}),[])},Wt=function(e,t,n){void 0===n&&(n=!1);var r=H()(t).diff(e,"minutes"),a=r/1440,o=r%1440/60,c=r%60;return n?(a=Math.floor(a),o=Math.floor(o),c=Math.floor(c)):(a=parseInt(a.toString(),10),o=parseInt(o.toString(),10),c=parseInt(c.toString(),10)),{days:a,hours:o,minutes:c,daysDiff:Ft(e,t)}},Ht=function(e){var t=Object.keys(e);return t.every((function(t){return 0===e[t]}))},Kt=function(e){if(0===e.days)return 0;var t=e.days;return e.hours>0&&t++,t},Zt=function(e){var t=e.date,n=e.duration,r=e.allDay,a=void 0===r||r;if(Ht(n))return a?lt(t):t;var o=H.a.utc(t).add(n.days,"days").add(n.hours,"hours").add(n.minutes,"minutes");return a?lt(o):o.toISOString()},Jt=function(e){var t=e.date,n=e.duration,r=e.allDay,a=void 0===r||r;if(Ht(n))return a?lt(t):t;var o=H.a.utc(t).subtract(n.days,"days").subtract(n.hours,"hours").subtract(n.minutes,"minutes");return a?lt(o):o.toISOString()},Qt=function(e,t){if(0===t)return e;var n=nt.findIndex((function(t){return t.min.toUpperCase()===e.toUpperCase()})),r=t>0,a=r?n+t:n-Math.abs(t);if(r)while(a>6)a-=7;else while(a<0)a+=7;return nt[a].min},Xt=function(e,t){return e.map((function(e){return Qt(e,t)}))},en=function(e){var t=["first","second","third","fourth","fifth"],n=Math.floor(e.date()/7);return t[n]},tn=function(e,t){return e.reduce((function(e,n){return H()(n).isSameOrBefore(t)?Object(s["a"])(Object(s["a"])({},e),{current:Object(s["g"])(Object(s["g"])([],e.current),[n])}):Object(s["a"])(Object(s["a"])({},e),{new:Object(s["g"])(Object(s["g"])([],e.new),[n])})}),{current:[],new:[]})},nn=function(){function e(e){this._rrule=e}return e.prototype._getByweekday=function(){var e=this._rrule.byweekday;if(!e)throw new Error('Field "byweekday" is not found');return e},e.prototype._matchByweekday=function(e,t){return"string"===typeof e?e===t:e.weekday===t},e.prototype._generateWeeklyLabel=function(){var e=this,t=this._getByweekday(),n=nt.filter((function(n){return t.some((function(t){return e._matchByweekday(t,n.min)}))})).map((function(e){return e.full}));return n.join(", ")},e.prototype._areSeletionDaysWeekdays=function(){var e=this,t=this._getByweekday(),n=[Me.Mo,Me.Tu,Me.We,Me.Th,Me.Fr];return 5===t.length&&n.every((function(n){return t.some((function(t){return e._matchByweekday(t,n)}))}))},e.prototype._gerateMonthlyByweekday=function(e){var t=nt.find((function(t){return t.min===e.weekday})),n="";switch(e.n){case Ae.Last:n="last";break;case Ae.First:n="first";break;case Ae.Second:n="second";break;case Ae.Third:n="third";break;case Ae.Fourth:n="fourth";break;default:n="5th";break}return n+" "+t.full},e.prototype._generateSelectionAsString=function(){var e=H()(this._rrule.dtstart);switch(this._rrule.freq){case De.Daily:return 1===this._rrule.interval?"Daily":"Every "+this._rrule.interval+" days";case De.Weekly:var t=this._areSeletionDaysWeekdays(),n=t?"weekdays":this._generateWeeklyLabel();return 1===this._rrule.interval?"Weekly on "+n:"Every "+this._rrule.interval+" weeks on "+n;case De.Monthly:var r=e.format("Do");return this._rrule.byweekday&&(r="the "+this._gerateMonthlyByweekday(this._rrule.byweekday[0])),1===this._rrule.interval?"Monthly on "+r:"Every "+this._rrule.interval+" months on "+r;default:return 1===this._rrule.interval?"Yearly on "+e.format("MMMM D"):"Every "+this._rrule.interval+" years on "+e.format("MMMM D")}},e.prototype.getCustomSelectedDays=function(){var e=this,t=this._getByweekday();return nt.map((function(n){return t.some((function(t){return e._matchByweekday(t,n.min)}))}))},e.prototype.getLabel=function(){var e=this._generateSelectionAsString();return"undefined"!==typeof this._rrule.count?e+=" for "+this._rrule.count+" times":this._rrule.until&&(e+=" until "+H()(this._rrule.until).format("MMM D, YYYY")),e},e.prototype.isCustom=function(){var e=this,t=this._rrule.byweekday,n=void 0===t?[]:t;if(this._rrule.interval>1||n.length>1||this._rrule.until)return!0;if("WEEKLY"===this._rrule.freq){var r=H()(this._rrule.dtstart).day(),a=nt[r].min;return n.every((function(t){return e._matchByweekday(t,a)}))}return!1},e}(),rn=nn;n("07ac"),n("a434");(function(e){e["Violet1"]="#5c0683",e["Violet2"]="#74259b",e["Violet3"]="#8d3eb3",e["Violet4"]="#b866d8",e["Violet5"]="#e48fff",e["LightBlue1"]="#195e8f",e["LightBlue2"]="#3974a7",e["LightBlue3"]="#548bc0",e["LightBlue4"]="#80b4df",e["LightBlue5"]="#abdeff",e["Green1"]="#576800",e["Green2"]="#6f7f15",e["Green3"]="#879627",e["Green4"]="#b1bf50",e["Green5"]="#ddea79",e["Pink1"]="#c94e97",e["Pink2"]="#e367af",e["Pink3"]="#fe80c8",e["Pink4"]="#ffade3",e["Pink5"]="#ffd7ff",e["Orange1"]="#c75d3a",e["Orange2"]="#e37450",e["Orange3"]="#ff8c66",e["Orange4"]="#ffb78d",e["Orange5"]="#ffe1b6"})(Bt||(Bt={})),function(e){e["RedVioletColorWheel"]="#8a2846",e["Blush"]="#e05780",e["AmaranthPink"]="#ff9ebb",e["Pink"]="#ffc2d4",e["PiggyPink"]="#ffe0e9",e["PacificBlue2"]="#04a6c2",e["BlueGreen"]="#0899ba",e["CGBlue"]="#0f80aa",e["SapphireBlue"]="#16679a",e["LapisLazuli"]="#1a5b92",e["DarkLiver"]="#584b53",e["CopperRose"]="#9d5c63",e["PeriwinkleCrayola"]="#d6e3f8",e["Seashell"]="#fef5ef",e["DesertSand"]="#e4bb97",e["TurquoiseBlue"]="#69fff1",e["Emerald"]="#63d471",e["ForestGreenCrayola"]="#63a46c",e["DarkOliveGreen"]="#6a7152",e["PineTree"]="#233329",e["LightCoral"]="#f7787b",e["SpanishPink"]="#f8b6b8",e["QueenPink"]="#ebcacc",e["MiddleBlue"]="#81c0c1",e["ViridianGreen"]="#3a9fa2"}(_t||(_t={}));n("4e82");var an=n("bc3a"),on=n.n(an),cn=n("7506"),ln=Object(c["reactive"])({isLoading:!1,awaitLoading:!1}),un={setLoading:function(e){return ln.isLoading=e},toggleLoading:function(){return ln.isLoading=!ln.isLoading},setAwaitLoading:function(e){ln.awaitLoading=e,!e&&ln.isLoading&&(ln.isLoading=!1)}},dn=Object(s["a"])(Object(s["a"])({},Object(c["toRefs"])(Object(c["readonly"])(ln))),un),sn=function(){return dn};function fn(e){var t=on.a.create(e),n=dn.isLoading,r=dn.setLoading,a=dn.awaitLoading,o=["query","mutation"];return t.setBaseURL=function(e){t.defaults.baseURL=e},t.setToken=function(e){Object.keys(e).forEach((function(n){t.defaults.headers.common[n]=e[n]}))},t.getToken=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(1===e.length)return t.defaults.headers.common[e[0]]||null;var r=e.reduce((function(e,n){var r;return t.defaults.headers.common[n]?Object(s["a"])(Object(s["a"])({},e),(r={},r[n]=t.defaults.headers.common[n],r)):e}),{});return Object.keys(r).length?r:null},t.graphql=function(e){return t.post("/graphql",Object(s["a"])(Object(s["a"])({},e),{isGraphql:!0}))},t.interceptors.request.use((function(e){if(!n.value&&r(!0),e.data.isGraphql)for(var t in delete e.data.isGraphql,e.data)o.includes(t)&&(e.data["query"]=Object(cn["a"])(e.data[t]));return e}),(function(e){return n.value&&r(!1),Promise.reject(e)})),t.interceptors.response.use((function(e){return n.value&&!a.value&&r(!1),e}),(function(e){return n.value&&r(!1),Promise.reject(e)})),t}var bn,vn,mn,On,pn,jn,hn,yn,gn,Cn,wn,kn,En,Tn,Sn,Nn,xn,Vn=fn,Mn=Vn({baseURL:"http://localhost:3002"}),Dn=n("5184"),An={fragments:{CalendarFullFragment:Object(Dn["a"])(bn||(bn=Object(s["e"])(["\n      fragment CalendarFullFragment on Calendar {\n        id\n        userId\n        name\n        show\n        color\n        isDefault\n        context\n        permissions {\n          admin {\n            all\n            read\n          }\n          global {\n            all\n            read\n          }\n          individual {\n            userId\n            all\n            read\n          }\n        }\n      }\n    "],["\n      fragment CalendarFullFragment on Calendar {\n        id\n        userId\n        name\n        show\n        color\n        isDefault\n        context\n        permissions {\n          admin {\n            all\n            read\n          }\n          global {\n            all\n            read\n          }\n          individual {\n            userId\n            all\n            read\n          }\n        }\n      }\n    "]))),CalendarWithoutPermissionsFragment:Object(Dn["a"])(vn||(vn=Object(s["e"])(["\n      fragment CalendarWithoutPermissionsFragment on Calendar {\n        id\n        userId\n        name\n        show\n        color\n        isDefault\n        context\n      }\n    "],["\n      fragment CalendarWithoutPermissionsFragment on Calendar {\n        id\n        userId\n        name\n        show\n        color\n        isDefault\n        context\n      }\n    "])))}},In={fragments:{FullEventFragment:Object(Dn["a"])(mn||(mn=Object(s["e"])(["\n      fragment FullEventFragment on CalendarEvent {\n        id\n        calendarContext\n        calendarId\n        title\n        createdBy\n        timezone\n        allDay\n        start\n        end\n        color\n        duration {\n          days\n          hours\n          minutes\n        }\n        rrule {\n          freq\n          interval\n          dtstart\n          byweekday {\n            weekday\n            n\n          }\n          until\n          count\n        }\n        exdate\n        contact\n        case\n        description\n        parentId\n        location\n        attendees\n      }\n    "],["\n      fragment FullEventFragment on CalendarEvent {\n        id\n        calendarContext\n        calendarId\n        title\n        createdBy\n        timezone\n        allDay\n        start\n        end\n        color\n        duration {\n          days\n          hours\n          minutes\n        }\n        rrule {\n          freq\n          interval\n          dtstart\n          byweekday {\n            weekday\n            n\n          }\n          until\n          count\n        }\n        exdate\n        contact\n        case\n        description\n        parentId\n        location\n        attendees\n      }\n    "])))}},Bn={fragments:{UserBasicsFragment:Object(Dn["a"])(On||(On=Object(s["e"])(["\n      fragment UserBasicsFragment on Users {\n        id\n        email\n        admin\n        firstName\n        middleName\n        lastName\n      }\n    "],["\n      fragment UserBasicsFragment on Users {\n        id\n        email\n        admin\n        firstName\n        middleName\n        lastName\n      }\n    "])))}};function _n(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={read:{read:!0,create:!1,edit:!1,delete:!1},all:{all:!0},quit:{all:!1}},a=r[e];return Ot(t)&&(a.userIds=Object.freeze(Object(s["g"])([],t))),Object.freeze(a)}function Gn(e){var t=Mt(e),n=Vt(Object(s["a"])({},t));return{localEvent:t,fullCalendarEvent:n}}function Pn(e){return Object(s["b"])(this,void 0,void 0,(function(){var t,n,r,a,o,c;return Object(s["d"])(this,(function(i){switch(i.label){case 0:return t=e.calendars,n=Object(s["f"])(e,["calendars"]),[4,Mn.graphql({query:Object(Dn["a"])(pn||(pn=Object(s["e"])(["\n      query getEvents($events: filterCalendarEvents, $calendars: [String]!) {\n        calendarSearch(search: { events: $events, calendars: $calendars }) {\n          events {\n            ...FullEventFragment\n          }\n        }\n      }\n      ","\n    "],["\n      query getEvents($events: filterCalendarEvents, $calendars: [String]!) {\n        calendarSearch(search: { events: $events, calendars: $calendars }) {\n          events {\n            ...FullEventFragment\n          }\n        }\n      }\n      ","\n    "])),In.fragments.FullEventFragment),variables:{calendars:t,events:n}})];case 1:if(r=i.sent().data,r.errors)throw r.errors;return a=r.data.calendarSearch.events,a?(o=a.reduce((function(e,t){if(!e.length){var n={id:t.calendarId,events:[t]};return[n]}var r=e.findIndex((function(e){return e.id===t.calendarId}));if(-1!==r)return e[r].events.push(t),e;var a={id:t.calendarId,events:[t]};return Object(s["g"])(Object(s["g"])([],e),[a])}),[]),c=o.filter((function(e){return!mt(e.events)})).map((function(e){var t=e.events[0].calendarId,n=e.events.map((function(e){return Mt(e)})),r=n.map((function(e){return Vt(Object(s["a"])({},e))}));return{id:t,events:n,fullCalendarEvents:r}})),[2,c]):[2,[]]}}))}))}function Rn(){return Object(s["b"])(this,void 0,void 0,(function(){var e,t,n,r;return Object(s["d"])(this,(function(a){switch(a.label){case 0:return[4,Mn.graphql({query:Object(Dn["a"])(jn||(jn=Object(s["e"])(["\n      {\n        calendar {\n          ...CalendarFullFragment\n        }\n        users {\n          ...UserBasicsFragment\n        }\n        whoAmI {\n          ...UserBasicsFragment\n        }\n      }\n      ",",\n      ","\n    "],["\n      {\n        calendar {\n          ...CalendarFullFragment\n        }\n        users {\n          ...UserBasicsFragment\n        }\n        whoAmI {\n          ...UserBasicsFragment\n        }\n      }\n      ",",\n      ","\n    "])),An.fragments.CalendarFullFragment,Bn.fragments.UserBasicsFragment)})];case 1:if(e=a.sent().data,e.errors)throw e.errors;return t=e.data.whoAmI,n=e.data.users,r=e.data.calendar,r=r.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{isDefault:e.isDefault&&e.userId===t.id,events:[]})})).sort((function(e){return e.isDefault?-1:e.userId===t.id?0:1})),[2,{calendars:r,whoami:t,users:n}]}}))}))}function Fn(e,t){return Object(s["b"])(this,void 0,Promise,(function(){var n,r,a,o,c;return Object(s["d"])(this,(function(i){switch(i.label){case 0:return n={func:"$start: String!, $end: String!",events:"start: $start, end: $end"},r=Object(s["a"])({},e),t&&(n.func+=", $"+t.field+": Int",n.events+=", "+t.field+": $"+t.field,r[t.field]=t.value),[4,Mn.graphql({query:Object(Dn["a"])(hn||(hn=Object(s["e"])(["\n      query getEvents(",") {\n        calendar(filter: { calendar: { show: true }, events: { "," } }) {\n          events {\n            ...FullEventFragment\n          }\n        }\n      }\n      ","\n    "],["\n      query getEvents(",") {\n        calendar(filter: { calendar: { show: true }, events: { "," } }) {\n          events {\n            ...FullEventFragment\n          }\n        }\n      }\n      ","\n    "])),n.func,n.events,In.fragments.FullEventFragment),variables:r})];case 1:if(a=i.sent().data,a.errors)throw a.errors;return o=a.data.calendar,c=o.filter((function(e){return!mt(e.events)})).map((function(e){var t=e.events[0].calendarId,n=e.events.map((function(e){return Mt(e)})),r=n.map((function(e){return Vt(Object(s["a"])({},e))}));return{id:t,events:n,fullCalendarEvents:r}})),[2,c]}}))}))}function Ln(e,t,n,r){return Object(s["b"])(this,void 0,void 0,(function(){var a,o,c,i;return Object(s["d"])(this,(function(l){switch(l.label){case 0:return a={func:"$calendarId: String!, $context: enumCalendarContext!, $start: String!, $end: String!",events:"start: $start, end: $end"},o=Object(s["a"])({calendarId:e,context:t},n),r&&"LOCAL"===t&&(a.func+=", $"+r.field+": Int",a.events+=", "+r.field+": $"+r.field,o[r.field]=r.value),[4,Mn.graphql({query:Object(Dn["a"])(yn||(yn=Object(s["e"])(["\n      query getEvents(",") {\n        calendar(\n          filter: {\n            calendar: { entity: { id: $calendarId, context: $context } }\n            events: { "," }\n          }\n        ) {\n          events {\n            ...FullEventFragment\n          }\n        }\n      }\n      ","\n    "],["\n      query getEvents(",") {\n        calendar(\n          filter: {\n            calendar: { entity: { id: $calendarId, context: $context } }\n            events: { "," }\n          }\n        ) {\n          events {\n            ...FullEventFragment\n          }\n        }\n      }\n      ","\n    "])),a.func,a.events,In.fragments.FullEventFragment),variables:o})];case 1:if(c=l.sent().data,c.errors)throw c.errors;return i=Ot(c.data.calendar)?c.data.calendar[0].events:[],[2,i.map((function(e){return Gn(e)}))]}}))}))}function zn(e,t,n){return Object(s["b"])(this,void 0,void 0,(function(){var r;return Object(s["d"])(this,(function(a){switch(a.label){case 0:return[4,Mn.graphql({mutation:Object(Dn["a"])(gn||(gn=Object(s["e"])(["\n      mutation updateCalendar($id: String!, $context: enumCalendarContext!, $show: Boolean!) {\n        calendarWriteShowFor(type: $context, calendarId: $id, show: $show) {\n          calendarId\n          show\n          userId\n          type\n        }\n      }\n    "],["\n      mutation updateCalendar($id: String!, $context: enumCalendarContext!, $show: Boolean!) {\n        calendarWriteShowFor(type: $context, calendarId: $id, show: $show) {\n          calendarId\n          show\n          userId\n          type\n        }\n      }\n    "]))),variables:{id:t,context:e,show:n}})];case 1:if(r=a.sent().data,r.errors)throw r.errors;return[2,r.data.calendarWriteShowFor]}}))}))}function qn(e,t){return Object(s["b"])(this,void 0,void 0,(function(){var n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return[4,Mn.graphql({mutation:Object(Dn["a"])(Cn||(Cn=Object(s["e"])(["\n      mutation updateCalendar($id: String!, $editCalendar: editCalendar!) {\n        calendarEdit(_id: $id, editCalendar: $editCalendar) {\n          ...CalendarWithoutPermissionsFragment\n        }\n      }\n      ","\n    "],["\n      mutation updateCalendar($id: String!, $editCalendar: editCalendar!) {\n        calendarEdit(_id: $id, editCalendar: $editCalendar) {\n          ...CalendarWithoutPermissionsFragment\n        }\n      }\n      ","\n    "])),An.fragments.CalendarWithoutPermissionsFragment),variables:{id:e,editCalendar:t}})];case 1:if(n=r.sent().data,n.errors)throw n.errors;return[2,n.data.calendarEdit]}}))}))}function Un(e){return Object(s["b"])(this,void 0,void 0,(function(){var t,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return[4,Mn.graphql({mutation:Object(Dn["a"])(wn||(wn=Object(s["e"])(["\n      mutation createCalendar($calendar: newCalendar!) {\n        calendarAdd(newCalendar: $calendar) {\n          ...CalendarFullFragment\n        }\n      }\n      ","\n    "],["\n      mutation createCalendar($calendar: newCalendar!) {\n        calendarAdd(newCalendar: $calendar) {\n          ...CalendarFullFragment\n        }\n      }\n      ","\n    "])),An.fragments.CalendarFullFragment),variables:{calendar:e}})];case 1:if(t=r.sent().data,t.errors)throw t.errors;return n=Object(s["a"])(Object(s["a"])({},t.data.calendarAdd),{events:[]}),[2,n]}}))}))}function $n(e){return Object(s["b"])(this,void 0,void 0,(function(){var t;return Object(s["d"])(this,(function(n){switch(n.label){case 0:return[4,Mn.graphql({mutation:Object(Dn["a"])(kn||(kn=Object(s["e"])(["\n      mutation createEvent($event: newCalendarEvent!) {\n        calendarEventAdd(newCalendarEvent: $event) {\n          ...FullEventFragment\n        }\n      }\n      ","\n    "],["\n      mutation createEvent($event: newCalendarEvent!) {\n        calendarEventAdd(newCalendarEvent: $event) {\n          ...FullEventFragment\n        }\n      }\n      ","\n    "])),In.fragments.FullEventFragment),variables:{event:e}})];case 1:if(t=n.sent().data,t.errors)throw t.errors;return[2,Gn(t.data.calendarEventAdd)]}}))}))}function Yn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s["b"])(this,void 0,void 0,(function(){var t,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return[4,Mn.graphql({mutation:Object(Dn["a"])(En||(En=Object(s["e"])(["\n      mutation updateEvents($criteria: [calendarEventCriteriaEdit!]!) {\n        calendarEventsEdit(criteria: $criteria) {\n          ...FullEventFragment\n        }\n      }\n      ","\n    "],["\n      mutation updateEvents($criteria: [calendarEventCriteriaEdit!]!) {\n        calendarEventsEdit(criteria: $criteria) {\n          ...FullEventFragment\n        }\n      }\n      ","\n    "])),In.fragments.FullEventFragment),variables:{criteria:e}})];case 1:if(t=r.sent().data,t.errors)throw t.errors;return n=t.data.calendarEventsEdit,[2,n.map((function(e){return Gn(e)}))]}}))}))}function Wn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s["b"])(this,void 0,Promise,(function(){var t;return Object(s["d"])(this,(function(n){switch(n.label){case 0:return[4,Mn.graphql({mutation:Object(Dn["a"])(Tn||(Tn=Object(s["e"])(["\n      mutation deleteEvents($filters: [calendarEventFilterDelete!]!) {\n        calendarEventsDelete(filters: $filters) {\n          ...FullEventFragment\n        }\n      }\n      ","\n    "],["\n      mutation deleteEvents($filters: [calendarEventFilterDelete!]!) {\n        calendarEventsDelete(filters: $filters) {\n          ...FullEventFragment\n        }\n      }\n      ","\n    "])),In.fragments.FullEventFragment),variables:{filters:e}})];case 1:if(t=n.sent().data,t.errors)throw t.errors;return[2,t.data.calendarEventsDelete.map((function(e){return Mt(e)}))]}}))}))}function Hn(e){var t;return Object(s["b"])(this,void 0,void 0,(function(){var n,r;return Object(s["d"])(this,(function(a){switch(a.label){case 0:return n=_n.apply(void 0,Object(s["g"])([e.permission],null!==(t=e.userIds)&&void 0!==t?t:[])),[4,Mn.graphql({mutation:Object(Dn["a"])(Sn||(Sn=Object(s["e"])(["\n      mutation addPermission(\n        $id: String!\n        $type: enumTypePermission!\n        $permission: newCalendarPermission!\n      ) {\n        calendarPermissionWrite(id: $id, type: $type, permission: $permission) {\n          id\n          userId\n          permissions {\n            admin {\n              all\n              read\n            }\n            global {\n              all\n              read\n            }\n            individual {\n              userId\n              all\n              read\n            }\n          }\n        }\n      }\n    "],["\n      mutation addPermission(\n        $id: String!\n        $type: enumTypePermission!\n        $permission: newCalendarPermission!\n      ) {\n        calendarPermissionWrite(id: $id, type: $type, permission: $permission) {\n          id\n          userId\n          permissions {\n            admin {\n              all\n              read\n            }\n            global {\n              all\n              read\n            }\n            individual {\n              userId\n              all\n              read\n            }\n          }\n        }\n      }\n    "]))),variables:{id:e.calendarId,type:e.type,permission:n}})];case 1:if(r=a.sent().data,r.errors)throw r.errors;return[2,r.data.calendarPermissionWrite]}}))}))}function Kn(e){return Object(s["b"])(this,void 0,void 0,(function(){var t,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return t=_n.apply(void 0,Object(s["g"])(["quit"],e.userId?[e.userId]:[])),[4,Mn.graphql({mutation:Object(Dn["a"])(Nn||(Nn=Object(s["e"])(["\n      mutation revokePermission(\n        $id: String!\n        $type: enumTypePermission!\n        $permission: newCalendarPermission!\n      ) {\n        calendarPermissionWrite(id: $id, type: $type, permission: $permission) {\n          id\n          userId\n          permissions {\n            admin {\n              all\n              read\n            }\n            global {\n              all\n              read\n            }\n            individual {\n              userId\n              all\n              read\n            }\n          }\n        }\n      }\n    "],["\n      mutation revokePermission(\n        $id: String!\n        $type: enumTypePermission!\n        $permission: newCalendarPermission!\n      ) {\n        calendarPermissionWrite(id: $id, type: $type, permission: $permission) {\n          id\n          userId\n          permissions {\n            admin {\n              all\n              read\n            }\n            global {\n              all\n              read\n            }\n            individual {\n              userId\n              all\n              read\n            }\n          }\n        }\n      }\n    "]))),variables:{id:e.calendarId,type:e.type,permission:t}})];case 1:if(n=r.sent().data,n.errors)throw n.errors;return[2,n.data.calendarPermissionWrite]}}))}))}function Zn(e){return Object(s["b"])(this,void 0,void 0,(function(){var t;return Object(s["d"])(this,(function(n){switch(n.label){case 0:return[4,Mn.graphql({mutation:Object(Dn["a"])(xn||(xn=Object(s["e"])(["\n      mutation removeCalendar($id: String!) {\n        calendarRemove(id: $id) {\n          id\n          name\n          eventsRemoved\n        }\n      }\n    "],["\n      mutation removeCalendar($id: String!) {\n        calendarRemove(id: $id) {\n          id\n          name\n          eventsRemoved\n        }\n      }\n    "]))),variables:{id:e}})];case 1:if(t=n.sent().data,t.errors)throw t.errors;return[2,t.data.calendarRemove]}}))}))}var Jn=n("a1e9"),Qn=Object(Jn["p"])({whoami:{},users:[]}),Xn=function(){var e=function(e){Qn.whoami=Object(s["a"])(Object(s["a"])({},e),{fullName:r(e)})},t=function(e){Qn.users=e.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{fullName:r(e)})})).filter((function(e){return e.id!==Qn.whoami.id}))},n=function(e){if(e===Qn.whoami.id)return Object(s["a"])({},Qn.whoami);var t=Qn.users.find((function(t){return t.id===e}));return Object(s["a"])({},t)},r=function(e){return e.lastName?e.firstName+" "+e.lastName:e.middleName?e.firstName+" "+e.middleName:e.firstName};return Object(s["a"])(Object(s["a"])({},Object(Jn["z"])(Object(Jn["q"])(Qn))),{getUserLocal:n,getUserFullName:r,setWhoami:e,setUsers:t})},er=Object(c["reactive"])({enable:!1,isActiveView:!1,loaded:!1,filter:null,displayInputSearch:!1,keyword:"",calendars:[],filterAppliedWithKeyword:!1,contact:null,pagination:{size:1e3,skip:0,total:0},cache:{contact:{},cases:[]}}),tr=function(){var e=this,t=Xn().getUserLocal,n=function(e){er.enable=e,e&&r(!0)},r=function(e){er.isActiveView=e},a=function(e){er.calendars=e},o=function(e,t){if(!er.enable)throw new Error("The mode filter is disabled, enable first and set the filter data");er.filter={field:e,value:t}},i=function(e){er.cache.cases=e},l=function(e){er.cache.contact=e},u=function(e){er.displayInputSearch=e,!e&&er.keyword&&(er.keyword="")},d=function(e){er.keyword=e},f=function(e){er.contact=e},b=function(e){"next"!==e?er.pagination.skip-=er.pagination.size:er.pagination.skip+=er.pagination.size},v=function(){er.pagination.skip=0},m=Object(c["computed"])((function(){var e={prev:!1,next:!1},t=er.pagination;return t.size+t.skip<t.total&&(e.next=!0),t.skip>=t.size&&(e.prev=!0),e})),O=function(e){var n;if(!er.keyword)return!0;var r=er.keyword.toLowerCase();if(e.title.toLowerCase().includes(r))return!0;if(e.description&&e.description.toLowerCase().includes(r))return!0;var a=t(e.createdBy);if(a.fullName.toLowerCase().includes(r))return!0;if("contactId"===(null===(n=er.filter)||void 0===n?void 0:n.field)){var o=er.cache.cases.some((function(e){return e.name.toLowerCase().includes(r)||e.caseTypeName.toLowerCase().includes(r)}));if(o)return!0}return!1},p=function(e){return ot(e).map((function(e){var t=e.events;er.keyword&&(t=e.events.filter((function(e){return O(e)})));var n=t.map((function(e){return Vt(Object(s["a"])({},e))}));return{id:e.id,events:t,fullCalendarEvents:n}}))},j=function(e){var t=e.filter((function(e){return er.calendars.includes(e.id)}));return p(t).filter((function(e){return e.events.length}))},h=function(){var e;if(!er.filter)throw new Error("Nothing to filter");var t=(e={},e[er.filter.field]=er.filter.value,e.calendars=er.calendars,e);return er.keyword&&(t.keyword=er.keyword),t},y=function(t){return Object(s["b"])(e,void 0,void 0,(function(){var e,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return t&&er.loaded?[2,{from:"local",sourceEvents:j(t)}]:(e=h(),[4,Pn(e)]);case 1:return n=r.sent(),er.filterAppliedWithKeyword=!!er.keyword,er.loaded||(er.loaded=!0),[2,{from:"backend",sourceEvents:n}]}}))}))};return{isModeFilter:Object(c["computed"])((function(){return er.enable})),globalFilter:Object(c["computed"])((function(){return er.filter})),isDisplayInputSearch:Object(c["computed"])((function(){return er.displayInputSearch})),keyword:Object(c["computed"])((function(){return er.keyword})),isFilterAppliedWithKeyword:Object(c["computed"])((function(){return er.filterAppliedWithKeyword})),contactData:Object(c["computed"])((function(){return er.contact})),isFilterViewActive:Object(c["computed"])((function(){return er.isActiveView})),activeModeFilter:n,setFilterData:o,setContactData:f,setCasesInCache:i,setContactInCache:l,setVisibilityInputSearch:u,setPaginationSkip:b,setKeyword:d,setCalendarsToFilter:a,getFilteredEvents:y,paginationStatus:m,resetPagination:v,setFilterViewAsActive:r,getFilterArgs:h}},nr=Object(c["reactive"])({sources:[],filteredSources:[]}),rr=function(){var e=Xn(),t=e.whoami,n=e.getUserLocal,r=tr(),a=r.isFilterViewActive,o=r.isModeFilter,i=function(e,t){void 0===t&&(t=!1),nr.sources=e.map((function(e){return S(e)})),t&&(nr.filteredSources=ot(e).filter((function(e){return e.context!==Ie.Google})).map((function(e){return S(Object(s["a"])(Object(s["a"])({},e),{show:!0}))})))},l=Object(c["computed"])((function(){return a.value?nr.filteredSources:nr.sources})),u=Object(c["computed"])((function(){return l.value.filter((function(e){return e.show})).map((function(e){return e.id}))})),d=function(e){return e.all?Be.All:Be.Read},f=function(e){var t={};return e.admin&&(t.admin=d(e.admin)),e.global&&(t.global=d(e.global)),Ot(e.individual)?(t.individual=e.individual.map((function(e){var t=n(e.userId);return{id:t.id,name:t.fullName,email:t.email,admin:t.admin,permission:d(e)}})),t):t},b=Object(c["computed"])((function(){return l.value.reduce((function(e,n){var r={id:n.id,user:n.user,name:n.name,show:n.show,isDefault:n.isDefault,color:n.color,context:n.context,permissions:n.permissions};return n.context===Ie.Google?Object(s["a"])(Object(s["a"])({},e),{google:Object(s["g"])(Object(s["g"])([],e.google),[r])}):n.user.id===t.value.id?Object(s["a"])(Object(s["a"])({},e),{own:Object(s["g"])(Object(s["g"])([],e.own),[r])}):Object(s["a"])(Object(s["a"])({},e),{shared:Object(s["g"])(Object(s["g"])([],e.shared),[r])})}),{own:[],shared:[],google:[]})})),v=Object(c["computed"])((function(){var e=b.value.own.filter((function(e){return e.isDefault}))[0];return e})),m=Object(c["computed"])((function(){return l.value.map((function(e){return e.color}))})),O=Object(c["computed"])((function(){return Object.values(_t).map((function(e){var t=m.value.includes(e);return{color:e,active:!1,animate:!t,disabled:t}}))})),p=function(e){var n=e.permissions,r=void 0===n?null:n,a=e.user,o=e.context;if(o===Ie.Google||!r||!a)return Be.Read;if(a.id===t.value.id)return Be.All;for(var c=Object.keys(r),i=0,l=c;i<l.length;i++){var u=l[i],d=void 0;if(d="individual"===u&&Ot(r.individual)?r.individual[0].permission:r[u],d===Be.All)return d}return Be.Read},j=function(e){return u.value.includes(e)},h=function(e){return b.value.own.some((function(t){return t.id===e}))},y=function(e){if(o.value)for(var t=0,n=nr.filteredSources;t<n.length;t++){var r=n[t];if(r.id===e.calendarId){r.events.push(e);break}}if(!a.value)for(var c=0,i=nr.sources;c<i.length;c++){r=i[c];if(r.id===e.calendarId){r.events.push(e);break}}},g=function(e,t){if(o.value)for(var n=0,r=nr.filteredSources;n<r.length;n++){var c=r[n];if(c.id===t){var i=c.events.findIndex((function(t){return t.id===e}));-1!==i&&c.events.splice(i,1);break}}if(!a.value)for(var l=0,u=nr.sources;l<u.length;l++){c=u[l];if(c.id===t){i=c.events.findIndex((function(t){return t.id===e}));-1!==i&&c.events.splice(i,1);break}}},C=function(e){return nr.sources.push(ot(e)),o.value&&nr.filteredSources.push(ot(e)),e},w=function(e){var t=l.value.findIndex((function(t){return t.id===e}));if(-1===t)throw new Error('Source with the ID "'+e+'" was not found');return{index:t,source:l.value[t]}},k=function(e){var t=a.value?nr.sources:nr.filteredSources,n=t.findIndex((function(t){return t.id===e}));return{oppositeIndex:n,oppositeSource:t[n]}},E=function(e){var t=w(e),n=t.index,r=t.source;if(!r)throw new Error('Calendar with the ID "'+e+'" was not found.');return l.value.splice(n,1)},T=function(e,t){var n=w(e).source;if(!n)throw new Error('Calendar with the ID "'+e+'" was not found.');var r=Object.keys(t);if(r.forEach((function(e){n[e]=t[e]})),o.value){var a=k(e).oppositeSource;r.forEach((function(e){a[e]=t[e]}))}return n},S=function(e){var t=e.userId,r=Object(s["f"])(e,["userId"]),a=null;return null!==t&&(a=n(t)),Object(s["a"])(Object(s["a"])({},r),{user:a,permissions:e.permissions?f(e.permissions):null})};return{sources:l,getSourcePermission:p,setSources:i,addNewSource:C,addNewEventInSource:y,deleteEventInSource:g,updateSource:T,removeSource:E,getSourceById:w,getOppositeSourceById:k,isSourceDisplayed:j,transformSource:S,transformPermission:f,isCalendarOwn:h,displayedSources:u,sourcesToRender:b,defaultSource:v,sourceColors:O}},ar=Object(c["ref"])({}),or=Object(c["reactive"])({event:{},calendarId:null,oldRecurringPosition:null,activeDateRange:{}}),cr=Object(c["ref"])({}),ir=function(){var e=rr(),t=e.sources,n=e.getSourcePermission,r=e.setSources,o=e.addNewSource,i=e.displayedSources,l=e.sourcesToRender,u=e.defaultSource,d=e.getSourceById,f=e.transformSource,b=Object(c["ref"])(!1),v=Object(c["computed"])((function(){return!!or.event&&!!or.event.rrule})),m=Object(c["computed"])((function(){return!!or.event&&!!or.event.parentId})),O=Object(c["computed"])((function(){if(!or.calendarId)return u.value;var e=Object(s["g"])(Object(s["g"])(Object(s["g"])([],l.value.own),l.value.shared),l.value.google);return e.find((function(e){return e.id===or.calendarId}))})),p=Object(c["computed"])((function(){return n(O.value)})),j=function(){return t.value.find((function(e){return e.id===or.calendarId}))},h=function(e){var t,n=null===(t=or.event)||void 0===t?void 0:t.id;e=e||j();var r=e.events.findIndex((function(e){return e.id===n})),a=e.events[r];return{event:a,index:r}},y=function(e,t){var n=j(),r=n.events.find((function(t){return t.id===e}));if(!r)throw new Error('Event with the ID "'+e+'" was not found.');if(!r.rrule)throw new Error('Event with the ID "'+e+'" is not a recurring event');return r.exdate.push(r.allDay?lt(t):t),Object(s["g"])([],r.exdate)},g=function(){return ot(or.event)},C=function(e,t){var n=t?d(t).source:j(),r=ot(n.events.find((function(t){return t.id===e})));if(!r)throw new Error("Event with the ID: "+e+" was not found");return r.rrule&&(r.rrule=Nt(r.rrule)),r},w=function(e){var t=e||cr.value,n=t.startStr,r=t.endStr;return{start:ze(n).toISOString(),end:ze(r).toISOString()}},k=function(){var e=ar.value.currentData.dateProfile.activeRange;return{start:e.start.toISOString(),end:e.end.toISOString()}},E=function(e){var t,n=e.event,r=e.action,o=e.duration;if("resize"===r)return n.duration=o,n=It(n),n;var c=g(),i=c.rrule.byweekday||[];if(n.rrule.dtstart=a.updateDateFromDuration({date:n.rrule.dtstart,duration:o,allDay:n.allDay}),"dragAndDrop"===r&&i.length)return i=i.map((function(e){return a.updateWeekday(e,o.days)})),n.rrule.byweekday=i,n;var l=!1;return i.length,0!==o.daysDiff&&i&&!l&&(n.rrule.byweekday=i.map((function(e){return a.updateWeekday(e,o.daysDiff)}))),(null===(t=n.rrule)||void 0===t?void 0:t.until)&&(n.rrule.until=a.updateDateFromDuration({date:n.rrule.until,duration:o,allDay:n.allDay})),n},T=function(e){ar.value=e},S=function(e){or.calendarId=e},N=function(e){or.activeDateRange=e},x=function(e){or.oldRecurringPosition=e},V=function(e){S(e.source.id),cr.value=e,or.event=C(e.id,e.source.id)},M=function(e){var n=e?t.value.filter((function(t){return e.includes(t.id)})):t.value;n.forEach((function(e){if(e.show){var t=ar.value.getEventSourceById(e.id);ar.value.batchRendering((function(){t?(t.remove(),ar.value.addEventSource(e)):ar.value.addEventSource(e)}))}}))},D=function(e){ar.value.addEventSource(e)},A=function(e){var t=f(e);o(t),D(t)};return{calendar:ar,sources:t,currentData:or,currentEventApi:cr,permission:p,getCurrentEventDataFromSources:h,getFullEventById:C,getCurrentFullEvent:g,getEventDate:w,getActiveDatesRange:k,isSourcesLoaded:Object(c["readonly"])(b),isRecurringEvent:v,isChildEvent:m,displayedSources:i,sourcesToRender:l,defaultSource:u,selectedSource:O,addNewCalendarSource:A,refetchSources:M,addRecurrenceExclusion:y,updateEventRuleAndDuration:E,setCalendarInstance:T,setSources:r,setDataOfCurrentEvent:V,setActiveDateRange:N,setCurrentCalendarId:S,setOldRecurringPosition:x}},lr=function(){var e=rr(),t=e.getSourceById,n=e.addNewEventInSource,o=e.deleteEventInSource,c=function(e,t){var n=t.events.findIndex((function(t){return t.id===e}));if(-1===n)throw new Error("Event ID "+e+" not found in source "+t.name);return{eventIndex:n,event:t.events[n]}},i=function(e,n){if("string"===typeof e){var r=t(e).source;e=r}return ot(e.events).filter((function(e){return!!e.parentId&&e.parentId===n})).map((function(e){e.createdBy;var t=Object(s["f"])(e,["createdBy"]);return t}))},l=function(e,t){var n=rt,r=n.filter((function(n){var r=n.prop,a=n.optional;if(a){var o=!pt(t[r])&&pt(e[r]),c=pt(t[r])&&!pt(e[r]);if(o||c)return!0}return e[r]!==t[r]}));return r.map((function(e){return e.prop}))},u=function(e){var t=e.currentEvent,n=e.newEvent,r=e.children,a=l(t,n);return a.length?r.map((function(e){var r=a.filter((function(n){return e[n]===t[n]})),o={};return r.forEach((function(e){void 0===n[e]?o[e]=null:o[e]=n[e]})),{filter:{id:e.id,calendarId:e.calendarId},newData:o}})):[]},d=function(e,t){return e.reduce((function(e,n){return H.a.utc(n).isSameOrBefore(t)?Object(s["a"])(Object(s["a"])({},e),{current:Object(s["g"])(Object(s["g"])([],e.current),[n])}):Object(s["a"])(Object(s["a"])({},e),{new:Object(s["g"])(Object(s["g"])([],e.new),[n])})}),{current:[],new:[]})},f=function(e){var t=e.currentByweekday,n=e.daysDiff,o=e.freq,c=e.eventSelectedDate,i=a.byweekdayPropToStr(t);if(i=a.updateByweekdayProp(i,n),i=i.map((function(e){return{weekday:e}})),"MONTHLY"===o){var l=r.getDayPositionOfMonth(c);i=[Object(s["a"])(Object(s["a"])({},i[0]),{n:l.n})]}return i},b=function(e,t){return o(e.id,t||e.calendarId),n(e),!0};return{getEventFromSource:c,getRecurrenceChildren:i,getChildrenDataToUpdate:u,splitExdate:d,regenerateByweekday:f,renewLocalEvent:b}};n("99af");Object(c["pushScopeId"])("data-v-14f1062a");var ur={class:"Permissions__list-permission"},dr=Object(c["createTextVNode"])("See all event details"),sr=Object(c["createTextVNode"])("Make changes to events"),fr={class:"Permissions"},br=Object(c["createElementVNode"])("h2",{class:"Permissions__label"},"Special permissions",-1),vr={class:"Permissions__list-item"},mr={class:"Permissions__list-user"},Or={class:"Permissions__list-avatar"},pr={class:"Permissions__list-title"},jr={key:0,class:"Permissions__list-permission"},hr=Object(c["createTextVNode"])("See all event details"),yr=Object(c["createTextVNode"])("Make changes to events"),gr={key:1,class:"Permissions__list-permission"},Cr=Object(c["createElementVNode"])("h2",{class:"Permissions__label",style:{"margin-top":"1.5rem"}},"Share with specific people",-1),wr={class:"Permissions__list"},kr={class:"Permissions__list-item"},Er={class:"Permissions__list-user"},Tr={class:"Permissions__list-avatar"},Sr={class:"Permissions__list-title"},Nr={class:"Permissions__list-user"},xr={class:"Permissions__list-avatar"},Vr={class:"Permissions__list-title"},Mr={key:0,class:"Permissions__list-permission"},Dr=Object(c["createTextVNode"])("See all event details"),Ar=Object(c["createTextVNode"])("Make changes to events"),Ir={class:"Permissions__plus-btn"},Br=Object(c["createTextVNode"])(" Add people ");function _r(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("ASelectOption"),l=Object(c["resolveComponent"])("ASelect"),u=Object(c["resolveComponent"])("AFormItem"),d=Object(c["resolveComponent"])("AForm"),s=Object(c["resolveComponent"])("AModal"),f=Object(c["resolveComponent"])("CloseOutlined"),b=Object(c["resolveComponent"])("AButton"),v=Object(c["resolveComponent"])("ATooltip"),m=Object(c["resolveComponent"])("LockOutlined"),O=Object(c["resolveComponent"])("PlusOutlined"),p=Object(c["resolveComponent"])("APopconfirm"),j=Object(c["resolveComponent"])("UserOutlined");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(s,{visible:e.modalAddPeople,"onUpdate:visible":t[2]||(t[2]=function(t){return e.modalAddPeople=t}),title:"Share with specific people","ok-button-props":{disabled:!e.addPermission.users.length},"confirm-loading":e.isLoading,onOk:e.addUserPermission,onCancel:e.onCancelModalAddPeople},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{layout:"vertical"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{label:"Add email or name"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{ref:"refSelectUser",value:e.addPermission.users,"onUpdate:value":t[0]||(t[0]=function(t){return e.addPermission.users=t}),"show-search":"",mode:"multiple","filter-option":e.userFilterOption,"option-label-prop":"label",placeholder:"Add email or name",style:{width:"100%"}},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.availableUsers,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:e.id,label:e.fullName},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.fullName)+" ("+Object(c["toDisplayString"])(e.email)+") ",1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["value","filter-option"])]})),_:1}),Object(c["createVNode"])(u,{label:"Permission"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",ur,[Object(c["createVNode"])(l,{value:e.addPermission.permission,"onUpdate:value":t[1]||(t[1]=function(t){return e.addPermission.permission=t}),style:{width:"100%"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{value:"read"},{default:Object(c["withCtx"])((function(){return[dr]})),_:1}),Object(c["createVNode"])(i,{value:"all"},{default:Object(c["withCtx"])((function(){return[sr]})),_:1})]})),_:1},8,["value"])])]})),_:1})]})),_:1})]})),_:1},8,["visible","ok-button-props","confirm-loading","onOk","onCancel"]),Object(c["createElementVNode"])("section",fr,[br,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.specialPermissions,(function(n,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:r,class:"Permissions__list"},[Object(c["createElementVNode"])("div",vr,[Object(c["createElementVNode"])("div",mr,[Object(c["createElementVNode"])("div",Or,[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])(n.icon),{style:{"font-size":"16px"}}))]),Object(c["createElementVNode"])("div",pr,Object(c["toDisplayString"])(n.label),1)]),n.permission?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",jr,[Object(c["createVNode"])(l,{value:n.permission,"onUpdate:value":function(e){return n.permission=e},size:"small",style:{width:"188.77px"},disabled:e.isLoading,onChange:function(t){return e.setPermission({type:r,permission:n.permission})}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{value:"read"},{default:Object(c["withCtx"])((function(){return[hr]})),_:1}),Object(c["createVNode"])(i,{value:"all"},{default:Object(c["withCtx"])((function(){return[yr]})),_:1})]})),_:2},1032,["value","onUpdate:value","disabled","onChange"]),"global"===r?(Object(c["openBlock"])(),Object(c["createBlock"])(v,{key:0,title:"Revoke permission"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{disabled:e.isLoading,type:"link",size:"small",onClick:function(t){return e.revokePermission(r)}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f)]})),_:2},1032,["disabled","onClick"])]})),_:2},1024)):Object(c["createCommentVNode"])("",!0),"admin"===r?(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:1,style:{padding:"0 8px"}})):Object(c["createCommentVNode"])("",!0)])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",gr,[Object(c["createVNode"])(p,{title:"Are you sure you want to set the calendar as global?","ok-text":"Yes","cancel-text":"No",onConfirm:e.setCalendarAsGlobal,onVisibleChange:e.onChangePopConfirm},{default:Object(c["withCtx"])((function(){return["global"===r?(Object(c["openBlock"])(),Object(c["createBlock"])(v,{key:0,visible:e.isVisibleTooltipRevokeGlobal&&!e.isVisiblePopConfirm,title:"Set the calendar as global"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{size:"small",type:"link",disabled:e.isLoading,onMouseenter:t[3]||(t[3]=function(t){return e.isVisibleTooltipRevokeGlobal=!0}),onMouseleave:t[4]||(t[4]=function(t){return e.isVisibleTooltipRevokeGlobal=!1})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O)]})),_:1},8,["disabled"])]})),_:1},8,["visible"])):Object(c["createCommentVNode"])("",!0)]})),_:2},1032,["onConfirm","onVisibleChange"])]))])])})),128)),Cr,Object(c["createElementVNode"])("div",wr,[Object(c["createElementVNode"])("div",kr,[Object(c["createElementVNode"])("div",Er,[Object(c["createElementVNode"])("div",Tr,[Object(c["createVNode"])(j,{style:{"font-size":"16px"}})]),Object(c["createVNode"])(v,{title:"".concat(e.whoami.fullName," (").concat(e.whoami.email,")"),"overlay-style":{maxWidth:"420px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",Sr,Object(c["toDisplayString"])(e.whoami.fullName)+" "+Object(c["toDisplayString"])("(Owner".concat(e.whoami.admin&&", Admin",")")),1)]})),_:1},8,["title"])])]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sharedWith,(function(t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t.id,class:"Permissions__list-item"},[Object(c["createElementVNode"])("div",Nr,[Object(c["createElementVNode"])("div",xr,[Object(c["createVNode"])(j,{style:{"font-size":"16px"}})]),Object(c["createVNode"])(v,{title:"".concat(t.name," (").concat(t.email,")"),"overlay-style":{maxWidth:"420px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",Vr,Object(c["toDisplayString"])(t.name)+" "+Object(c["toDisplayString"])(t.admin?"(Admin)":""),1)]})),_:2},1032,["title"])]),t.isOwner?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Mr,[Object(c["createVNode"])(l,{value:t.permission,"onUpdate:value":function(e){return t.permission=e},disabled:e.isLoading,size:"small",style:{width:"188.77px"},onChange:function(n){return e.setPermission({type:"individual",permission:t.permission,userIds:[t.id]})}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{value:"read"},{default:Object(c["withCtx"])((function(){return[Dr]})),_:1}),Object(c["createVNode"])(i,{value:"all"},{default:Object(c["withCtx"])((function(){return[Ar]})),_:1})]})),_:2},1032,["value","onUpdate:value","disabled","onChange"]),Object(c["createVNode"])(v,{title:"Revoke permission",onClick:function(n){return e.revokePermission(e.PermissionsType.Individual,t.id)}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{disabled:e.isLoading,type:"link",size:"small"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f)]})),_:1},8,["disabled"])]})),_:2},1032,["onClick"])]))])})),128))]),Object(c["createElementVNode"])("div",Ir,[Object(c["createVNode"])(b,{disabled:e.isLoading,onClick:t[5]||(t[5]=function(t){return e.modalAddPeople=!0})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O),Br]})),_:1},8,["disabled"])])])],64)}Object(c["popScopeId"])();n("498a");var Gr,Pr,Rr,Fr=n("edc4"),Lr=n("13dc"),zr=n("8ede"),qr=n("6a86"),Ur=function(){function e(){}return e.search=function(e,t){return void 0===t&&(t=!1),Object(s["b"])(this,void 0,void 0,(function(){var n,r,a;return Object(s["d"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n="",t&&(n="\n          cases {\n            id\n            name\n            caseTypeName\n            contactId\n          }\n        "),[4,Mn.graphql({query:Object(Dn["a"])(Gr||(Gr=Object(s["e"])(["\n          query getContacts($search: searchContact) {\n            contacts(search: $search) {\n              id\n              fullName\n              email\n              createdAt\n              birthDate\n              alienNumber\n              isSubcontact\n              socialSecurityNumber\n              citizenship\n              accessLink\n              ","\n            }\n          }\n        "],["\n          query getContacts($search: searchContact) {\n            contacts(search: $search) {\n              id\n              fullName\n              email\n              createdAt\n              birthDate\n              alienNumber\n              isSubcontact\n              socialSecurityNumber\n              citizenship\n              accessLink\n              ","\n            }\n          }\n        "])),n),variables:{search:e}})];case 1:return r=o.sent().data,[2,Promise.resolve(r.data.contacts)];case 2:return a=o.sent(),[2,Promise.reject(a)];case 3:return[2]}}))}))},e.getAll=function(){return Object(s["b"])(this,void 0,void 0,(function(){var e,t;return Object(s["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Mn.graphql({query:Object(Dn["a"])(Pr||(Pr=Object(s["e"])(["\n          query {\n            contacts {\n              id\n              fullName\n              email\n              createdAt\n              birthDate\n              alienNumber\n              isSubcontact\n              socialSecurityNumber\n              citizenship\n              accessLink\n            }\n          }\n        "],["\n          query {\n            contacts {\n              id\n              fullName\n              email\n              createdAt\n              birthDate\n              alienNumber\n              isSubcontact\n              socialSecurityNumber\n              citizenship\n              accessLink\n            }\n          }\n        "])))})];case 1:return e=n.sent().data,[2,Promise.resolve(e.data.contacts)];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}}))}))},e}(),$r=Ur,Yr=function(){function e(){}return e.search=function(e){return Object(s["b"])(this,void 0,void 0,(function(){var t,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Mn.graphql({query:Object(Dn["a"])(Rr||(Rr=Object(s["e"])(["\n          query getCases($contactId: Int) {\n            cases(contactId: $contactId) {\n              id\n              name\n              caseTypeName\n              contactId\n            }\n          }\n        "],["\n          query getCases($contactId: Int) {\n            cases(contactId: $contactId) {\n              id\n              name\n              caseTypeName\n              contactId\n            }\n          }\n        "]))),variables:{contactId:e}})];case 1:return t=r.sent().data,[2,Promise.resolve(t.data.cases)];case 2:return n=r.sent(),[2,Promise.reject(n)];case 3:return[2]}}))}))},e}(),Wr=Yr,Hr=(function(){function e(e){this._events=e,this.notifications=[],this.schedulers=[],this._today=H()()}e.prototype.run=function(){var e=this,t=this.getEventsToNotify();this.notifications=t,console.log(t),t.forEach((function(t){return e.addEventScheduler(t)})),console.log(this.schedulers)},e.prototype.addEventScheduler=function(e){var t=H()(e.date);if(e.allDay)return t.add(17,"hours").add(33,"minutes"),t.isBefore(this._today)?void console.log("Past time"):void this._registerScheduler({delay:t.valueOf()-this._today.valueOf(),childEventId:e.childId,notification:{eventId:e.id,date:!0,title:e.title}});var n=H()(t).subtract(10,"minutes");n.isSameOrAfter(this._today)&&this._registerScheduler({delay:n.valueOf()-this._today.valueOf(),childEventId:e.childId,notification:{eventId:e.id,date:t,title:e.title,prev:!0}}),this._registerScheduler({delay:t.valueOf()-this._today.valueOf(),childEventId:e.childId,notification:{eventId:e.id,date:t,title:e.title}})},e.prototype._registerScheduler=function(e){var t=setTimeout(this._showNotification.bind(this),e.delay,e.notification);this.schedulers.push({timeoutId:t,eventId:e.notification.eventId,childEventId:e.childEventId})},e.prototype._showNotification=function(e){var t="";t="boolean"===typeof e.date?'The event "'+e.title+'" is now starting':"At "+e.date.format("H:mm a")+' starts the event "'+e.title+'"',e.prev&&(t='In ten minutes you have the event "'+e.title+'"'),j.a.info({message:"Event notification",description:t,duration:5,placement:"bottomRight"}),this._removeNotification(e.eventId),console.log("----------------"),console.log(this.notifications),console.log(this.schedulers)},e.prototype._removeNotification=function(e){var t=this.notifications.findIndex((function(t){return t.id===e}));-1!==j.a&&this.notifications.splice(t,1);var n=this.schedulers.findIndex((function(t){return t.eventId===e}));-1!==n&&this.schedulers.splice(t,1)},e.prototype.getEventsToNotify=function(){for(var e=[],t=0,n=this._events;t<n.length;t++){var r=n[t];if(r.rrule)e.push.apply(e,this.getEventsToNotifyOfRecurrence(r));else{var a=this._isActiveEvent(r.start,r.end,r.allDay);a&&e.push({id:r.id,title:r.title,date:H()(r.start).toISOString(),allDay:r.allDay})}}return e},e.prototype.getEventsToNotifyOfRecurrence=function(e){var t=this;if(!e.rrule)throw new Error("Event is not recurring");var n=e.rrule,r=e.exdate,a=this._getFrequencyNumber(n.freq),o=n.until?H()(n.until).toDate():this._today.toDate();if(H()(o).isBefore(this._today))return[];var c=new Ue["a"]({freq:a,interval:n.interval,dtstart:H()(n.dtstart).toDate(),until:this._today.toDate(),byweekday:n.byweekday}),i=c.all(),l=i.filter((function(n){return t._isActiveEvent(n,t._today.toDate(),e.allDay)}));r&&r.length&&(l=l.filter((function(e){var t=r.some((function(t){return H()(t).isSame(e)}));return!t})));var u=[],d=void 0;return l.map((function(t){var n=e.title;if(u.length)for(var r=0,a=u;r<a.length;r++){var o=a[r],c=H()(o.start).isSame(t);if(c){n=o.title,d=o.id;break}}return{id:e.id,title:n,date:H()(t).toISOString(),allDay:e.allDay,childId:d}}))},e.prototype._getFrequencyNumber=function(e){return Ue["a"].FREQUENCIES.findIndex((function(t){return t===e}))},e.prototype._isActiveEvent=function(e,t,n){if(void 0===n&&(n=!0),H()(t).isBefore(this._today))return!1;var r=H()(e),a=r.isSame(this._today.toDate(),"days");if(n)return a;var o=this._today.diff(r)<0;return a&&o}}(),Object(c["defineComponent"])({components:{UserOutlined:Fr["a"],PlusOutlined:P["a"],KeyOutlined:Lr["a"],TeamOutlined:zr["a"],CloseOutlined:Y["a"],LockOutlined:qr["a"]},props:{calendar:{type:Object,required:!0}},setup:function(e){var t=this,n=sn().isLoading,r=Xn(),a=r.whoami,i=r.users,l=rr(),u=l.transformPermission,d=l.updateSource,f=Object(c["ref"])(!1),b=Object(c["ref"])(),v=Object(c["reactive"])({users:[],permission:"read"}),m=Object(c["ref"])(!1),O=Object(c["ref"])(!1),p=Object(c["ref"])(!1),j=Object(c["ref"])([]),h=Object(c["reactive"])({admin:{permission:Be.Read,label:"Administrators",icon:"KeyOutlined"},global:{permission:null,label:"All users",icon:"TeamOutlined"}});Object(c["watch"])((function(){return e.calendar}),(function(e){var t=e.permissions;t&&(h.admin.permission=t.admin,t.global?h.global.permission=t.global:h.global.permission=null,t.individual?(j.value=[],t.individual.forEach((function(e){j.value.push(Object(s["a"])(Object(s["a"])({},e),{isOwner:!1}))}))):j.value=[])}),{immediate:!0}),Object(c["watch"])(f,(function(e){e&&Object(c["nextTick"])((function(){b.value.focus()}))}));var y=Object(c["computed"])((function(){return e.calendar.permissions&&Ot(e.calendar.permissions.individual)?i.value.filter((function(t){var n=e.calendar.permissions.individual.some((function(e){return e.id===t.id}));return!n})):i.value})),g=function(e,t){e=e.trim();var n=i.value.find((function(e){return e.id===t.value}));return!!n&&(!!n.fullName.toLowerCase().includes(e.toLowerCase())||n.email.toLowerCase().includes(e.toLowerCase()))},C=function(n,r){return Object(s["b"])(t,void 0,void 0,(function(){var t,a,c;return Object(s["d"])(this,(function(i){switch(i.label){case 0:if(n===_e.Individual&&!r)throw new Error('Field "userId" is required for revoke permission');return t={calendarId:e.calendar.id,type:n},n===_e.Individual&&r&&(t.userId=r),[4,o.revokePermission(t)];case 1:return a=i.sent(),c=u(a.permissions),d(e.calendar.id,{permissions:c}),[2]}}))}))},w=function(){return Object(s["b"])(t,void 0,void 0,(function(){var e;return Object(s["d"])(this,(function(t){switch(t.label){case 0:return e=i.value.filter((function(e){return v.users.includes(e.id)})),[4,T({type:_e.Individual,permission:v.permission,userIds:e.map((function(e){return e.id}))})];case 1:return t.sent(),f.value=!1,v.users=[],v.permission="read",[2]}}))}))},k=function(e){O.value=e},E=function(){v.users=[],v.permission="read"},T=function(n){var r=n.type,a=n.permission,c=n.userIds,i=void 0===c?[]:c;return Object(s["b"])(t,void 0,void 0,(function(){var t,n,c;return Object(s["d"])(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,o.setPermission({calendarId:e.calendar.id,type:r,permission:a,userIds:i})];case 1:return t=l.sent(),n=u(t.permissions),d(e.calendar.id,{permissions:n}),[3,3];case 2:return c=l.sent(),console.error(c),[3,3];case 3:return[2]}}))}))},S=function(){return Object(s["b"])(t,void 0,void 0,(function(){return Object(s["d"])(this,(function(e){switch(e.label){case 0:return h.global.permission="read",[4,T({type:_e.Global,permission:Be.Read})];case 1:return e.sent(),[2]}}))}))};return{whoami:a,sharedWith:j,addPermission:v,refSelectUser:b,isLoading:n,modalAddPeople:f,users:i,availableUsers:y,PermissionsType:_e,userFilterOption:g,isOpenSelectUser:m,specialPermissions:h,revokePermission:C,onChangePopConfirm:k,isVisiblePopConfirm:O,isVisibleTooltipRevokeGlobal:p,addUserPermission:w,onCancelModalAddPeople:E,setPermission:T,setCalendarAsGlobal:S}}}));n("548e");Hr.render=_r,Hr.__scopeId="data-v-14f1062a";var Kr=Hr,Zr=Object(c["defineComponent"])({components:{Color:Ge,Permissions:Kr,PlusOutlined:P["a"],DeleteOutlined:ve["a"]},emits:["readyForUpdate","changeSource","change","createCalendar","removeCalendar"],setup:function(e,t){var n=this,r=t.emit,a=sn().isLoading,o=rr(),i=o.sourceColors,l=o.sourcesToRender,u=o.defaultSource,d=Xn(),f=d.whoami,b=d.getUserFullName,v=Object(c["reactive"])({name:"",color:""}),m=Object(c["inject"])(re),O=Object(c["ref"])(),p=Object(c["ref"])(!1),j=Object(c["ref"])(u.value.id),h=Object(c["computed"])((function(){var e=b(f.value);return Object(s["a"])(Object(s["a"])({},f),{fullName:e})})),y=Object(c["computed"])((function(){return l.value.own.find((function(e){return e.id===j.value}))})),g=Object(c["computed"])((function(){return y.value.id===u.value.id})),C=Object(c["computed"])((function(){return p.value&&!v.name?{help:"Required field",validateStatus:"error"}:{validateStatus:"success"}})),w=Object(c["computed"])((function(){for(var e=[],t=!0,n=0,r=i.value;n<r.length;n++){var a=r[n];t&&a.color===y.value.color&&(t=!1),e.push(Object(s["a"])(Object(s["a"])({},a),{active:a.color===v.color}))}return t&&e.push({color:y.value.color,disabled:!1,animate:!0,isOut:!0,active:y.value.color===v.color}),e})),k=Object(c["computed"])((function(){return"error"!==C.value.validateStatus&&(v.name!==y.value.name||v.color!==y.value.color)}));Object(c["watch"])(y,(function(e){e?(v.name=e.name,v.color=e.color):j.value=u.value.id}),{immediate:!0}),Object(c["watch"])(m.activeTab,(function(e){"calendars"===e&&(p.value=!1,v.name=y.value.name,v.color=y.value.color,j.value=u.value.id)}));var E=function(){p.value||(p.value=!0)},T=function(){O.value&&O.value.focus()},S=function(){r("removeCalendar",y.value.id)},N=function(){return Object(s["b"])(n,void 0,void 0,(function(){var e,t;return Object(s["d"])(this,(function(n){return e=Object.keys(v),t=e.reduce((function(e,t){var n;return y.value[t]!==v[t]?Object(s["a"])(Object(s["a"])({},e),(n={},n[t]=v[t],n)):e}),{}),r("change",{data:t,source:Object(s["a"])(Object(s["a"])({},y.value),t),oldSource:ot(y.value)}),[2]}))}))};return Object(s["a"])(Object(s["a"])({},Object(c["toRefs"])(v)),{defaultSource:u,refNewCalendarName:O,sourceColors:i,sources:l,nameStatus:C,calendar:y,colors:w,isLoading:a,isReadyForUpdate:k,isDefaultCalendar:g,owner:h,onChangeName:E,onCreateCalendar:function(){return r("createCalendar")},calendarId:j,onChangeCalendar:T,onClickSave:N,onClickRemoveCalendar:S})}});Zr.render=be;var Jr=Zr,Qr=Object(c["defineComponent"])({components:{CalendarOutlined:R["a"],SettingOutlined:G["a"],ManageCalendar:Jr},props:{isDisplay:Boolean,timezoneAutofocus:Boolean},emits:["changeSource","createCalendar","removeCalendar"],setup:function(e,t){var n=this,r=t.emit,a=rr().updateSource,i=Object(c["inject"])(X),l=Object(c["ref"])("general");Object(c["provide"])(re,{isDisplay:Object(c["computed"])((function(){return e.isDisplay})),activeTab:l});var u=Object(c["ref"])({}),d=Object(c["ref"])(null),f=Object(c["reactive"])({name:"",color:""});Object(c["watch"])((function(){return e.isDisplay}),(function(t){e.timezoneAutofocus&&t&&("general"!==l.value&&(l.value="general"),Object(c["nextTick"])((function(){d.value.focus()})))}),{immediate:!0});var b=function(e){var t=e.data,c=e.source,i=e.oldSource;return Object(s["b"])(n,void 0,void 0,(function(){var e;return Object(s["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.updateCalendar(c.id,t)];case 1:return n.sent(),a(c.id,t),r("changeSource",{source:c,oldSource:i}),j.a.success({message:"Calendar updated!",placement:"bottomRight"}),[3,3];case 2:return e=n.sent(),console.error(e),[3,3];case 3:return[2]}}))}))};return{refCalendarForm:u,refTimezones:d,settings:i,timezones:ae,calendar:f,tab:l,onChangeCalendarData:b,onCreateCalendar:function(){return r("createCalendar")},onRemoveCalendar:function(e){return r("removeCalendar",e)}}}});n("a8ee");Qr.render=Q,Qr.__scopeId="data-v-9309d470";var Xr=Qr,ea=Object(c["defineComponent"])({components:{CalendarSettings:Xr,RightOutlined:B["a"],LeftOutlined:_["a"],SettingOutlined:G["a"],PlusOutlined:P["a"],CalendarOutlined:R["a"],DownOutlined:F["a"],AimOutlined:L["a"],FormOutlined:z["a"],GlobalOutlined:q["a"],SearchOutlined:U["a"],ArrowLeftOutlined:$["a"],CloseOutlined:Y["a"]},props:{viewTitle:{type:String,required:!0},viewName:{type:String,required:!0}},emits:["changeView","setToday","create","changeViewPage","gotoDate","changeCalendarVisibility","changeSource","fetchEvents","removeCalendar"],setup:function(e,t){var n=this,r=t.emit,a=sn().isLoading,o=Xn().whoami,i=rr(),l=i.sourcesToRender,u=i.sources,d=qe().timezoneLabel,f=tr(),b=f.isModeFilter,v=f.isDisplayInputSearch,m=f.isFilterAppliedWithKeyword,O=f.paginationStatus,p=f.keyword,j=f.setKeyword,h=f.setVisibilityInputSearch,y=f.setCalendarsToFilter,g=f.setPaginationSkip,C=f.resetPagination,w=f.setFilterViewAsActive,k=Object(c["ref"])(!1),E=Object(c["reactive"])({showCalendarsDropdown:!1,viewSelectedLabel:b.value?"list":"month",calendars:[],modalSettings:!1,popoverCustomDate:H()(),createType:"event",sourceToFilter:{}}),T=Object(c["reactive"])({click:!1,hover:!1}),S=ct(),N=Object(c["computed"])((function(){return b.value&&"list"===E.viewSelectedLabel})),x=Object(c["computed"])((function(){return N.value&&!O.value.next})),V=Object(c["computed"])((function(){return N.value&&!O.value.prev})),M=Object(c["computed"])((function(){if(N.value)return{prev:"Previous page",next:"Next page"};var e=E.viewSelectedLabel;return{prev:"Previous "+e,next:"Next "+e}})),D=Object(c["computed"])((function(){switch(E.viewSelectedLabel){case"day":case"week":case"list":return{component:"ADatePicker",format:"LL"};default:return{component:"AMonthPicker",format:"MMMM YYYY"}}})),A=Object(c["computed"])((function(){if(!v)return[];for(var e=[],t=0,n=u.value;t<n.length;t++){var r=n[t];E.sourceToFilter[r.id]||r.context===Ie.Google||e.push(r.id)}return e}));Object(c["watch"])(A,(function(e){y(e)}),{immediate:!0});var I=Object(c["ref"])({}),B=Object(c["ref"])(),_=function(e,t){"hover"===t&&T.click||(T[t]=e,T["hover"===t?"click":"hover"]=!1)},G=H()().format("dddd, MMMM D"),P=[{name:"timeGridDay",label:"Day"},{name:"timeGridWeek",label:"Week"},{name:"dayGridMonth",label:"Month"},{name:b.value?"filter":"listWeek",label:"List"}],R=function(e){if("listWeek"!==e&&"filter"!==e){var t=P.find((function(t){return t.name===e}));t||console.error(new Error('View "'+e+'" not found')),E.viewSelectedLabel=t.label.toLowerCase()}else E.viewSelectedLabel="list"},F=function(){h(!0),Object(c["nextTick"])((function(){B.value.focus()}))},L=function(){var e=!!p.value;h(!1),e&&r("fetchEvents")},z=function(){j(""),B.value.focus(),C(),r("fetchEvents")},q=function(e,t){E.sourceToFilter[t.id]=!e,Object(c["nextTick"])((function(){return r("fetchEvents")}))},U=function(e){R(e),r("changeView",e),w("filter"===e)},$=function(){r("setToday")},Y=function(){r("gotoDate",E.popoverCustomDate.toISOString()),E.popoverCustomDate=H()(),T.click=!1},W=function(e){r("create",e)},K=function(e){N.value?(g(e),r("fetchEvents")):r("changeViewPage",e)},Z=function(e){r("removeCalendar",e)},J=function(){E.modalSettings=!0,k.value=!0},Q=function(){E.modalSettings=!0,k.value=!1},X=function(e){var t=e.item;E.createType=t.value},ee=function(e){e=e.trimStart(),(e||p.value)&&(j(e),e.length>0&&e.length<2||S((function(){"list"!==E.viewSelectedLabel&&U("filter"),r("fetchEvents")})))},te=function(e,t){return Object(s["b"])(n,void 0,void 0,(function(){return Object(s["d"])(this,(function(n){return r("changeCalendarVisibility",{calendarId:e,checked:t}),[2]}))}))},ne=function(e){r("changeSource",e)};return Object(s["a"])(Object(s["a"])({today:G,views:P},Object(c["toRefs"])(E)),{isLoading:a,refCalendarSettings:I,refInputKeyword:B,popover:T,whoami:o,keyword:p,setKeyword:j,isModeFilter:b,isHideTitle:N,isDisplayInputSearch:v,isFilterAppliedWithKeyword:m,isNextDisabled:x,isPrevDisabled:V,paginationLabel:M,sourcesToRender:l,sourcesToFilter:A,popoverDateData:D,setVisibilityInputSearch:h,onInputSearch:ee,onClickClearKeyword:z,onClickShowSearchBar:F,onClickHideSearchBar:L,onCheckedCalendarSearch:q,onChangeView:U,onSetToday:$,onCreate:W,onChangeViewPage:K,onCalendarChecked:te,onChangeSource:ne,handleMenuClick:X,handlePopoverCustomDateChange:_,onGotoCustomDate:Y,timezoneLabel:d,timezoneAutofocus:k,onClickChangeTimezone:J,onClickSettings:Q,onRemoveCalendar:Z})}});n("0118");ea.render=I,ea.__scopeId="data-v-6ab616d3";var ta=ea;Object(c["pushScopeId"])("data-v-685c7ca5");var na={style:{display:"flex",height:"100%","align-items":"center"}};function ra(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("AInput"),l=Object(c["resolveComponent"])("AFormItem"),u=Object(c["resolveComponent"])("ARangePicker"),d=Object(c["resolveComponent"])("ADatePicker"),s=Object(c["resolveComponent"])("ACol"),f=Object(c["resolveComponent"])("ATimePicker"),b=Object(c["resolveComponent"])("ARow"),v=Object(c["resolveComponent"])("VSwitch"),m=Object(c["resolveComponent"])("CalendarRecurrence"),O=Object(c["resolveComponent"])("ACard"),p=Object(c["resolveComponent"])("SelectContact"),j=Object(c["resolveComponent"])("SelectCase"),h=Object(c["resolveComponent"])("ASelectOption"),y=Object(c["resolveComponent"])("ASelect"),g=Object(c["resolveComponent"])("Color"),C=Object(c["resolveComponent"])("Editor"),w=Object(c["resolveComponent"])("AForm");return Object(c["openBlock"])(),Object(c["createBlock"])(w,{ref:"refForm",model:e.form,layout:"vertical"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Event Title",name:"title",rules:{required:!0,message:"Event title can't be empty",trigger:"change"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{value:e.form.title,"onUpdate:value":t[0]||(t[0]=function(t){return e.form.title=t}),placeholder:"Type Event Title",autocomplete:"off"},null,8,["value"])]})),_:1}),Object(c["createVNode"])(b,{gutter:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{span:e.dateCols.date},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Event date"},{default:Object(c["withCtx"])((function(){return[e.isSplitCurrentEvent||!e.form.isRecurringEvent?(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:0,value:e.dateRange,"onUpdate:value":t[1]||(t[1]=function(t){return e.dateRange=t}),format:e.dateFormat,"allow-clear":!1,separator:"to",style:{width:"100%"}},null,8,["value","format"])):(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:1,value:e.form.start,"onUpdate:value":t[2]||(t[2]=function(t){return e.form.start=t}),format:e.dateFormat,style:{width:"100%"},"allow-clear":!1,onChange:t[3]||(t[3]=function(t){return e.onChangeDates("start",t)})},null,8,["value","format"]))]})),_:1})]})),_:1},8,["span"]),e.form.allDay?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,span:e.dateCols.time},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{gutter:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Starts at"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{value:e.form.start,"onUpdate:value":t[4]||(t[4]=function(t){return e.form.start=t}),"use12-hours":"",format:"h:mm a","allow-clear":!1,style:{width:"100%"},onChange:t[5]||(t[5]=function(t){return e.onChangeDates("start",t)})},null,8,["value"])]})),_:1})]})),_:1}),Object(c["createVNode"])(s,{span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Ends at"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{value:e.form.end,"onUpdate:value":t[6]||(t[6]=function(t){return e.form.end=t}),"use12-hours":"",format:"h:mm a","allow-clear":!1,style:{width:"100%"},onChange:t[7]||(t[7]=function(t){return e.onChangeDates("end",t)})},null,8,["value"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["span"]))]})),_:1}),Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{gutter:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{modelValue:e.form.allDay,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.form.allDay=t}),label:"All Day Event",size:"small",onChange:e.onChangeAllDay},null,8,["modelValue","onChange"])]})),_:1}),"create"===e.type?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{modelValue:e.includeContact,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.includeContact=t}),disabled:!!e.contactData,label:"Include Contact",size:"small"},null,8,["modelValue","disabled"])]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),e.isHideRecurrenceOptions?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{modelValue:e.form.isRecurringEvent,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.form.isRecurringEvent=t}),label:"Is a Recurring Event",size:"small",disabled:e.isOriginalEventRecurring,onChange:e.onChangeEventType},null,8,["modelValue","disabled","onChange"])]})),_:1}))]})),_:1})]})),_:1}),e.form.isRecurringEvent&&!e.isHideRecurrenceOptions?(Object(c["openBlock"])(),Object(c["createBlock"])(O,{key:0,title:"Recurrence options","body-style":"padding-bottom: 0",style:{"margin-bottom":"20px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(m,{ref:"refRecurrence",interval:e.recurrence.interval,"onUpdate:interval":t[11]||(t[11]=function(t){return e.recurrence.interval=t}),freq:e.recurrence.freq,"onUpdate:freq":t[12]||(t[12]=function(t){return e.recurrence.freq=t}),byweekday:e.recurrence.byweekday,"onUpdate:byweekday":t[13]||(t[13]=function(t){return e.recurrence.byweekday=t}),ends:e.recurrence.ends,"onUpdate:ends":t[14]||(t[14]=function(t){return e.recurrence.ends=t}),until:e.recurrence.until,"onUpdate:until":t[15]||(t[15]=function(t){return e.recurrence.until=t}),count:e.recurrence.count,"onUpdate:count":t[16]||(t[16]=function(t){return e.recurrence.count=t}),byDay:e.recurrence.byDay,"onUpdate:byDay":t[17]||(t[17]=function(t){return e.recurrence.byDay=t}),dtstart:e.recurrence.dtstart,onChangeUntil:e.onChangeUntil},null,8,["interval","freq","byweekday","ends","until","count","byDay","dtstart","onChangeUntil"])]})),_:1})):Object(c["createCommentVNode"])("",!0),e.includeContact||"edit"===e.type&&e.form.contact?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:1,gutter:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Contact",name:"contact",rules:{required:!0,message:"Required field",trigger:"change",type:"number"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,{modelValue:e.form.contact,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.form.contact=t}),disabled:e.contactData&&!!e.contactData.id,onChange:e.onChangeContact},null,8,["modelValue","disabled","onChange"])]})),_:1})]})),_:1}),Object(c["createVNode"])(s,{span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Case",name:"case",rules:{required:e.isRequiredCaseField,message:"Required field",trigger:"change",type:"number"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{modelValue:e.form.case,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.form.case=t}),contact:e.form.contact,disabled:e.contactData&&!!e.contactData.caseId||!e.form.contact||e.isLoading,onHasNotCases:t[20]||(t[20]=function(t){return e.isRequiredCaseField=!1})},null,8,["modelValue","contact","disabled"])]})),_:1},8,["rules"])]})),_:1})]})),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(b,{gutter:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{span:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Timezone"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(y,{value:e.form.timezone,"onUpdate:value":t[21]||(t[21]=function(t){return e.form.timezone=t}),"show-search":""},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.timezones,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:t,value:t},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1})]})),_:1}),Object(c["createVNode"])(s,{span:10},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Calendar"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(y,{value:e.form.calendarId,"onUpdate:value":t[22]||(t[22]=function(t){return e.form.calendarId=t}),onChange:e.onChangeCalendar,"show-search":"","filter-option":e.onFilterCalendars},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sourcesToRender.own,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(h,{value:e.id,key:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name),1)]})),_:2},1032,["value"])})),128)),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.sharedCalendars,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(h,{value:e.id,key:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name)+" ("+Object(c["toDisplayString"])(e.user.fullName)+") ",1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value","onChange","filter-option"])]})),_:1})]})),_:1}),Object(c["createVNode"])(s,{span:2},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",na,[Object(c["createVNode"])(g,{modelValue:e.form.color,"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.form.color=t}),"colors-data":e.colors},null,8,["modelValue","colors-data"])])]})),_:1})]})),_:1}),Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Location"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{value:e.form.location,"onUpdate:value":t[24]||(t[24]=function(t){return e.form.location=t}),disabled:e.isLoading,placeholder:"610 E 16th St, Holland, MI"},null,8,["value","disabled"])]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{label:"Attendees",name:"attendees",rules:{trigger:"change",type:"array",validator:e.attendeesValidator}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(y,{value:e.form.attendees,"onUpdate:value":t[25]||(t[25]=function(t){return e.form.attendees=t}),mode:"tags",style:{width:"100%"},"token-separators":[","],disabled:e.isLoading,placeholder:"Attendees"},null,8,["value","disabled"])]})),_:1},8,["rules"])]})),_:1})]})),_:1}),Object(c["createVNode"])(l,{label:"Description"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(C,{modelValue:e.form.description,"onUpdate:modelValue":t[26]||(t[26]=function(t){return e.form.description=t})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])}Object(c["popScopeId"])(),Object(c["pushScopeId"])("data-v-1ae24390");var aa=Object(c["createTextVNode"])("1st"),oa=Object(c["createTextVNode"])("2nd"),ca=Object(c["createTextVNode"])("3rd"),ia=Object(c["createTextVNode"])("4th"),la=Object(c["createTextVNode"])("5th"),ua=Object(c["createTextVNode"])("Last"),da={class:"tags-days-container"},sa={style:{display:"flex","justify-content":"space-between"}},fa=Object(c["createTextVNode"])("Never"),ba={style:{display:"flex","justify-content":"space-between"}},va=Object(c["createTextVNode"])("On"),ma={class:"display-date"},Oa={style:{display:"flex","justify-content":"space-between"}},pa=Object(c["createTextVNode"])("Ocurrences"),ja={key:0},ha=Object(c["createTextVNode"])(" times ");function ya(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("AInputNumber"),l=Object(c["resolveComponent"])("ASelectOption"),u=Object(c["resolveComponent"])("ASelect"),d=Object(c["resolveComponent"])("AInputGroup"),s=Object(c["resolveComponent"])("AFormItem"),f=Object(c["resolveComponent"])("ACol"),b=Object(c["resolveComponent"])("ARow"),v=Object(c["resolveComponent"])("VSwitch"),m=Object(c["resolveComponent"])("ACheckableTag"),O=Object(c["resolveComponent"])("ATooltip"),p=Object(c["resolveComponent"])("ARadio"),j=Object(c["resolveComponent"])("ADatePicker"),h=Object(c["resolveComponent"])("ARadioGroup"),y=Object(c["resolveComponent"])("AForm");return Object(c["openBlock"])(),Object(c["createBlock"])(y,{ref:"refForm",model:e.$props,layout:"vertical",class:"CustomRecurrence"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{gutter:12},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{label:"Repeat every"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{compact:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{value:e.$props.interval,type:"number",max:365,min:1,style:{width:"30%"},onChange:t[0]||(t[0]=function(t){return e.$emit("update:interval",t)})},null,8,["value"]),Object(c["createVNode"])(u,{value:e.$props.freq,onChange:e.onChangeFreq,style:{width:"70%"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{value:e.frequency.Daily},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.periodLabel("Day")),1)]})),_:1},8,["value"]),Object(c["createVNode"])(l,{value:e.frequency.Weekly},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.periodLabel("Week")),1)]})),_:1},8,["value"]),Object(c["createVNode"])(l,{value:e.frequency.Monthly},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.periodLabel("Month")),1)]})),_:1},8,["value"]),Object(c["createVNode"])(l,{value:e.frequency.Yearly},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.periodLabel("Year")),1)]})),_:1},8,["value"])]})),_:1},8,["value","onChange"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),e.$props.freq===e.frequency.Monthly?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:0,gutter:12,style:{"margin-bottom":"20px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{span:7,style:{"line-height":"30px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{modelValue:e.$props.byDay,label:"By day",size:"small",onChange:e.onChangeByDay},null,8,["modelValue","onChange"])]})),_:1}),e.$props.byDay?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:0,span:17},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{compact:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{value:e.internalByWeekday.monthly.n,"onUpdate:value":t[1]||(t[1]=function(t){return e.internalByWeekday.monthly.n=t}),style:{width:"35%"},onChange:t[2]||(t[2]=function(t){return e.onChangeMonthlyWeekday("n",t)})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{value:1},{default:Object(c["withCtx"])((function(){return[aa]})),_:1}),Object(c["createVNode"])(l,{value:2},{default:Object(c["withCtx"])((function(){return[oa]})),_:1}),Object(c["createVNode"])(l,{value:3},{default:Object(c["withCtx"])((function(){return[ca]})),_:1}),Object(c["createVNode"])(l,{value:4},{default:Object(c["withCtx"])((function(){return[ia]})),_:1}),Object(c["createVNode"])(l,{value:5},{default:Object(c["withCtx"])((function(){return[la]})),_:1}),Object(c["createVNode"])(l,{value:-1},{default:Object(c["withCtx"])((function(){return[ua]})),_:1})]})),_:1},8,["value"]),Object(c["createVNode"])(u,{value:e.internalByWeekday.monthly.weekday,"onUpdate:value":t[3]||(t[3]=function(t){return e.internalByWeekday.monthly.weekday=t}),style:{width:"65%"},onChange:t[4]||(t[4]=function(t){return e.onChangeMonthlyWeekday("weekday",t)})},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.allDays,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:e.min,value:e.min},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.full),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1})]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})):Object(c["createCommentVNode"])("",!0),e.$props.freq===e.frequency.Weekly?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:1,label:"Repeat on",name:"byweekday",rules:{required:!0,type:"array",message:"Please select the days to repeat"}},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",da,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.allDays,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(O,{key:t.short,title:t.full},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(m,{checked:e.isDayChecked(t.min),onChange:function(n){return e.onChangeByweekday(t.min,n)}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.short),1)]})),_:2},1032,["checked","onChange"])]})),_:2},1032,["title"])})),128))])]})),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(s,{label:"Ends",style:{"margin-bottom":"10px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(h,{value:e.$props.ends,onChange:t[6]||(t[6]=function(t){return e.onChangeEnds(t.target.value)}),style:{width:"100%"}},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",sa,[Object(c["createVNode"])(p,{value:"never",style:{display:"block","line-height":"30px"}},{default:Object(c["withCtx"])((function(){return[fa]})),_:1})]),Object(c["createElementVNode"])("div",ba,[Object(c["createVNode"])(p,{value:"on",style:{display:"block","line-height":"30px"}},{default:Object(c["withCtx"])((function(){return[va]})),_:1}),"on"===e.$props.ends?(Object(c["openBlock"])(),Object(c["createBlock"])(j,{key:0,value:e.$props.until,"allow-clear":!1,"disabled-date":e.disabledDate,onChange:e.onChangeUntil},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("span",ma,Object(c["toDisplayString"])(e.untilDateLabel),1)]})),_:1},8,["value","disabled-date","onChange"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",Oa,[Object(c["createVNode"])(p,{value:"ocurrences",style:{display:"block","line-height":"30px"}},{default:Object(c["withCtx"])((function(){return[pa]})),_:1}),"ocurrences"===e.$props.ends?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ja,[Object(c["createVNode"])(i,{type:"number",value:e.$props.count,min:1,class:"custom input-text-center",style:{width:"60px","margin-right":"5px"},onChange:t[5]||(t[5]=function(t){return e.$emit("update:count",t)})},null,8,["value"]),ha])):Object(c["createCommentVNode"])("",!0)])]})),_:1},8,["value"])]})),_:1})]})),_:1},8,["model"])}Object(c["popScopeId"])(),Object(c["pushScopeId"])("data-v-afe305b8");var ga={class:"VSwitch"};function Ca(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("ASwitch");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ga,[Object(c["createVNode"])(i,Object(c["mergeProps"])({checked:e.$props.modelValue,onChange:e.updateValue},e.$attrs,{disabled:e.$props.disabled}),null,16,["checked","onChange","disabled"]),Object(c["createElementVNode"])("span",{onClick:t[0]||(t[0]=function(){return e.updateValue&&e.updateValue.apply(e,arguments)}),class:Object(c["normalizeClass"])(["VSwitch__label",{"VSwitch--disabled":e.$props.disabled}])},Object(c["toDisplayString"])(e.$props.label),3)])}Object(c["popScopeId"])();var wa=Object(c["defineComponent"])({inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},label:String,disabled:Boolean},emits:["update:modelValue","change"],setup:function(e,t){var n=t.emit,r=function(){e.disabled||(n("update:modelValue",!e.modelValue),n("change",!e.modelValue))};return{updateValue:r}}});n("2e59");wa.render=Ca,wa.__scopeId="data-v-afe305b8";var ka=wa,Ea=Object(c["defineComponent"])({components:{VSwitch:ka},props:{interval:{type:Number,default:1},freq:{type:String,default:De.Weekly},byweekday:Array,ends:{type:String,default:"never"},until:Object,count:Number,dtstart:{type:Object,required:!0},byDay:Boolean},emits:["update:interval","update:freq","update:byweekday","update:ends","update:until","update:count","update:byDay","changeUntil"],setup:function(e,t){var n=this,a=t.emit,o=qe().time,i=Object(c["inject"])(te),l=Object(c["ref"])(),u=nt,d=Object(c["reactive"])({weekly:[],monthly:{}}),f=function(t){return e.interval>1?t+"s":t},b=function(t){if(void 0===t&&(t=!1),!t||mt(e.byweekday||[])){var n=e.dtstart.day(),r=u.find((function(e){return e.numeric.fullcalendar===n}));if(t&&(d.monthly={weekday:r.min,n:1}),"WEEKLY"===e.freq)return d.weekly=[{weekday:r.min}],a("update:byweekday",[{weekday:r.min}]);e.byDay&&a("update:byweekday",[d.monthly])}};Object(c["watch"])((function(){return e.byweekday}),(function(){return Object(s["b"])(n,void 0,void 0,(function(){var e;return Object(s["d"])(this,(function(t){switch(t.label){case 0:if(!l.value)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,l.value.validateField("byweekday")];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),e.errorFields.length&&console.error(e),[3,4];case 4:return[2]}}))}))}),{deep:!0}),Object(c["watchEffect"])((function(){e.interval||a("update:interval",1)})),Object(c["watch"])((function(){return e.dtstart}),(function(t){var n;if(1===(null===(n=e.byweekday)||void 0===n?void 0:n.length)&&ht(e.freq,De.Monthly,De.Weekly)){var o=r.getWeekday(t),c={weekday:o.min},i=r.getDayPositionOfMonth(t);if(d.monthly=i,"MONTHLY"!==e.freq)d.weekly=[c],a("update:byweekday",[c]);else{if(!e.byDay)return;a("update:byweekday",[i])}}}));var v=Object(c["computed"])((function(){return e.until?o(e.until).format("dddd, MMMM D, YYYY"):null})),m=function(t){return t&&t<=e.dtstart.clone().add(1,"days").startOf("day")},O=function(t){return e.byweekday&&e.byweekday.some((function(e){return e.weekday===t}))},p=function(e){return u.filter((function(t){return e.some((function(e){return e.weekday===t.min}))})).map((function(e){return{weekday:e.min}}))},j=function(t){if(a("update:freq",t),"MONTHLY"===t&&e.byDay)return a("update:byweekday",[d.monthly]);"WEEKLY"===t&&(mt(d.weekly)?Object(c["nextTick"])(b):a("update:byweekday",d.weekly))},h=function(t,n){var r=e.byweekday||[];n?r.push({weekday:t}):r=r.filter((function(e){return e.weekday!==t}));var o=p(r);d.weekly=o,a("update:byweekday",o)},y=function(t){a("update:byDay",t),Object(c["nextTick"])((function(){if(t){if(jt(d.monthly)){var n=r.getDayPositionOfMonth(e.dtstart);d.monthly=n}return b()}a("update:byweekday",void 0)}))},g=function(t){a("update:ends",t),"on"!==t||e.until?"ocurrences"!==t||e.count||a("update:count",10):a("update:until",i.end.clone().add(1,"months"))},C=function(e,t){var n,r=Object(s["a"])(Object(s["a"])({},d.monthly),(n={},n[e]=t,n));a("update:byweekday",[r])},w=function(e){a("update:until",e),a("changeUntil",e)},k=function(){return l.value.validate()},E=function(){b(!0);var t=mt(e.byweekday||[]);t||("WEEKLY"!==e.freq?(e.byDay||"MONTHLY"===e.freq)&&(d.monthly=e.byweekday[0]):d.weekly=e.byweekday)};return E(),{parentForm:i,internalByWeekday:d,periodLabel:f,untilDateLabel:v,validateForm:k,refForm:l,allDays:u,frequency:De,disabledDate:m,isDayChecked:O,onChangeFreq:j,onChangeByweekday:h,onChangeByDay:y,onChangeEnds:g,onChangeMonthlyWeekday:C,onChangeUntil:w}}});n("21da");Ea.render=ya,Ea.__scopeId="data-v-1ae24390";var Ta=Ea;function Sa(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("ASelectOption"),l=Object(c["resolveComponent"])("ASelect");return Object(c["openBlock"])(),Object(c["createBlock"])(l,Object(c["mergeProps"])({value:e.$props.modelValue},e.selectProps),{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.contacts,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(i,{value:e.id,key:e.id},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.fullName),1)]})),_:2},1032,["value"])})),128))]})),_:1},16,["value"])}var Na=Object(c["defineComponent"])({props:{modelValue:Number,style:[String,Object],placeholder:{type:String,default:"Select Contact"},readonly:{type:Boolean,default:!1},disabled:Boolean},emits:["update:modelValue","change"],inheritAttrs:!1,setup:function(e,t){var n=this,r=t.emit,a=ct(),o=Object(c["ref"])([]),i=[],l=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=500),Object(s["b"])(n,void 0,void 0,(function(){var n=this;return Object(s["d"])(this,(function(r){return e=e.trim(),!e&&i.length?(o.value=i,[2]):(a((function(){return Object(s["b"])(n,void 0,void 0,(function(){var t,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return t=[],e&&t.push({field:"fullName",value:e,condition:"like"}),[4,$r.search({limit:6,filter:t})];case 1:return n=r.sent(),o.value=n,i.length||(i=n),[2]}}))}))}),t),[2])}))}))},u=function(e){return Object(s["b"])(n,void 0,void 0,(function(){var t,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,$r.search({limit:1,filter:[{field:"id",value:e}]})];case 1:return t=r.sent()[0],[2,t];case 2:return n=r.sent(),console.error(n),[3,3];case 3:return[2]}}))}))},d=function(e){r("update:modelValue",e),r("change",e)},f=Object(c["computed"])((function(){var t={placeholder:e.placeholder,filterOption:!1,style:e.style,disabled:e.disabled};return e.readonly?Object(s["a"])(Object(s["a"])({},t),{showSearch:!1,allowClear:!1,open:!1}):Object(s["a"])(Object(s["a"])({},t),{showSearch:!0,allowClear:!0,filterOption:!1,onSearch:l,onChange:d})}));return l("",0),Object(c["watchEffect"])((function(){return Object(s["b"])(n,void 0,void 0,(function(){var t,n,r;return Object(s["d"])(this,(function(a){switch(a.label){case 0:return e.modelValue&&o.value.length?(t=e.modelValue,n=o.value.some((function(e){return e.id===t})),n?[2]:[4,u(t)]):[2];case 1:return r=a.sent(),o.value.push(r),[2]}}))}))})),{contacts:o,selectProps:f}}});Na.render=Sa;var xa=Na;function Va(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("ASelectOption"),l=Object(c["resolveComponent"])("ASelect");return Object(c["openBlock"])(),Object(c["createBlock"])(l,Object(c["mergeProps"])({value:e.$props.modelValue},e.selectProps),{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.cases,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])(i,{value:t.id,key:t.id},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.generateCaseFullName(t)),1)]})),_:2},1032,["value"])})),128))]})),_:1},16,["value"])}var Ma=Object(c["defineComponent"])({props:{modelValue:Number,contact:Number,placeholder:{type:String,default:"Select Case"},disabled:{type:Boolean,default:!1},style:[String,Object],readonly:{type:Boolean,default:!1}},emits:["update:modelValue","change","hasNotCases"],inheritAttrs:!1,setup:function(e,t){var n=this,r=t.emit,a=Object(c["ref"])([]),o=[],i=Object(c["ref"])(e.disabled),l=Object(c["computed"])({get:function(){return e.disabled||i.value},set:function(e){i.value=e}}),u=function(e){var t=e.name;return e.caseTypeName?t+" | "+e.caseTypeName:t},d=function(e,t){e=e.trim();var n=a.value.find((function(e){return e.id===t.value}));if(!n)return!1;var r=u(n);return r.toLowerCase().includes(e.toLowerCase())},f=function(t){t!==e.modelValue&&(r("update:modelValue",t),r("change",t))},b=function(){return Object(s["b"])(n,void 0,void 0,(function(){var t;return Object(s["d"])(this,(function(n){switch(n.label){case 0:return void 0===e.contact&&o.length?(a.value=o,[2]):[4,Wr.search(e.contact)];case 1:return t=n.sent(),t.length?(l.value&&(l.value=!1),a.value=t,void 0!==e.contact||o.length||(o=t),[2]):(l.value=!0,r("hasNotCases",!0),[2])}}))}))},v=Object(c["computed"])((function(){var t={placeholder:e.placeholder,style:e.style,disabled:l.value};return e.readonly?Object(s["a"])(Object(s["a"])({},t),{filterOption:!1,showSearch:!1,allowClear:!1,open:!1}):Object(s["a"])(Object(s["a"])({},t),{filterOption:d,showSearch:!0,allowClear:!0,onChange:f})}));return Object(c["watchEffect"])((function(){return b()})),{cases:a,generateCaseFullName:u,selectProps:v}}});Ma.render=Va;var Da=Ma;function Aa(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("CKEditor");return Object(c["openBlock"])(),Object(c["createBlock"])(i,{"model-value":e.$props.modelValue,editor:e.editor,config:e.editorConfig,onInput:e.onInput,style:{"border-radius":"5px"}},null,8,["model-value","editor","config","onInput"])}var Ia=n("3730"),Ba=n.n(Ia),_a=n("4b35"),Ga=n.n(_a),Pa=Object(c["defineComponent"])({components:{CKEditor:Ba.a.component},props:{modelValue:{type:String,default:""},config:{type:Object,default:function(){return{}}},placeholder:String},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","undo","redo"],a=Object(c["computed"])((function(){var t,n={};return n.toolbar=(null===(t=e.config)||void 0===t?void 0:t.toolbar)?e.config.toolbar:r,n.placeholder=e.placeholder?e.placeholder:"Type here...",n.link={addTargetToExternalLinks:!0,defaultProtocol:"https://"},n})),o=function(e){"string"===typeof e&&n("update:modelValue",e)};return{editor:Ga.a,editorConfig:a,onInput:o}}});Pa.render=Aa;var Ra=Pa,Fa=Object(c["defineComponent"])({components:{CalendarRecurrence:Ta,VSwitch:ka,Editor:Ra,SelectContact:xa,SelectCase:Da,Color:Ge},props:{type:{type:String,default:"create"},data:Object,isDisplay:{type:Boolean,required:!0},editRecurringType:String,newEventRange:{type:Object,required:!0}},setup:function(e){var t=this,n=qe(),r=n.time,o=n.timezone,i=sn().isLoading,l=rr().getSourcePermission,u=ir(),d=u.selectedSource,f=u.defaultSource,b=u.sourcesToRender,v=u.setCurrentCalendarId,m=u.currentEventApi,O=tr(),p=O.isModeFilter,j=O.contactData,h=Object(c["ref"])(),y=Object(c["ref"])(),g=Object(c["ref"])(!0),C=Object(c["reactive"])({id:void 0,timezone:Object(c["unref"])(o.value),calendarId:"",title:void 0,start:r(),end:r(),allDay:!1,isRecurringEvent:!1,contact:void 0,case:void 0,description:void 0,color:void 0,location:void 0,attendees:void 0}),w=Object(c["reactive"])({interval:1,freq:De.Weekly,byweekday:void 0,ends:"never",until:void 0,dtstart:r(),count:void 0,byDay:void 0}),k=Object(c["ref"])(!1),E=Object(c["ref"])(!0),T=Object(c["computed"])((function(){return"edit"===e.type&&!!e.data&&!!e.data.rrule})),S=Object(c["computed"])((function(){return T.value&&"edit"===e.type&&"current"===e.editRecurringType})),N=function(e){pt(e.contact)&&(E.value=!1);var t={},n=null;if(e.rrule)if(S.value)t=r(m.value.startStr,e.timezone),n=r(m.value.endStr,e.timezone),n.diff(t,"day")>0&&n.subtract(1,"day");else{var o=e.rrule;if(t=r(e.rrule.dtstart,e.timezone),o.until&&(n=r(o.until,e.timezone),!e.allDay)){var c=a.updateDateFromDuration({date:e.rrule.dtstart,allDay:!1,duration:e.duration});c=r(c,e.timezone),n.set({hours:c.get("hours"),minutes:c.get("minutes"),seconds:0})}w.freq=o.freq,w.interval=o.interval,o.byweekday&&(w.byweekday=o.byweekday),o.count&&(w.count=o.count),"MONTHLY"===o.freq&&o.byweekday&&(w.byDay=!0),o.count?w.ends="ocurrences":o.until?(w.ends="on",w.until=n):w.ends="never"}else t=r(e.start,e.timezone),n=r(e.end,e.timezone),n.diff(t,"day")>0&&n.subtract(1,"day");C.id=e.id,C.calendarId=e.calendarId,C.timezone=e.timezone,C.title=e.title,C.allDay=e.allDay,C.contact=e.contact,C.case=e.case,C.description=e.description,C.color=e.color||d.value.color,C.isRecurringEvent=!!e.rrule,C.start=t,C.location=e.location,C.attendees=e.attendees,C.end=n||r(a.updateDateFromDuration({date:e.rrule.dtstart,duration:e.duration,allDay:!1}),e.timezone)},x=function(e,t){return e.dayOfYear()===t.dayOfYear()},V=function(t){if(void 0===t&&(t=!1),"create"===e.type&&t&&(C.start=r(e.newEventRange.start),C.end=r(e.newEventRange.end).subtract(1,"days")),C.allDay)return C.start.set({hours:0,minutes:0,seconds:0,milliseconds:0}),void C.end.set({hours:0,minutes:0,seconds:0,milliseconds:0});var n=Dt(r()),a=n.start,o=n.end;C.start.set({hours:a.get("hours"),minutes:a.get("minutes"),seconds:a.get("seconds")}),x(a,o)?C.end.set({hours:o.get("hours"),minutes:o.get("minutes"),seconds:o.get("seconds")}):C.isRecurringEvent?C.end=C.end.clone().endOf("day").set({milliseconds:0}):C.end.set({hours:a.get("hours")+1,minutes:a.get("minutes"),seconds:a.get("seconds")})};Object(c["watch"])((function(){return e.isDisplay}),(function(t){if(!t)return F();if("create"===e.type)return C.calendarId=f.value.id,C.timezone=o.value,C.color=f.value.color,j.value&&(C.contact=j.value.id,j.value.caseId&&(C.case=j.value.caseId)),void V(!0);if(!e.data)throw new Error('For event edition the "data" params is required.');N(e.data)}),{immediate:!0}),Object(c["watch"])((function(){return{start:C.start,isRecurringEvent:C.isRecurringEvent}}),(function(t){var n=t.start,r=t.isRecurringEvent;if(r&&(w.dtstart=n.clone(),"edit"!==e.type&&w.until)){var a=[n.clone().format("YYYY-MM-DD"),w.until.clone().format("YYYY-MM-DD")],o=a[0],c=a[1],i=H.a.utc(o).isSameOrAfter(H.a.utc(c));!i&&k.value||(w.until=n.clone().add(1,"months"))}}),{immediate:!0}),Object(c["watch"])((function(){return C.timezone}),(function(e,t){var n=r(C.start,t).format(at),a=r(C.end,t).format(at);C.start=r(n,e),C.end=r(a,e)}));var M="dddd, MMMM D",D=Object(c["computed"])({get:function(){return[C.start,C.end]},set:function(e){C.start=e[0],C.end=e[1]}}),A=Object(c["computed"])((function(){var e={date:24,time:24};return!S.value&&C.isRecurringEvent&&(e.date=12,e.time=12),e})),I=Object(c["computed"])((function(){var t=Object.values(Bt),n=d.value?d.value.color:f.value.color;t.unshift(n);var r=t.map((function(e){return{color:e,animate:!0,disabled:!1,active:C.color===e,fixed:n===e}})),a=e.data&&e.data.color||d.value.color;return e.data&&e.data.color!==n&&t.every((function(e){return e!==a}))&&r.push({color:a,animate:!0,disabled:!1,active:a===C.color,isOut:!0}),r})),B=Object(c["computed"])((function(){return b.value.own.some((function(e){return e.color===C.color}))})),_=Object(c["computed"])((function(){return!!e.data&&!!e.data.parentId})),G=Object(c["computed"])((function(){return!!_.value||!!T.value&&S.value})),P=Object(c["computed"])((function(){return b.value.shared.filter((function(e){var t=l(e);return t===Be.All}))})),R=Object(c["computed"])((function(){return Object(s["g"])(Object(s["g"])([],b.value.own),P.value)})),F=function(){C.id=void 0,C.calendarId="",C.title=void 0,C.start=r(),C.end=r(),C.allDay=!1,C.isRecurringEvent=!1,C.contact=void 0,C.case=void 0,C.description=void 0,C.color=void 0,C.location=void 0,C.attendees=void 0,w.interval=1,w.freq=De.Weekly,w.byweekday=void 0,w.ends="never",w.until=void 0,w.dtstart=r(),w.count=void 0,w.byDay=void 0,E.value=!0,ne("contact"),ne("case")},L=function(){var e=C.start.clone().set({hours:C.end.get("hours"),minutes:C.end.get("minutes"),seconds:C.end.get("seconds")});return ut(a.generateEventDuration(C.start.clone(),e),"daysDiff")},z=function(){var e={dtstart:w.dtstart.toISOString(),interval:w.interval,freq:w.freq};if(("WEEKLY"===w.freq||"MONTHLY"===w.freq&&w.byDay)&&(e.byweekday=w.byweekday),"on"===w.ends)e.until=w.until.toISOString();else if("ocurrences"===w.ends){e.count=w.count;var t=w.dtstart.toISOString();C.allDay||(t=w.dtstart.format(at)+".000Z");var n="";if(!C.allDay&&Ot(e.byweekday)){var r=w.dtstart.format("Z"),o=a.getFormattedRuleDates({realStart:t,offset:r,event:{rrule:e}}),c=L();n=a.updateDateFromDuration({date:o[o.length-1],duration:c,allDay:C.allDay})}else{o=Pt({rrule:Object(s["a"])(Object(s["a"])({},e),{dtstart:t})});n=lt(o[o.length-1])}e.until=n}return e},q=function(){var t,n;k.value=!1,C.start.set({seconds:0,milliseconds:0}),C.end.set({seconds:0,milliseconds:0});var r={title:C.title,timezone:C.timezone,calendarId:C.calendarId,allDay:C.allDay,contact:C.contact,case:C.case,description:C.description||null,location:C.location||null,attendees:C.attendees||null};E.value||"create"!==e.type||(r=ut(r,"contact","case")),!B.value&&(r.color=C.color);var a="all"===e.editRecurringType,o="current"===e.editRecurringType&&!S.value;if("edit"===e.type&&(a||o)&&(r.id=C.id),!C.isRecurringEvent||S.value)r.start=C.start.toISOString(),r.end=C.allDay?C.end.clone().add(1,"days").toISOString():C.end.toISOString(),(null===(t=e.data)||void 0===t?void 0:t.parentId)&&(r.parentId=e.data.parentId);else if(r.exdate=(null===(n=e.data)||void 0===n?void 0:n.exdate)||[],r.rrule=z(),r.duration={days:1,hours:0,minutes:0},!r.allDay)return r.duration=L(),ot(r);return r.allDay?It(ot(r)):ot(r)},U=function(e,t){if(void 0===t&&(t=[]),!t.length)return Promise.resolve();for(var n=0,r=t;n<r.length;n++){var a=r[n];if(!yt(a))return Promise.reject("This field must contain a valid email address list.")}return Promise.resolve()},$=function(){x(C.start,C.end)||V(),C.isRecurringEvent&&!k.value&&w.until&&(w.until=C.end.clone().add(1,"months"))},Y=function(){C.isRecurringEvent&&k.value||(V(),w.until&&(C.allDay?w.until.set({hours:0,minutes:0,seconds:0}):w.until.set({hours:C.end.get("hours"),minutes:C.end.get("minutes"),seconds:0})))},W=function(t){if("edit"===e.type&&w.until){var n=[C.start.clone().format("YYYY-MM-DD"),w.until.clone().format("YYYY-MM-DD")],r=n[0],a=n[1],o=H.a.utc(r).isSameOrAfter(H.a.utc(a));o&&(w.until=C.start.clone().add(1,"months"))}var c=C.start.clone().set({hours:C.end.get("hours"),minutes:C.end.get("minutes")});if(t.isSameOrAfter(c.clone())){var i=t.clone().add(1,"hours");C.isRecurringEvent?(x(C.start,i)||(i=C.start.clone().endOf("day").set({milliseconds:0})),C.end=C.end.clone().set({hours:i.get("hours"),minutes:i.get("minutes")}),C.start.isSameOrAfter(C.end)&&(C.start=C.start.clone().endOf("day").subtract(4,"minutes").set({milliseconds:0}))):C.end=i}},K=function(e){var t=C.end.clone().set({hours:C.start.get("hours"),minutes:C.start.get("minutes")});if(!e.isAfter(t)){var n=e.clone().subtract(1,"hours");C.isRecurringEvent?(x(n,C.end)||(n=C.end.clone().startOf("day"),C.end=C.end.clone().startOf("day").add(5,"minutes")),C.start=C.start.clone().set({hours:n.get("hours"),minutes:n.get("minutes")})):C.start=n}},Z=function(e,t){"start"===e?W(t):K(t)},J=function(){k.value=!0},Q=function(){C.case=void 0,ne("case"),g.value=!0},X=function(e){v(e),B.value&&(C.color=d.value.color)},ee=function(e,t){var n;e=e.trim().toLowerCase();var r=R.value.find((function(e){return e.id===t.value}));if(!r)return!1;var a=(r.name+" "+(null===(n=r.user)||void 0===n?void 0:n.fullName)).toLowerCase();return a.includes(e)},ne=function(e){return h.value.clearValidate(e)},re=function(){return Object(s["b"])(t,void 0,void 0,(function(){var e;return Object(s["d"])(this,(function(t){return e=[h.value.validate()],C.isRecurringEvent&&y.value&&e.push(y.value.validateForm()),[2,Promise.all(e)]}))}))},oe=function(){Object(c["provide"])(te,C)};return oe(),{form:C,timezones:ae,recurrence:w,isRequiredCaseField:g,refForm:h,includeContact:E,isModeFilter:p,contactData:j,refRecurrence:y,selectedSource:d,isLoading:i,isHideRecurrenceOptions:G,isOriginalEventRecurring:T,isChildEvent:_,isSplitCurrentEvent:S,dateRange:D,dateCols:A,dateFormat:M,colors:I,sourcesToRender:b,allCalendars:R,sharedCalendars:P,validateForm:re,clearValidate:ne,getEvent:q,attendeesValidator:U,onChangeAllDay:Y,onChangeDates:Z,onChangeEventType:$,onChangeContact:Q,onChangeCalendar:X,onChangeUntil:J,onFilterCalendars:ee}}});n("cfc6");Fa.render=ra,Fa.__scopeId="data-v-685c7ca5";var La=Fa,za={style:{position:"absolute",right:"-35px",top:"-7px"}};function qa(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("AInput"),l=Object(c["resolveComponent"])("Color"),u=Object(c["resolveComponent"])("AFormItem"),d=Object(c["resolveComponent"])("AForm");return Object(c["openBlock"])(),Object(c["createBlock"])(d,{layout:e.layout},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,Object(c["mergeProps"])({label:"Name"},e.formItemProps,{required:""}),{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,Object(c["mergeProps"])({value:e.$props.name,placeholder:"Name",onChange:t[0]||(t[0]=function(t){return e.updateValue("name",t.target.value)})},e.formProps.field),null,16,["value"]),Object(c["createElementVNode"])("div",za,[Object(c["createVNode"])(l,{"model-value":e.color,"colors-data":e.colors,default:e.defaultColor,onChange:t[1]||(t[1]=function(t){return e.updateValue("color",t)})},null,8,["model-value","colors-data","default"])])]})),_:1},16)]})),_:1},8,["layout"])}var Ua=Object(c["defineComponent"])({components:{Color:Ge},props:{name:String,color:String,layout:{type:String,default:"vertical",validator:function(e){return["vertical","horizontal"].includes(e)}},defaultColor:String},emits:["update:name","update:color"],setup:function(e,t){var n=t.emit,r=Object(c["ref"])(!1),a=rr().sourceColors,o=function(e,t){n("update:"+e,t),"name"!==e||r.value||(r.value=!0)},i=Object(c["computed"])((function(){return r.value&&!e.name?{help:"Required field",validateStatus:"error"}:{validateStatus:"success"}})),l=Object(c["computed"])((function(){return"vertical"===e.layout?{field:{style:"width: 89%"},formItem:void 0}:{field:{style:"width: 85%"},formItem:{wrapperCol:{span:18},labelCol:{span:6}}}})),u=Object(c["computed"])((function(){return Object(s["a"])(Object(s["a"])({},i.value),l.value.formItem)})),d=Object(c["computed"])((function(){var t=Object(s["g"])([],a.value);return a.value.every((function(t){return t.color!==e.color}))&&t.push({color:e.color,disabled:!1,animate:!0,isOut:!0,active:!0}),t})),f=function(e){void 0===e&&(e=""),o("name",e),r.value=!1};return{updateValue:o,sourceColors:a,nameStatus:i,resetFieldName:f,formProps:l,formItemProps:u,colors:d}}});Ua.render=qa;var $a=Ua,Ya={style:{display:"flex","justify-content":"flex-end"}},Wa={style:{display:"flex","flex-direction":"column"}},Ha=Object(c["createTextVNode"])(" Edit recurring event "),Ka=Object(c["createTextVNode"])(" This event "),Za=Object(c["createTextVNode"])(" This and following events "),Ja=Object(c["createTextVNode"])("All events"),Qa={key:0,style:{display:"flex","flex-direction":"column"}},Xa=Object(c["createTextVNode"])(" Delete recurring event "),eo=Object(c["createTextVNode"])(" This event "),to=Object(c["createTextVNode"])(" This and following events "),no=Object(c["createTextVNode"])("All events"),ro={key:1},ao={style:{"margin-bottom":"0"}},oo={style:{display:"flex","align-items":"center"}},co={style:{color:"gray",margin:"0 0 0 0.5rem"}},io={style:{color:"gray",margin:"0 0 0 0.8rem"}},lo={style:{color:"gray",margin:"0 0 0 0.8rem"}},uo=["innerHTML"],so=Object(c["createElementVNode"])("h4",{style:{color:"grey","margin-bottom":"0.5rem"}},"Contact",-1),fo=Object(c["createElementVNode"])("h4",{style:{color:"grey","margin-bottom":"0.5rem"}},"Case",-1),bo=Object(c["createElementVNode"])("h4",{style:{color:"grey","margin-bottom":"0.5rem"}},"Description",-1);function vo(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("ARadio"),l=Object(c["resolveComponent"])("ARadioGroup"),u=Object(c["resolveComponent"])("EditOutlined"),d=Object(c["resolveComponent"])("AButton"),s=Object(c["resolveComponent"])("APopconfirm"),f=Object(c["resolveComponent"])("ATooltip"),b=Object(c["resolveComponent"])("DeleteOutlined"),v=Object(c["resolveComponent"])("CloseOutlined"),m=Object(c["resolveComponent"])("ColorCircle"),O=Object(c["resolveComponent"])("CalendarOutlined"),p=Object(c["resolveComponent"])("UserAddOutlined"),j=Object(c["resolveComponent"])("SelectContact"),h=Object(c["resolveComponent"])("ACol"),y=Object(c["resolveComponent"])("SelectCase"),g=Object(c["resolveComponent"])("Editor"),C=Object(c["resolveComponent"])("ARow"),w=Object(c["resolveComponent"])("AModal");return Object(c["openBlock"])(),Object(c["createBlock"])(w,{footer:null,closable:!1},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",Ya,[Object(c["createElementVNode"])("div",null,["all"===e.permission?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:0,title:"Edit Event",placement:"bottom"},{default:Object(c["withCtx"])((function(){return[e.isRecurringEvent?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,onConfirm:e.onConfirmEditEvent,onVisibleChange:e.onChangeVisiblePopConfirm},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",Wa,[Ha,Object(c["createVNode"])(l,{style:{"margin-top":"0.3rem","margin-left":"-22px"},value:e.$props.editRecurrenceType,onChange:t[0]||(t[0]=function(t){return e.updateEditRecurrenceType(t.target.value)})},{default:Object(c["withCtx"])((function(){return[e.$props.hideCurrentCheckItem?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,value:"current",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[Ka]})),_:1})),e.$props.hideFollowingCheckItem?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:1,value:"following",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[Za]})),_:1})),Object(c["createVNode"])(i,{value:"all",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[Ja]})),_:1})]})),_:1},8,["value"])])]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{type:"link",style:{"padding-right":"8px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{style:{"font-size":"18px"}})]})),_:1})]})),_:1},8,["onConfirm","onVisibleChange"])):(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:1,onClick:e.onConfirmEditEvent,type:"link",style:{"padding-right":"8px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{style:{"font-size":"18px"}})]})),_:1},8,["onClick"]))]})),_:1})):Object(c["createCommentVNode"])("",!0),"all"===e.permission?(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:1,title:"Delete Event",placement:"bottom"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{"ok-text":"Yes","cancel-text":"No",onConfirm:e.onConfirmDeleteEvent,onVisibleChange:e.onChangeVisiblePopConfirm},{title:Object(c["withCtx"])((function(){return[e.isRecurringEvent?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Qa,[Xa,Object(c["createVNode"])(l,{value:e.$props.editRecurrenceType,onChange:t[1]||(t[1]=function(t){return e.updateEditRecurrenceType(t.target.value)}),style:{"margin-top":"0.3rem","margin-left":"-22px"}},{default:Object(c["withCtx"])((function(){return[e.$props.hideCurrentCheckItem?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,value:"current",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[eo]})),_:1})),e.$props.hideFollowingCheckItem?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:1,value:"following",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[to]})),_:1})),Object(c["createVNode"])(i,{value:"all",class:"radio-vertical"},{default:Object(c["withCtx"])((function(){return[no]})),_:1})]})),_:1},8,["value"])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",ro,"Are you sure?"))]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{type:"link",style:{"padding-left":"8px"}},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{style:{"font-size":"18px"}})]})),_:1})]})),_:1},8,["onConfirm","onVisibleChange"])]})),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(f,{title:"Close",placement:"bottom"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{type:"link",style:{"padding-right":"0"},onClick:e.closeModal},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{style:{"font-size":"16px"}})]})),_:1},8,["onClick"])]})),_:1})])])]})),default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("h2",ao,Object(c["toDisplayString"])(e.event.title),1),Object(c["createElementVNode"])("div",oo,[Object(c["createVNode"])(m,{color:e.selectedSource.color,size:"extraSmall",animate:!1},null,8,["color"]),Object(c["createElementVNode"])("h4",co,Object(c["toDisplayString"])(e.selectedSource.name),1),Object(c["createElementVNode"])("h4",io,[Object(c["createVNode"])(O,{style:{"margin-right":"0.2rem"}}),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.eventLabel),1)]),e.isGoogleEvent?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:0,title:"Created By",placement:"top"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("h4",lo,[Object(c["createVNode"])(p,{style:{"margin-right":"0.2rem"}}),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.createdBy.fullName),1)])]})),_:1}))]),e.isRecurringEvent?(Object(c["openBlock"])(),Object(c["createElementBlock"])("h4",{key:0,innerHTML:e.recurrenceLabel,style:{color:"gray",margin:"0",display:"block"}},null,8,uo)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(C,{gutter:12,style:{"margin-top":"1rem"}},{default:Object(c["withCtx"])((function(){return[!e.isGoogleEvent&&e.event.contact?(Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:0,span:12},{default:Object(c["withCtx"])((function(){return[so,Object(c["createVNode"])(j,{"model-value":e.event.contact,style:{width:"100%"},readonly:""},null,8,["model-value"])]})),_:1})):Object(c["createCommentVNode"])("",!0),!e.isGoogleEvent&&e.event.contact?(Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:1,span:12},{default:Object(c["withCtx"])((function(){return[fo,Object(c["createVNode"])(y,{"model-value":e.event.case,contact:e.event.contact,disabled:!e.event.contact||e.isLoading,readonly:"",placeholder:"Without Case",style:{width:"100%"}},null,8,["model-value","contact","disabled"])]})),_:1})):Object(c["createCommentVNode"])("",!0),e.showDescription?(Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:2,span:24,style:{"margin-top":"0.7rem"}},{default:Object(c["withCtx"])((function(){return[bo,Object(c["createVNode"])(g,{"model-value":e.event.description,disabled:""},null,8,["model-value"])]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1})}var mo=n("ba98"),Oo=n("74fb"),po=Object(c["defineComponent"])({components:{SelectContact:xa,SelectCase:Da,Editor:Ra,ColorCircle:Ne,EditOutlined:mo["a"],DeleteOutlined:ve["a"],CloseOutlined:Y["a"],CalendarOutlined:R["a"],UserAddOutlined:Oo["a"]},props:{editRecurrenceType:{type:String,required:!0},hideFollowingCheckItem:{type:Boolean,required:!1},hideCurrentCheckItem:{type:Boolean,required:!1}},emits:["update:editRecurrenceType","close","confirmEditEvent","confirmDeleteEvent"],setup:function(e,t){var n=t.emit,r=ir(),a=r.selectedSource,o=r.currentData,i=r.currentEventApi,l=r.permission,u=qe(),d=u.time,s=u.timezone,f=u.getTimeZoneLabel,b=sn().isLoading,v=Xn(),m=v.users,O=v.whoami,p=Object(c["ref"])(!1),j=Object(c["computed"])((function(){return o.event})),h=Object(c["computed"])((function(){return!!j.value.rrule})),y=Object(c["computed"])((function(){var e=j.value.createdBy;return e===O.value.id?O.value:m.value.find((function(e){return e.id===j.value.createdBy}))})),g=Object(c["computed"])((function(){if(!h.value)return"";var e=new rn(j.value.rrule),t=e.getLabel();return j.value.allDay||j.value.timezone===s.value||(t+=" <i>"+f(j.value.timezone)+"</i>"),t})),C=Object(c["computed"])((function(){var e=j.value.description||"";return!!e.trim()})),w=Object(c["computed"])((function(){return j.value.calendarContext===Ie.Google})),k=Object(c["computed"])((function(){var e=d(i.value.startStr),t=d(i.value.endStr);return i.value.allDay&&t.diff(e,"days")&&t.subtract(1,"days"),{start:e.toISOString(),end:t.toISOString()}})),E=Object(c["computed"])((function(){if(i.value.allDay){var e=d(k.value.start).format("dddd, MMM D");if(d(k.value.start).isSame(k.value.end,"days"))return e;e=d(k.value.start).format("MMMM D");var t=d(k.value.end).format("MMMM D");return e+" - "+t}var n=d(k.value.start).format("MMM D, h:mm a"),r=d(k.value.start).isSame(k.value.end,"days")?d(k.value.end).format("h:mm a"):d(k.value.end).format("MMM D, h:mm a");return n+" - "+r})),T=function(e){n("update:editRecurrenceType",e)},S=function(){p.value=!0,n("confirmEditEvent"),x()},N=function(){p.value=!0,n("confirmDeleteEvent"),x()},x=function(){n("close")},V=function(e){Object(c["nextTick"])((function(){e||p.value||(T("current"),p.value=!1)}))};return{event:j,selectedSource:a,permission:l,isRecurringEvent:h,isGoogleEvent:w,showDescription:C,createdBy:y,eventLabel:E,recurrenceLabel:g,isLoading:b,updateEditRecurrenceType:T,closeModal:x,onChangeVisiblePopConfirm:V,onConfirmEditEvent:S,onConfirmDeleteEvent:N}}});po.render=vo;var jo=po,ho=n("573d"),yo=n("3cdd"),go=n("3e32"),Co=n("e44e"),wo=n("a20c"),ko=n("67ae"),Eo=Object(c["defineComponent"])({components:{CalendarToolbar:ta,CalendarEventForm:La,CalendarForm:$a,CalendarModalEventInfo:jo},setup:function(){var e=this,t={};Object(c["provide"])(ee,t);var n=tr(),i=n.isModeFilter,l=n.getFilteredEvents,u=n.globalFilter,d=lr(),f=d.getRecurrenceChildren,b=d.getChildrenDataToUpdate,v=d.getEventFromSource,m=d.splitExdate,O=d.regenerateByweekday,p=d.renewLocalEvent,h=rr(),y=h.isSourceDisplayed,g=h.getSourceById,C=h.sourcesToRender,w=h.isCalendarOwn,k=h.addNewEventInSource,E=h.deleteEventInSource,T=h.removeSource,S=ir(),N=S.sources,x=S.permission,V=S.setCalendarInstance,M=S.setDataOfCurrentEvent,D=S.setActiveDateRange,A=S.setCurrentCalendarId,I=S.setOldRecurringPosition,B=S.addNewCalendarSource,_=S.getCurrentFullEvent,G=S.getEventDate,P=S.getActiveDatesRange,R=S.selectedSource,F=S.defaultSource,L=S.isRecurringEvent,z=S.isChildEvent,q=S.currentData,U=S.currentEventApi,$=sn(),Y=$.isLoading,W=$.setLoading,H=$.setAwaitLoading,K=$.awaitLoading,Z=Object(c["ref"])(),J=Object(c["ref"])(null),Q=Object(c["reactive"])({recurrenceLabel:"",eventDateLabel:"",newEventRange:{start:"",end:""}}),te=Object(c["reactive"])({timezone:Re.a.tz.guess()}),re=qe(te.timezone),ae=re.time,oe=re.setTimezone,ce=re.timezoneLabel,ie=Object(c["reactive"])({visible:!1,type:"create",calendar:!1,info:!1,recurrence:!1,moveRecurrence:!1}),le=Object(c["ref"])("current"),ue=Object(c["ref"])("modal"),de=Object(c["computed"])((function(){return!z.value&&("create"===ie.type||!L.value||"current"!==le.value)})),se=Object(c["computed"])((function(){return it(ie.type)+" "+(L.value?"Recurring":"")+" Event"})),fe=function(e){for(var n=t.getEvents(),r=0,a=n;r<a.length;r++){var o=a[r],c=!e&&te.timezone===o.extendedProps.timezone;if(!o.allDay&&!c){var i=Re.a.tz(o.startStr,e||o.extendedProps.timezone),l=Re.a.tz(o.endStr,e||o.extendedProps.timezone);o.setStart(ae(i).format(at)),o.setEnd(ae(l).format(at))}}},be=function(e){var t=!1,n=e.map((function(e){return e.events})).flat(),r=n.reduce((function(e,r){var a=r.start||r.rrule.dtstart,o=r.end||r.rrule.until;if(!e.start&&!e.end)return 1===n.length&&(t=!o&&!t),{start:a,end:o};o||t||(t=!0);var c={};return new Date(a)<new Date(e.start)&&(c.start=a),o&&e.end&&new Date(o)>new Date(e.end)&&(c.end=o),Object(s["a"])(Object(s["a"])({},e),c)}),{start:"",end:""});return t&&(r.end=Re()(r.end||new Date).add(13,"months").toISOString()),r.start=Re()(r.start).subtract(10,"days").toISOString(),r.end=Re()(r.end).add(10,"days").toISOString(),r},ve=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,n,r,a,c,d,f,b,v,m,O;return Object(s["d"])(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),n=i.value&&"filter"===t.view.type,r="backend",n?(t.removeAllEvents(),[4,l(N.value)]):[3,2];case 1:return a=p.sent(),c=a.from,d=a.sourceEvents,r=c,f=be(d),t.setOption("visibleRange",f),e=d,[3,4];case 2:return b=P(),v=b.start,m=b.end,[4,o.getEvents({start:v,end:m},u.value)];case 3:e=p.sent(),p.label=4;case 4:return t.batchRendering((function(){for(var a=function(e){var a=N.value.findIndex((function(t){return t.id===e.id}));if(-1===a)throw new Error('Calendar with the ID "'+e.id+'" was not found');var o=N.value[a];if(n&&"backend"!==r||(o.events=e.events),o.show||n){var c=t.getEventSourceById(e.id);c?(c.remove(),t.addEventSource(Object(s["a"])(Object(s["a"])({},o),{events:e.fullCalendarEvents}))):t.addEventSource(Object(s["a"])(Object(s["a"])({},o),{events:e.fullCalendarEvents}))}},o=0,c=e;o<c.length;o++){var i=c[o];a(i)}fe()})),[3,6];case 5:return O=p.sent(),console.error(O),[3,6];case 6:return[2]}}))}))};Object(c["watch"])(K,(function(e,t){!e&&t&&W(!1)})),Object(c["watch"])((function(){return q.activeDateRange}),(function(e){var t="start"in e;t&&ve()}));var me=function(e,t){void 0===t&&(t="success"),j.a[t]({message:e,placement:"bottomRight"})};Object(c["watch"])((function(){return te.timezone}),(function(e,n){oe(e),t.setOption("timeZone",e),t.batchRendering((function(){return fe(n)})),me("Timezone changed to "+ce.value,"info")}));var Oe,pe=Object(c["computed"])((function(){if(!L.value)return!1;var e=_();if(!e.rrule.until)return!1;var t="";if(t=e.allDay?lt(e.rrule.until):a.subtractDate({date:e.rrule.until,duration:e.duration,allDay:e.allDay}),Re.a.utc(t).isSame(Re.a.utc(e.rrule.dtstart)))return!0;if(!pt(e.rrule.count)&&1===e.rrule.count)return!0;var n=a.getRuleMatches({recurringEvent:e});return 1===n.length})),je=function(e){var t,n=e.date,r=e.rrule,a=e.field,o={start:n,end:n},c={start:"subtract",end:"add"},i={start:"end",end:"start"},l=(t={},t[De["Daily"]]="days",t[De["Weekly"]]="weeks",t[De["Monthly"]]="months",t[De["Yearly"]]="years",t),u=i[a],d=c[a];return o[a]=Re.a.utc(o[u])[d](2*r.interval,l[r.freq]).toISOString(),o},he=Object(c["computed"])((function(){if(!q||!q.oldRecurringPosition||!L.value)return!1;var e=_(),t=Object(s["a"])({},q.oldRecurringPosition),n=e.rrule,r=Re.a.utc(n.dtstart);if(r.isSame(t.start))return!0;var o=je({date:r.toISOString(),rrule:n,field:"end"});return!!a.isFirstEventOfRecurrence(t.start,o,e)||!!n.until&&(q.event.allDay&&(t.end=ae(t.end).subtract(1,"days").toISOString()),!!Re.a.utc(n.until).isSame(t.end)||(o=je({date:Re.a.utc(n.until).toISOString(),rrule:n,field:"start"}),a.isLastEventOfRecurrence(t.start,o,e)))})),ye=function(e){M(e),ue.value="modal",I(Je(e)),ie.info=!0,Object(c["nextTick"])((function(){L.value&&(pe.value?he.value?le.value="all":le.value="following":le.value="current")}))},ge=function(e){y(e.calendarId)&&t.addEvent(e,e.calendarId)},Ce=function(e){e.forEach((function(e){var t=Re.a.tz(e.startStr,e.extendedProps.timezone),n=Re.a.tz(e.endStr,e.extendedProps.timezone);e.setStart(ae(t).format(at)),e.setEnd(ae(n).format(at))}))},we=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.batchRendering((function(){e.forEach((function(e){var n=t.getEventById(e.id);n&&n.remove(),ge(e)}));var n=t.getEvents().filter((function(t){var n=e.some((function(e){return e.id===t.id})),r=t.extendedProps.timezone===te.timezone;return!t.allDay&&!r&&n}));Ce(n)}))},ke=function(){var e=P(),t=q.oldRecurringPosition,n=_(),r={start:e.start,end:Re.a.utc(t.start).subtract(1,"days").toISOString()};switch(n.rrule.freq){case"DAILY":r.start=Re.a.utc(r.end).subtract(2*n.rrule.interval,"days").toISOString();break;case"WEEKLY":r.start=Re.a.utc(r.end).subtract(2*n.rrule.interval,"weeks").toISOString();break;case"MONTHLY":r.start=Re.a.utc(r.end).subtract(2*n.rrule.interval,"months").toISOString();break;default:r.start=Re.a.utc(r.end).subtract(2*n.rrule.interval,"years").toISOString();break}var o=a.getRuleMatches({recurringEvent:q.event,betweenDates:r,exclude:!1}),c=o[o.length-1];return c=q.event.allDay?lt(c):a.updateDateFromDuration({date:c,duration:q.event.duration,allDay:!1}),c},Ee=function(e){var t=[q.event.calendarId],n=void 0;return Se(e)||(t.push(e),n=q.event.calendarId),{calendarIds:t,oldCalendarId:n}},Te=function(t){return Object(s["b"])(e,void 0,void 0,(function(){var e,n,r,c,i,l,u,d,v,j,h,g,C,w,E,T,S,N,x,V,M,D,A,I;return Object(s["d"])(this,(function(B){switch(B.label){case 0:e=!!t,n=ut(_(),"createdBy","calendarContext"),r=t||ut(_(),"id","createdBy","calendarContext"),c=ke(),i=void 0,l=Object(s["a"])({},n.rrule).until,n.rrule.until=c,pt(n.rrule.count)||(C=a.getRuleMatches({recurringEvent:Object(s["a"])(Object(s["a"])({},n),{rrule:Object(s["a"])(Object(s["a"])({},n.rrule),{count:void 0})}),exclude:!1}),i=n.rrule.count-C.length,n.rrule.count=C.length),u=et(U.value.startStr,r.timezone),d=a.generateEventDuration(q.oldRecurringPosition.start,u),v="",v=n.allDay?Re.a.utc(c).toISOString():a.subtractDate({date:c,duration:n.duration,allDay:!1}),Ot(n.exdate)&&(j=m(n.exdate,v),n.exdate=j.current,r.exdate=j.new),h=0!==d.daysDiff,g=Ot(n.rrule.byweekday),!e&&h&&g&&(r.rrule.byweekday=O({currentByweekday:r.rrule.byweekday,daysDiff:d.daysDiff,freq:r.rrule.freq,eventSelectedDate:U.value.startStr})),e||(r.rrule.dtstart=r.allDay?U.value.startStr:ae(U.value.startStr).toISOString(),i?(r.rrule.count=i,C=a.getRuleMatches({recurringEvent:r,exclude:!1}),w=a.formatEventDayByAllDay(C[C.length-1],r.allDay),w=a.updateDateFromDuration({date:w,duration:r.duration,allDay:r.allDay}),r.rrule.until=w):l&&(l=a.updateDateFromDuration({date:l,duration:ut(d,"daysDiff"),allDay:r.allDay}),r.rrule.until=a.formatEventDayByAllDay(l,r.allDay))),E=[],T=f(n.calendarId,n.id),mt(T)||(T=T.filter((function(e){return Re.a.utc(e.start).isAfter(v)}))),e&&!mt(T)&&(E=b({currentEvent:n,newEvent:r,children:T})),B.label=1;case 1:return B.trys.push([1,7,,8]),r.createdBy&&delete r.createdBy,[4,Promise.all([o.updateEvents({filter:{id:n.id,calendarId:n.calendarId},newData:Ye(n)}),o.createEvent(r)])];case 2:return S=B.sent(),N=S[0][0],x=S[1],V=[N.localEvent],M=[N.fullCalendarEvent,x.fullCalendarEvent],mt(T)?[3,4]:(E=mt(E)?T.map((function(e){return{filter:{id:e.id,calendarId:e.calendarId},newData:{parentId:x.localEvent.id}}})):E.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{newData:Object(s["a"])(Object(s["a"])({},e.newData),{parentId:x.localEvent.id})})})),[4,o.updateEvents.apply(o,E)]);case 3:D=B.sent(),D.forEach((function(e){V.push(e.localEvent),M.push(e.fullCalendarEvent)})),B.label=4;case 4:return A=Ee(x.localEvent.calendarId).oldCalendarId,V.forEach((function(e){return p(e,A)})),k(x.localEvent),y(x.localEvent.calendarId)?[3,6]:[4,yt({calendarId:x.localEvent.calendarId,checked:!0})];case 5:B.sent(),B.label=6;case 6:return we.apply(void 0,M),me("Event updated!"),ie.visible=!1,ie.moveRecurrence=!1,le.value="current",[3,8];case 7:return I=B.sent(),console.error(I),Ne(I),[3,8];case 8:return[2]}}))}))},Se=function(e){return void 0!==q.event.calendarId&&q.event.calendarId===e},Ne=function(e){var t=e.some((function(e){return e.message&&e.message.includes(tt)}));return t&&me("You don't have permission for this action","warning"),{hasUnauthorizedError:t}},xe=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return i.value&&"filter"===t.view.type?[4,l(N.value)]:[3,2];case 1:e=r.sent().sourceEvents,n=be(e),t.setOption("visibleRange",n),r.label=2;case 2:return[2]}}))}))},Ve=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,n,r;return Object(s["d"])(this,(function(a){switch(a.label){case 0:return a.trys.push([0,8,9,10]),[4,Z.value.validateForm()];case 1:return a.sent(),e=Z.value.getEvent(),H(!0),"edit"!==ie.type?[3,3]:[4,We(e)];case 2:return[2,a.sent()];case 3:return[4,o.createEvent(e)];case 4:return n=a.sent(),y(n.localEvent.calendarId)?(k(n.localEvent),xe(),n.localEvent.allDay?ge(n.fullCalendarEvent):we(n.fullCalendarEvent),[3,7]):[3,5];case 5:return[4,yt({calendarId:n.localEvent.calendarId,checked:!0})];case 6:a.sent(),a.label=7;case 7:return i.value&&"filter"===t.view.type&&ve(),me("Event created!"),ie.visible=!1,le.value="current",[3,10];case 8:return r=a.sent(),console.error(r),Array.isArray(r)&&Ne(r),[3,10];case 9:return H(!1),[7];case 10:return[2]}}))}))},Me=function(e){ue.value="modal",A(F.value.id),Q.newEventRange={start:e.startStr,end:e.endStr},ie.type="create",ie.visible=!0},Ae=function(){ie.type="create";var e=Re()();Q.newEventRange={start:e.toISOString(),end:e.clone().add(1,"days").toISOString()},ie.visible=!0,Z.value&&Z.value.clearValidate()},Ie=function(){if(J.value=_(),L.value&&"following"===le.value){var e=_();if("undefined"!==typeof e.rrule.count){var t=ke();e.rrule.until=t;var n=a.getRuleDates(Object(s["a"])(Object(s["a"])({},e),{rrule:Object(s["a"])(Object(s["a"])({},e.rrule),{count:void 0})})),r=e.rrule.count-n.length;J.value.rrule.count=r,J.value.rrule.dtstart=U.value.startStr}}ie.info=!1,ie.type="edit",ie.visible=!0},_e=function(){le.value="current"},Ge=function(){le.value="current"},Pe=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,n,r,a,c;return Object(s["d"])(this,(function(i){switch(i.label){case 0:e=_(),n=e.id,r=e.calendarId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.deleteEvents({field:"id",value:n,calendarId:r})];case 2:return i.sent(),E(n,r),null===(c=t.getEventById(n))||void 0===c||c.remove(),me("Event removed!"),ie.info=!1,[3,4];case 3:return a=i.sent(),console.error(a),Ne(a),[3,4];case 4:return[2]}}))}))},Fe=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,t,n,r,a;return Object(s["d"])(this,(function(c){switch(c.label){case 0:e=_(),t=q.oldRecurringPosition.start,n=Object(s["g"])(Object(s["g"])([],e.exdate||[]),[t]),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o.updateEvents({filter:{id:e.id,calendarId:e.calendarId},newData:{exdate:n}})];case 2:return r=c.sent()[0],p(r.localEvent),we(r.fullCalendarEvent),me("Event updated!"),ie.info=!1,[3,4];case 3:return a=c.sent(),console.error(a),Ne(a),[3,4];case 4:return[2]}}))}))},Le=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,n,r,c,i,l,u,d,b,v,O,j;return Object(s["d"])(this,(function(h){switch(h.label){case 0:e=_(),n=ke(),e.rrule.until=n,pt(e.rrule.count)||(r=a.getRuleMatches({recurringEvent:Object(s["a"])(Object(s["a"])({},e),{rrule:Object(s["a"])(Object(s["a"])({},e.rrule),{count:void 0})}),exclude:!1}),e.rrule.count=r.length),c="",c=e.allDay?Re.a.utc(n).toISOString():a.subtractDate({date:n,duration:e.duration,allDay:!1}),Ot(e.exdate)&&(i=m(e.exdate,c),e.exdate=i.current),l=f(e.calendarId,e.id),mt(l)||(l=l.filter((function(e){return Re.a.utc(e.start).isAfter(c)}))),h.label=1;case 1:return h.trys.push([1,3,,4]),u=[],u.push(o.updateEvents({filter:{id:e.id,calendarId:e.calendarId},newData:{exdate:e.exdate,rrule:e.rrule}})),mt(l)||u.push(o.deleteEvents.apply(o,l.map((function(e){return{field:"id",value:e.id,calendarId:e.calendarId}})))),[4,Promise.all(u)];case 2:return d=h.sent(),b=d[0][0],v=d[1],p(b.localEvent),we(b.fullCalendarEvent),v&&(O=g(e.calendarId).source,t.batchRendering((function(){v.forEach((function(e){var n;null===(n=t.getEventById(e.id))||void 0===n||n.remove(),E(e.id,O.id)}))}))),ie.info=!1,me("Event removed!"),[3,4];case 3:return j=h.sent(),console.error(j),Ne(j),[3,4];case 4:return[2]}}))}))},ze=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,n,r,a,c,i;return Object(s["d"])(this,(function(l){switch(l.label){case 0:e=_(),n=[{field:"id",value:e.id,calendarId:e.calendarId}],r=f(e.calendarId,e.id),r.length&&n.unshift({field:"parentId",value:e.id,calendarId:e.calendarId}),l.label=1;case 1:return l.trys.push([1,3,,4]),a=g(e.calendarId).source,[4,o.deleteEvents.apply(o,n)];case 2:return c=l.sent(),t.batchRendering((function(){c.forEach((function(e){var n;null===(n=t.getEventById(e.id))||void 0===n||n.remove(),E(e.id,a.id)}))})),ie.info=!1,me((r.length?"Events":"Event")+" removed!"),[3,4];case 3:return i=l.sent(),console.error(i),Ne(i),[3,4];case 4:return[2]}}))}))},Ue=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e;return Object(s["d"])(this,(function(t){switch(t.label){case 0:if(!L.value)return[2,Pe()];if("current"===le.value)return[2,Fe()];switch(e=le.value,e){case"following":return[3,1]}return[3,3];case 1:return[4,Le()];case 2:return t.sent(),[3,5];case 3:return[4,ze()];case 4:return t.sent(),[3,5];case 5:return[2]}}))}))},$e=function(t){return Object(s["b"])(e,void 0,void 0,(function(){var e,n,r,a,c,i,l,u,d,f;return Object(s["d"])(this,(function(b){switch(b.label){case 0:t||(t=ut(_(),"id","duration","rrule","exdate","createdBy","calendarContext"),e=G(),n=e.start,r=e.end,t.start=n,t.end=r),a=ot(q.event),c=ae(q.oldRecurringPosition.start).toISOString(),a.exdate=Object(s["g"])(Object(s["g"])([],a.exdate),[c]),i=Ee(t.calendarId).oldCalendarId,i||(t.parentId=a.id),b.label=1;case 1:return b.trys.push([1,6,,7]),[4,Promise.all([o.updateEvents({filter:{id:a.id,calendarId:a.calendarId},newData:{exdate:a.exdate}}),o.createEvent(t)])];case 2:return l=b.sent(),u=l[0][0],d=l[1],k(d.localEvent),p(u.localEvent,i),we(u.fullCalendarEvent),y(d.localEvent.calendarId)?(we(d.fullCalendarEvent),[3,5]):[3,3];case 3:return[4,yt({calendarId:d.localEvent.calendarId,checked:!0})];case 4:b.sent(),b.label=5;case 5:return me("Event updated!"),ie.visible=!1,ie.moveRecurrence=!1,le.value="current",[3,7];case 6:return f=b.sent(),console.error(f),Ne(f),[3,7];case 7:return[2]}}))}))},Ye=function(e){var t=ot(e),n=ut(_(),"createdBy","calendarContext");return null===t.description&&void 0===n.description&&(n.description=null),n.color&&pt(t.color)&&(t.color=null),pt(n.location)&&(n.location=null),pt(n.attendees)&&(n.attendees=null),bt(n,t)},We=function(n){return Object(s["b"])(e,void 0,void 0,(function(){var e,r,a,c,i,l,u,d,v,m,O,j,h;return Object(s["d"])(this,(function(g){switch(g.label){case 0:if(L.value)return[3,8];g.label=1;case 1:return g.trys.push([1,6,,7]),e=void 0,n.calendarId!==q.event.calendarId&&(e=q.event.calendarId,n.parentId&&(n.parentId=null)),r=Ye(n),jt(r)?[2,me("Please apply any change to current event before","warning")]:[4,o.updateEvents({filter:{id:n.id,calendarId:q.event.calendarId},newData:r})];case 2:return a=g.sent()[0],y(a.localEvent.calendarId)?(p(a.localEvent,e),xe(),we(a.fullCalendarEvent),[3,5]):[3,3];case 3:return null===(h=t.getEventById(n.id))||void 0===h||h.remove(),[4,yt({calendarId:a.localEvent.calendarId,checked:!0})];case 4:g.sent(),g.label=5;case 5:return me("Event updated!"),ie.visible=!1,[3,7];case 6:return c=g.sent(),console.error(c),Ne(c),[3,7];case 7:return[2];case 8:if("current"===le.value)return[2,$e(Object(s["a"])({},n))];if("following"===le.value)return[2,Te(Object(s["a"])({},n))];if(i=_(),l=Ye(n),jt(l))return[2,me("Please apply any change to current event before","warning")];u=Ee(n.calendarId).oldCalendarId,d=f(i.calendarId,i.id),v=[],Ot(d)&&(v=b({currentEvent:i,newEvent:n,children:d})),g.label=9;case 9:return g.trys.push([9,13,,14]),[4,o.updateEvents.apply(o,Object(s["g"])([{filter:{id:n.id,calendarId:i.calendarId},newData:l}],v))];case 10:return m=g.sent(),O=[],m.forEach((function(e){p(e.localEvent,u),O.push(e.fullCalendarEvent)})),xe(),we.apply(void 0,O),y(n.calendarId)?[3,12]:[4,yt({calendarId:n.calendarId,checked:!0})];case 11:g.sent(),g.label=12;case 12:return me("Event updated!"),ie.visible=!1,[3,14];case 13:return j=g.sent(),console.error(j),Ne(j),[3,14];case 14:return[2]}}))}))},He=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,t,n,c,i,l,u,d,f,b,v,m,O;return Object(s["d"])(this,(function(s){switch(s.label){case 0:e=_(),t=a.getRecurrenceNewMonth({dateAbsulute:e.rrule.dtstart,eventOldPosition:q.oldRecurringPosition.start,eventNewPosition:U.value.startStr}),n=U.value.startStr,e.allDay||(c=et(n,e.timezone),n=c.format(at)),i=r.getDayPositionOfMonth(n),l=r.getDateByPositionInMonth({month:t,year:new Date(e.rrule.dtstart).getUTCFullYear(),byweekday:i}),e.allDay?e.rrule.dtstart=Re.a.utc(l).format("YYYY-MM-DD"):(b=l.substr(0,10)+"T"+n.split("T")[1],e.rrule.dtstart=ae(b,e.timezone).toISOString()),e.rrule.byweekday=[i],pt(e.rrule.until)||(pt(null===(O=e.rrule)||void 0===O?void 0:O.count)?(d=a.getRecurrenceNewMonth({dateAbsulute:e.rrule.until,eventOldPosition:q.oldRecurringPosition.start,eventNewPosition:U.value.startStr}),f=r.getDateByPositionInMonth({month:d,year:new Date(e.rrule.until).getUTCFullYear(),byweekday:i}),e.allDay?e.rrule.until=Re.a.utc(f).format("YYYY-MM-DD"):(b=f.substr(0,10)+"T"+e.rrule.until.split("T")[1],e.rrule.until=ae(b,e.timezone).toISOString())):(u=a.getRuleMatches({recurringEvent:e,exclude:!1}),e.rrule.until=u[u.length-1],e.allDay?e.rrule.until=lt(e.rrule.until):e.rrule.until=a.updateDateFromDuration({date:e.rrule.until,duration:e.duration,allDay:e.allDay}))),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,o.updateEvents({filter:{id:e.id,calendarId:e.calendarId},newData:{rrule:e.rrule}})];case 2:return v=s.sent()[0],p(v.localEvent),we(v.fullCalendarEvent),me("Event updated!"),ie.visible=!1,ie.moveRecurrence=!1,le.value="current",[3,4];case 3:return m=s.sent(),console.error(m),Ne(m),[3,4];case 4:return[2]}}))}))},Ke=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,t,n,r,c,i;return Object(s["d"])(this,(function(l){switch(l.label){case 0:return l.trys.push([0,6,7,8]),console.time("WRITE MOUSE"),H(!0),"current"!==le.value?[3,2]:[4,$e()];case 1:return l.sent(),[2];case 2:return"following"!==le.value?[3,4]:[4,Te()];case 3:return[2,l.sent()];case 4:return e=ut(_(),"createdBy"),"MONTHLY"===e.rrule.freq&&Ot(e.rrule.byweekday)?[2,He()]:(t=et(U.value.startStr,e.timezone),n=a.generateEventDuration(q.oldRecurringPosition.start,t),e.rrule.dtstart=a.updateDateFromDuration({date:e.rrule.dtstart,duration:ut(n,"daysDiff"),allDay:e.allDay}),Ot(e.rrule.byweekday)&&(e.rrule.byweekday=O({currentByweekday:e.rrule.byweekday,daysDiff:n.daysDiff,freq:e.rrule.freq,eventSelectedDate:U.value.startStr})),pt(e.rrule.count)?e.rrule.until&&(e.rrule.until=a.updateDateFromDuration({date:e.rrule.until,duration:ut(n,"daysDiff"),allDay:e.allDay})):(r=a.getRuleMatches({recurringEvent:e,exclude:!1}),e.rrule.until=r[r.length-1]),[4,o.updateEvents({filter:{id:e.id,calendarId:e.calendarId},newData:{rrule:e.rrule}})]);case 5:return c=l.sent()[0],p(c.localEvent),we(c.fullCalendarEvent),me("Event updated!"),ie.visible=!1,ie.moveRecurrence=!1,le.value="current",[3,8];case 6:return i=l.sent(),console.error(i),Ne(i),[3,8];case 7:return H(!1),console.timeEnd("WRITE MOUSE"),[7];case 8:return[2]}}))}))},Ze=function(){var e=P(),t=e.start,n=e.end,r=!1;if("start"in q.activeDateRange){var a=q.activeDateRange;r=ae(t).utc().isSame(a.start)&&ae(n).utc().isSame(a.end)}!r&&D({start:t,end:n})},Je=function(e){if(e.allDay)return{start:a.convertOffsetTimeToUTC(e.startStr),end:a.convertOffsetTimeToUTC(e.endStr)};var t=e.extendedProps.timezone;return te.timezone===t?{start:ae(e.startStr,t).toISOString(),end:ae(e.endStr,t).toISOString()}:{start:ae(e.startStr,te.timezone).tz(t).toISOString(),end:ae(e.endStr,te.timezone).tz(t).toISOString()}},Qe=function(t,n){return Object(s["b"])(e,void 0,void 0,(function(){var e,r,a;return Object(s["d"])(this,(function(c){switch(c.label){case 0:if(L.value)return I(Je(n)),ie.moveRecurrence=!0,[2];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o.updateEvents({filter:{id:t.id,calendarId:t.extendedProps.calendarId},newData:Je(t)})];case 2:return e=c.sent()[0].localEvent,p(e),me("Event updated!"),[3,4];case 3:return r=c.sent(),console.error(r),a=Ne(r).hasUnauthorizedError,a&&Oe(),[3,4];case 4:return[2]}}))}))},Xe=function(e){if(M(e.event),x.value===Be.Read)return me("This event is read-only for you","warning");var t=_().rrule;return t?me("Recurring events can't be resized","warning"):void 0},nt=function(t){return Object(s["b"])(e,void 0,void 0,(function(){return Object(s["d"])(this,(function(e){return x.value===Be.Read||q.event.rrule?(t.revert(),[2]):(Oe=t.revert,ue.value="resize",Qe(t.event,t.oldEvent),[2])}))}))},rt=function(e){if(M(e.event),x.value===Be.Read)return me("This event is read-only for you","warning")},ct=function(t){return Object(s["b"])(e,void 0,void 0,(function(){return Object(s["d"])(this,(function(e){return M(t.event),x.value===Be.Read?(t.revert(),[2]):(Oe=t.revert,ue.value="dragAndDrop",Qe(t.event,t.oldEvent),[2])}))}))},dt=function(){Oe(),le.value="current",I(null)},st=Object(c["reactive"])({name:void 0,color:void 0}),ft=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,t,n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:if(!st.name||!st.color)throw new Error("Name and color fields are required to create new calendar source");e=Object(s["a"])(Object(s["a"])({},st),{isDefault:!1}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.createCalendar(e)];case 2:return t=r.sent(),B(t),[3,4];case 3:return n=r.sent(),console.error(n),[3,4];case 4:return st.name=void 0,st.color=void 0,me("New calendar created!"),ie.calendar=!1,[2]}}))}))},vt=function(){st.name=void 0,st.color=void 0},ht=function(e){var n=e.source,r=e.oldSource;if(n.color!==r.color){var a=g(n.id).source;t.batchRendering((function(){var e=t.getEvents().filter((function(e){var t=e.extendedProps.calendarId===n.id;if(!t)return!1;var r=v(e.id,a).event;return!r.color}));e.forEach((function(e){e.setProp("backgroundColor",n.color),e.setProp("borderColor",n.color)}))}))}},yt=function(n){var r=n.calendarId,a=n.checked;return Object(s["b"])(e,void 0,void 0,(function(){var e,n,c,i,l,d,f,b,v,m,O;return Object(s["d"])(this,(function(p){switch(p.label){case 0:if(e=g(r).source,a)return[3,5];if(F.value.id===r)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,o.updateCalendarVisibility(e.context,r,a)];case 2:return p.sent(),[3,4];case 3:return n=p.sent(),console.error(n),[3,4];case 4:e.show=!1,e.events=[],c=!1;while(!c)null===(O=t.getEventSourceById(r))||void 0===O||O.remove(),c=!t.getEventSourceById(r);return[2];case 5:e.show=!0,e.events=[],i=q.activeDateRange,l=[o.getEventsFromOneCalendar(r,e.context,i,u.value)],F.value.id!==r&&l.push(o.updateCalendarVisibility(e.context,r,a)),p.label=6;case 6:return p.trys.push([6,8,,9]),[4,Promise.all(l)];case 7:return d=p.sent()[0],Ot(d)?(f=d.reduce((function(e,t){return e[0].push(t.localEvent),e[1].push(t.fullCalendarEvent),e}),[[],[]]),b=f[0],v=f[1],t.batchRendering((function(){var n;t.addEventSource(Object(s["a"])(Object(s["a"])({},e),{events:v})),(n=e.events).push.apply(n,b);var a=t.getEvents().filter((function(e){var t=te.timezone!==e.extendedProps.timezone;return!e.allDay&&t&&e.extendedProps.calendarId===r}));mt(a)||Ce(a)})),[3,9]):[2];case 8:return m=p.sent(),console.error(m),[3,9];case 9:return[2]}}))}))},gt=function(n){return Object(s["b"])(e,void 0,void 0,(function(){var e,r,a;return Object(s["d"])(this,(function(c){switch(c.label){case 0:if(c.trys.push([0,2,,3]),e=t.getEventSourceById(n),!e)throw new Error("Calendar source not found when trying to remove it");return[4,o.removeCalendar(n)];case 1:return r=c.sent(),e.remove(),T(n),me('The calendar "'+r.name+'" and its '+r.eventsRemoved+" events were eliminated!","success"),[3,3];case 2:return a=c.sent(),console.error(a),[3,3];case 3:return[2]}}))}))},Ct=Object(c["reactive"])({viewTitle:"",viewName:"",onCreate:function(e){if("event"===e)return Ae();ie.calendar=!0},onChangeView:function(e){i.value&&t.removeAllEvents(),t.changeView(e),Ze()},onGotoDate:function(e){t.gotoDate(e),Ct.viewTitle=t.currentData.viewTitle,Ze()},onSetToday:function(){t.today(),Ct.viewTitle=t.currentData.viewTitle,Ze()},onChangeViewPage:function(e){return Object(s["b"])(this,void 0,void 0,(function(){return Object(s["d"])(this,(function(n){return t[e](),Ze(),Ct.viewTitle=t.currentData.viewTitle,[2]}))}))},onFetchEvents:function(){return ve()},onChangeCalendarVisibility:yt,onChangeSource:ht,onRemoveCalendar:gt}),wt=function(){return Object(s["b"])(e,void 0,void 0,(function(){return Object(s["d"])(this,(function(e){return Object(c["provide"])(X,te),[2]}))}))};return wt(),Object(c["onMounted"])((function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,n;return Object(s["d"])(this,(function(r){return e=document.getElementById("calendar"),t=new ho["a"](e,{aspectRatio:19/8,plugins:[ko["a"],yo["b"],go["a"],Co["a"],wo["a"]],views:{filter:{type:"list"}},initialView:i.value?"filter":"dayGridMonth",timeZone:te.timezone,headerToolbar:!1,editable:!0,selectable:!0,dayMaxEvents:!0,slotDuration:"00:15:00",allDayText:"All day",slotLabelFormat:{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"lowercase"},select:Me,eventDragStart:rt,eventDrop:ct,eventResize:nt,eventResizeStart:Xe,eventClick:function(e){return ye(e.event)},viewClassNames:function(e){var t=e.view;return Ct.viewTitle=t.title,Ct.viewName=t.type,[]}}),Object(c["provide"])(ee,t),Object(c["provide"])(ne,q),V(t),Ze(),t.render(),n=Object(s["g"])(Object(s["g"])([],C.value.own),C.value.shared),t.batchRendering((function(){n.forEach((function(e){e.show&&t.addEventSource(Object(s["a"])(Object(s["a"])({},e),{events:[]}))}))})),[2]}))}))})),{isEventSelected:Object(c["computed"])((function(){return!!Object.keys(q.event).length})),isLoading:Y,showRecurrenceSelect:de,isCalendarOwn:w,sources:N,settings:te,currentData:q,calendarToolbar:Ct,calendarFormData:st,sourcesToRender:C,writeEvent:Ve,onCreateNewCalendar:ft,onCancelNewCalendar:vt,eventAction:ue,eventToForm:J,editRecurringType:le,selectedSource:R,state:Q,onAfterCloseModal:_e,refFormEvent:Z,modal:ie,modalActionTitle:se,isRecurringEvent:L,hideCurrentItem:pe,hideFollowingCheckItem:he,handleDeleteEvents:Ue,onConfirmEditEvent:Ie,restartRecurringEventPosition:dt,handleUpdateRecurringMouseActions:Ke,onClickDeleteEvent:Ge}}});n("d77c");Eo.render=O;var To,So,No=Eo;(function(e){e["PRIMA_TOKEN"]="x-prima-access-token",e["CALENDAR_TOKEN"]="authorization"})(To||(To={})),function(e){e["TOKEN"]="x-access-token"}(So||(So={}));var xo=Object(c["defineComponent"])({name:"App",components:{Calendar:No},setup:function(){var e=this,t=Xn(),n=t.setWhoami,r=t.setUsers,a=sn(),i=a.isLoading,l=a.setAwaitLoading,u=rr().setSources,d=tr(),f=d.activeModeFilter,b=d.setFilterData,v=d.setContactData,m=d.isModeFilter,O=d.contactData,p=d.setCasesInCache,j=d.setContactInCache,h=Object(c["ref"])("active"),y=Object(c["ref"])(!1),g=Object(c["ref"])(!1),C=function(e,t){return t.some((function(t){return t.userId===e}))},w=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,t,a,c,i,d,f,b,v;return Object(s["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,5,6]),l(!0),[4,o.getCalendars()];case 1:return e=s.sent(),t=e.calendars,a=e.whoami,c=e.users,n(a),r(c),C(a.id,t)?[3,3]:[4,Promise.all([o.createCalendar({name:"Personal",isDefault:!0,color:_t.Blush}),o.createCalendar({name:"To Do",isDefault:!1,color:_t.LapisLazuli}),o.createCalendar({name:"Appointments",isDefault:!1,color:_t.ForestGreenCrayola})])];case 2:i=s.sent(),d=i[0],f=i[1],b=i[2],t.unshift(d),t.push(f,b),s.label=3;case 3:return u(t,m.value),y.value=!0,[3,6];case 4:return v=s.sent(),console.error(v),g.value=!0,[3,6];case 5:return l(!1),[7];case 6:return[2]}}))}))},k=function(t){return Object(s["b"])(e,void 0,void 0,(function(){var e,n,r,a,o,c;return Object(s["d"])(this,(function(i){if(e=t.searchParams.get("modal-bg"),n=t.searchParams.get("mode"),h.value=e&&["active","blank"].includes(e)?e:"active","filter"===n){if(r=t.searchParams.get("contact"),a=t.searchParams.get("case"),!a&&!r)throw new Error('[Filter Mode]: The params "contact" or "case" are required!');if(a&&!r)throw new Error('[Filter Mode]: The param "contact" is required');if(isNaN(r)||a&&isNaN(a))throw new Error('[Filter Mode]: The params "contact" and "case" should be a numbers!');f(!0),o=a?"caseId":"contactId",c="caseId"===o?a:r,b(o,Number(c)),v({id:Number(r),caseId:Number(a)})}return[2]}))}))},E=function(){return Object(s["b"])(e,void 0,void 0,(function(){var e,t,n,r,a,o,c,i,l;return Object(s["d"])(this,(function(u){switch(u.label){case 0:return e=new URL(window.location.href),k(e),t=e.searchParams.get("base-url"),n=e.searchParams.get("token"),t&&Mn.setBaseURL(t),n?(Mn.setToken((l={},l[So.TOKEN]=n,l)),w(),m.value?(r=!!O.value.caseId,[4,$r.search({filter:[{field:"id",value:O.value.id}]},r)]):[2]):(g.value=!0,[2]);case 1:if(a=u.sent()[0],!a)throw new Error("Contact not found");return o=a.cases,c=void 0===o?[]:o,i=Object(s["f"])(a,["cases"]),p(c),j(i),[2]}}))}))};return Object(c["onMounted"])((function(){"blank"===h.value&&document.body.classList.add("blank-modal")})),E(),{showCalendar:y,isLoading:i,hasError:g}}});n("01c8");xo.render=d;var Vo=xo,Mo=(n("83d1"),n("5023")),Do=n.n(Mo),Ao=(n("4df9"),n("76b8")),Io=n.n(Ao),Bo=(n("0d3a"),n("e3db")),_o=n.n(Bo),Go=(n("1103"),n("1d802")),Po=n.n(Go),Ro=(n("26eb"),n("880b")),Fo=n.n(Ro),Lo=(n("e70f"),n("f0d4")),zo=n.n(Lo),qo=(n("4650"),n("d4df")),Uo=n.n(qo),$o=(n("3727"),n("0c06")),Yo=n.n($o),Wo=(n("3da4"),n("53dc")),Ho=n.n(Wo),Ko=(n("3af2"),n("ec45")),Zo=n.n(Ko),Jo=(n("1aa8"),n("afdf")),Qo=n.n(Jo),Xo=(n("3a13"),n("edb7")),ec=n.n(Xo),tc=(n("c3fe"),n("257f")),nc=n.n(tc),rc=(n("57bd"),n("fed8")),ac=n.n(rc),oc=(n("04e9"),n("92df")),cc=n.n(oc),ic=(n("5f01"),n("8f58")),lc=n.n(ic),uc=(n("7f68"),n("c05c")),dc=n.n(uc),sc=(n("2a74"),n("7531")),fc=n.n(sc),bc=(n("d40c"),n("c80d")),vc=n.n(bc),mc=(n("dab2"),n("4796")),Oc=n.n(mc),pc=(n("396c"),n("f71e")),jc=n.n(pc),hc=(n("956a"),n("a086")),yc=n.n(hc),gc=(n("12f2"),n("949f")),Cc=n.n(gc),wc=(n("c1e0"),n("57df")),kc=n.n(wc),Ec=(n("104d"),n("c4c6")),Tc=n.n(Ec),Sc=[Tc.a,kc.a,Cc.a,yc.a,jc.a,Oc.a,vc.a,fc.a,dc.a,lc.a,cc.a,ac.a,nc.a,ec.a,Qo.a,Zo.a,Ho.a,Yo.a,Uo.a,zo.a,Fo.a,Po.a,_o.a,Io.a,Do.a],Nc=function(e){Sc.forEach((function(t){return e.use(t)}))},xc=(n("c1c3"),Object(c["createApp"])(Vo));Nc(xc),xc.mount("#app")},cfc6:function(e,t,n){"use strict";n("0b8e")},d77c:function(e,t,n){"use strict";n("b4ed")},e795:function(e,t,n){}});
//# sourceMappingURL=app.e5c9df8c.js.map